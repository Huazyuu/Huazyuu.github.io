<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>0X10Plan</title>
    <url>/2023/09/02/0X10Plan/</url>
    <content><![CDATA[<p>ğŸ’®Learn Graph algorithm<br>ğŸ’®Gin and Gorm<br>ğŸ’®OS two chapters<br>ğŸ’®Golang related books<br>ğŸ’®Running more than three days<br>ğŸ’®Leetcode one easy of middle problem per day<br>ğŸ’®Daily learning outcomes are clocked into the Markdown document</p>
]]></content>
      <categories>
        <category>Planing</category>
      </categories>
      <tags>
        <tag>Planing</tag>
      </tags>
  </entry>
  <entry>
    <title>Graph-LC200</title>
    <url>/2023/09/02/Graph-LC200/</url>
    <content><![CDATA[<h1 id="Leetcode-200-dfs-and-bfs"><a href="#Leetcode-200-dfs-and-bfs" class="headerlink" title="Leetcode 200-dfs and bfs"></a>Leetcode 200-<code>dfs</code> and <code>bfs</code></h1><h2 id="Number-of-Islands"><a href="#Number-of-Islands" class="headerlink" title="Number of Islands"></a><a href="https://leetcode.cn/problems/number-of-islands/">Number of Islands</a></h2><p>Given an <code>m x n</code> 2D binary <code>grid</code> which represents a map of <code>1</code> (land) and <code>0</code> (water), return <em>the number of islands</em>.</p>
<p>An <strong>island</strong> is surrounded by water and is formed by connecting adjacent(é‚»è¿‘çš„) lands horizontally(æ°´å¹³) or vertically(å‚ç›´). You may assume all four edges of the grid are all surrounded by water.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line">Input: grid = [</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;]</span><br><span class="line">]</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line">Input: grid = [</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;]</span><br><span class="line">]</span><br><span class="line">Output: 3 </span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == grid.length</code></li>
<li><code>n == grid[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 300</code></li>
<li><code>grid[i][j]</code> is <code>&#39;0&#39;</code> or <code>&#39;1&#39;</code>.</li>
</ul>
<h2 id="resolution"><a href="#resolution" class="headerlink" title="resolution"></a>resolution</h2><h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a><strong><code>DFS</code></strong></h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// 200  2023-09-02 20:21:35</span></span><br><span class="line"><span class="comment">// leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">numIslands</span><span class="params">(grid [][]<span class="type">byte</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	n, m := <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">	visied := <span class="built_in">make</span>([][]<span class="type">bool</span>, n)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> visied &#123;</span><br><span class="line">		visied[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, m)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// four directions</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		&#123;0, 1&#125;  to right: col+1</span></span><br><span class="line"><span class="comment">		&#123;1, 0&#125; 	to down: row+1</span></span><br><span class="line"><span class="comment">		&#123;-1, 0&#125;	to up: row-1ã€‚</span></span><br><span class="line"><span class="comment">		&#123;0, -1&#125; to left: col-1</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">var</span> dir = [<span class="number">4</span>][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//dfs function</span></span><br><span class="line">	<span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span></span><br><span class="line">	dfs = <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">		<span class="comment">// has been visited or the point is ocean</span></span><br><span class="line">		<span class="keyword">if</span> visied[x][y]==<span class="literal">true</span> || grid[x][y] == <span class="string">&#x27;0&#x27;</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// has been visited</span></span><br><span class="line">		visied[x][y] = <span class="literal">true</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">			<span class="comment">//right down up left</span></span><br><span class="line">			nextX := x + dir[i][<span class="number">0</span>]</span><br><span class="line">			nextY := y + dir[i][<span class="number">1</span>]</span><br><span class="line">			<span class="keyword">if</span> nextX &lt; <span class="number">0</span> || nextX &gt;= n || nextY &lt; <span class="number">0</span> || nextY &gt;= m &#123;</span><br><span class="line">				<span class="keyword">continue</span></span><br><span class="line">			&#125;</span><br><span class="line">			dfs(nextX, nextY)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ret := <span class="number">0</span></span><br><span class="line">	<span class="comment">// traverse the grip</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; m; j++ &#123;</span><br><span class="line">			<span class="comment">//this point is not visited and is land</span></span><br><span class="line">			<span class="keyword">if</span> visied[i][j]==<span class="literal">false</span> &amp;&amp; grid[i][j] == <span class="string">&#x27;1&#x27;</span> &#123;</span><br><span class="line">				ret++</span><br><span class="line">				<span class="comment">//from this point tarvers all linked land</span></span><br><span class="line">				dfs(i, j)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br></pre></td></tr></table></figure>

<h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a><strong><code>BFS</code></strong></h3><p>ues queue</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;container/list&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 200  2023-09-02 20:21:35</span></span><br><span class="line"><span class="comment">// leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">numIslands</span><span class="params">(grid [][]<span class="type">byte</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	n, m := <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">	visited := <span class="built_in">make</span>([][]<span class="type">bool</span>, n)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> visited &#123;</span><br><span class="line">		visited[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, m)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> dir = [<span class="number">4</span>][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> bfs <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span></span><br><span class="line">	bfs = <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">		que := list.New()</span><br><span class="line">		que.PushBack([<span class="number">2</span>]<span class="type">int</span>&#123;x, y&#125;)</span><br><span class="line">		visited[x][y] = <span class="literal">true</span></span><br><span class="line">		<span class="keyword">for</span> que.Len() != <span class="number">0</span> &#123;</span><br><span class="line">			cur := que.Remove(que.Front()).([<span class="number">2</span>]<span class="type">int</span>)</span><br><span class="line">			curx, cury := cur[<span class="number">0</span>], cur[<span class="number">1</span>]</span><br><span class="line">			<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">				nextX := curx + dir[i][<span class="number">0</span>]</span><br><span class="line">				nextY := cury + dir[i][<span class="number">1</span>]</span><br><span class="line">				<span class="keyword">if</span> nextX &lt; <span class="number">0</span> || nextX &gt;= n || nextY &lt; <span class="number">0</span> || nextY &gt;= m &#123;</span><br><span class="line">					<span class="keyword">continue</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> visited[nextX][nextY] == <span class="literal">false</span> &amp;&amp; grid[nextX][nextY] == <span class="string">&#x27;1&#x27;</span> &#123;</span><br><span class="line">					que.PushBack([<span class="number">2</span>]<span class="type">int</span>&#123;nextX, nextY&#125;)</span><br><span class="line">					visited[nextX][nextY] = <span class="literal">true</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ret := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; m; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> visited[i][j] == <span class="literal">false</span> &amp;&amp; grid[i][j] == <span class="string">&#x27;1&#x27;</span> &#123;</span><br><span class="line">				ret++</span><br><span class="line">				bfs(i, j)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>dfs</tag>
        <tag>bfs</tag>
      </tags>
  </entry>
  <entry>
    <title>Graph-bfs</title>
    <url>/2023/09/02/Graph-bfs/</url>
    <content><![CDATA[<h1 id="BreadthFirstSearch"><a href="#BreadthFirstSearch" class="headerlink" title="BreadthFirstSearch"></a>BreadthFirstSearch</h1><h2 id="Quote-and-translate-from-Code-Caprice"><a href="#Quote-and-translate-from-Code-Caprice" class="headerlink" title="Quote and translate from  Code Caprice"></a>Quote and translate from  <em><strong><a href="https://programmercarl.com/">Code Caprice</a></strong></em></h2><p>BFS is always used to solve the shortest path problem between two vertices.<br>BFS starts from the starting vertex, the starting vertexis the center of the circle of search,<br>once the end point is encountered, the record of the previous node is the shortest road.</p>
<span id="more"></span>

<h2 id="The-process-of-BFS"><a href="#The-process-of-BFS" class="headerlink" title="The process of BFS"></a>The process of BFS</h2><p>BFS is a round-by-circle search process<br>using a square map,each direction of search is <code>up/down/right/left</code><br>then a start location is given,so BFS can take a step to the four directions</p>
<p><img src="/./../pic/Graph-bfs/image-20230902144715129.png" alt="image-20230902144715129"></p>
<p>Now set an <code>end</code> location,the process of <code>BFS</code> is following<br>From the start vertex,search circle by circle and inside out<br>the first step is the vertex holding <code>1</code><br>the second step is the vertex holding <code>2</code><br>when stepNum is <code>4</code>,has found the <code>end</code></p>
<p><img src="/./../pic/Graph-bfs/image-20230902144812331.png" alt="image-20230902144812331"></p>
<p>The way BFS traverses round by circle,<br>so once it encounters the <code>end</code> point, it must be the shortest path.<br>And the map can also have obstacles, as shown in the image:</p>
<p><img src="/./../pic/Graph-bfs/image-20230902150649652.png" alt="image-20230902150649652"></p>
<p>In the <code>5th</code> step, the <code>6th</code> step only dyed the key nodes<br>and the other directions did not dye<br>only needs to pay attention to the logic of dyeing in key places<br>As we can see from the pic, if obstacles are added,<br>the <code>6th</code> step to reach the end </p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>Based on LinkedList</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bfs</span><span class="params">(grid [][]<span class="type">byte</span>, visited [][]<span class="type">bool</span>, x <span class="type">int</span>, y <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">// grid --&gt;map</span></span><br><span class="line">    <span class="comment">// vistied --&gt; value has been traverse</span></span><br><span class="line">    <span class="comment">// x,y --&gt; the start SearchNode&#x27;s index </span></span><br><span class="line">    <span class="comment">// Representing four directions (up left down right)</span></span><br><span class="line">	dir := [<span class="number">4</span>][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">	queue := <span class="built_in">make</span>([][<span class="number">2</span>]<span class="type">int</span>, <span class="number">0</span>)          <span class="comment">// Define a queue</span></span><br><span class="line">	queue = <span class="built_in">append</span>(queue, [<span class="number">2</span>]<span class="type">int</span>&#123;x, y&#125;) <span class="comment">// Add the starting node to the queue</span></span><br><span class="line">	visited[x][y] = <span class="literal">true</span>                <span class="comment">// Mark the starting visitednode</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Start traversing elements in the queue</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(queue) &gt; <span class="number">0</span> &#123; </span><br><span class="line">		cur := queue[<span class="number">0</span>]</span><br><span class="line">		queue = queue[<span class="number">1</span>:]            <span class="comment">// get an element from the queue</span></span><br><span class="line">		curx, cury := cur[<span class="number">0</span>], cur[<span class="number">1</span>] <span class="comment">// Current node coordinates</span></span><br><span class="line">		</span><br><span class="line">        <span class="comment">// Start traversing in four directions - left, right, up, and down</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123; </span><br><span class="line">            <span class="comment">// Get coordinates of the adjacent nodes</span></span><br><span class="line">			nextx := curx + dir[i][<span class="number">0</span>]</span><br><span class="line">			nexty := cury + dir[i][<span class="number">1</span>] </span><br><span class="line">            </span><br><span class="line">            <span class="comment">// Skip if the coordinate indexs are out of bounds</span></span><br><span class="line">			<span class="keyword">if</span> nextx &lt; <span class="number">0</span> || nextx &gt;= <span class="built_in">len</span>(grid) || nexty &lt; <span class="number">0</span> || nexty &gt;= <span class="built_in">len</span>(grid[<span class="number">0</span>]) &#123;</span><br><span class="line">				<span class="keyword">continue</span> </span><br><span class="line">			&#125;</span><br><span class="line">            </span><br><span class="line">			<span class="comment">// If the node hasn&#x27;t been visited</span></span><br><span class="line">			<span class="keyword">if</span> !visited[nextx][nexty] &#123; </span><br><span class="line">                <span class="comment">// Add the node to the queue for the next round of traversal</span></span><br><span class="line">				queue = <span class="built_in">append</span>(queue, [<span class="number">2</span>]<span class="type">int</span>&#123;nextx, nexty&#125;) </span><br><span class="line">                <span class="comment">// Mark it as visited immediately to avoid duplicates</span></span><br><span class="line">				visited[nextx][nexty] = <span class="literal">true</span>                </span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>bfs</tag>
      </tags>
  </entry>
  <entry>
    <title>GraphDfs-LC797</title>
    <url>/2023/09/02/GraphDfs-LC797/</url>
    <content><![CDATA[<h1 id="Leetcode-797"><a href="#Leetcode-797" class="headerlink" title="Leetcode-797"></a>Leetcode-797</h1><p><strong>ç»™ä½ ä¸€ä¸ªæœ‰ <code>n</code> ä¸ªèŠ‚ç‚¹çš„ æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰ä»èŠ‚ç‚¹ <code>0</code> åˆ°èŠ‚ç‚¹ <code>n-1</code> çš„è·¯å¾„å¹¶è¾“å‡ºï¼ˆä¸è¦æ±‚æŒ‰ç‰¹å®šé¡ºåºï¼‰</strong><br>Given a directed acyclic graph (DAG) of <strong>n</strong> nodes labeled from <strong>0</strong> to <strong>n - 1</strong>,<br>find all possible paths from node <strong>0</strong> to node <strong>n - 1</strong> and return them in <strong>any order</strong>.</p>
<p><strong><code>graph[i]</code> æ˜¯ä¸€ä¸ªä»èŠ‚ç‚¹ <code>i</code> å¯ä»¥è®¿é—®çš„æ‰€æœ‰èŠ‚ç‚¹çš„åˆ—è¡¨ï¼ˆå³ä»èŠ‚ç‚¹ <code>i</code> åˆ°èŠ‚ç‚¹ <code>graph[i][j]</code>å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ï¼‰ã€‚</strong><br>The graph is given as follows: <code>graph[i]</code> is a list of all nodes you can visit from node <code>i</code><br>(i.e., there is a directed edge from node <code>i</code> to node <code>graph[i][j]</code>).</p>
<span id="more"></span>

<p><strong>Example 1</strong></p>
<p><img src="/./../pic/GraphDfs-LC797/image-20230902111802810.png" alt="image-20230902111802810"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: graph = [[1,2],[3],[3],[]]</span><br><span class="line">Output: [[0,1,3],[0,2,3]]</span><br><span class="line">Explanation: There are two paths: 0 -&gt; 1 -&gt; 3 and 0 -&gt; 2 -&gt; 3.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2</strong></p>
<p><img src="/./../pic/GraphDfs-LC797/image-20230902112111869.png" alt="image-20230902112111869"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: graph = [[4,3,1],[3,2,4],[3],[4],[]]</span><br><span class="line">Output: [[0,4],[0,3,4],[0,1,3,4],[0,1,2,3,4],[0,1,4]]</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>n == graph.length</code></li>
<li><code>2 &lt;= n &lt;= 15</code></li>
<li><code>0 &lt;= graph[i][j] &lt; n</code></li>
<li><code>graph[i][j] != i</code> (i.e., there will be no self-loops).</li>
<li>All the elements of <code>graph[i]</code> are <strong>unique</strong>.</li>
<li>The input graph is <strong>guaranteed</strong> to be a <strong>DAG</strong>.</li>
</ul>
<p><strong>Resolution</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// 797  2023-09-02 11:15:28</span></span><br><span class="line"><span class="comment">// leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">allPathsSourceTarget</span><span class="params">(graph [][]<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> ret [][]<span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> path []<span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span></span><br><span class="line">	dfs = <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">if</span> x == <span class="built_in">len</span>(graph)<span class="number">-1</span> &#123;</span><br><span class="line">			<span class="comment">// get a path</span></span><br><span class="line">			tmp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(path))</span><br><span class="line">			<span class="built_in">copy</span>(tmp, path)</span><br><span class="line">			ret = <span class="built_in">append</span>(ret, tmp)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//find the nodeX link all nodes</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(graph[x]); i++ &#123;</span><br><span class="line">			<span class="comment">// add to path</span></span><br><span class="line">			path = <span class="built_in">append</span>(path, graph[x][i])</span><br><span class="line">			dfs(graph[x][i])</span><br><span class="line">			<span class="comment">// traverse</span></span><br><span class="line">			path = path[:<span class="built_in">len</span>(path)<span class="number">-1</span>]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	path = <span class="built_in">append</span>(path, <span class="number">0</span>)</span><br><span class="line">	dfs(<span class="number">0</span>)</span><br><span class="line">	<span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>dfs</tag>
      </tags>
  </entry>
  <entry>
    <title>Graph-dfs</title>
    <url>/2023/09/02/Graph-dfs/</url>
    <content><![CDATA[<h1 id="DepthFirstSearch"><a href="#DepthFirstSearch" class="headerlink" title="DepthFirstSearch"></a>DepthFirstSearch</h1><h2 id="Quote-and-translate-from-Code-Caprice"><a href="#Quote-and-translate-from-Code-Caprice" class="headerlink" title="Quote and translate from  Code Caprice"></a>Quote and translate from  <em><strong><a href="https://programmercarl.com/">Code Caprice</a></strong></em></h2><p><strong>A</strong> undirected graph that we want to search all pths form <code>vertex1</code> to <code>vertex6</code></p>
<p><img src="/./../pic/Graph-dfs/image01.png" alt="image-20230902105209987"></p>
<span id="more"></span>

<p><strong>T</strong>hen the first path of DFS search looks like this:<br>Assuming that the first time you extend the default direction, you find <code>vertex6</code></p>
<p><img src="/./../pic/Graph-dfs/image-20230902105329872.png" alt="image-20230902105329872"></p>
<p><strong>A</strong>t this time, we found <code>vertex6</code>, then we should search for other directions<br>so <code>Path2</code> reversed, changed direction, took <code>path3</code><br>and then also found the end <code>vertex6</code>. Then reversing <code>path2</code> and<br> changing it to <code>path3</code> is  the process of backtracking in DFS </p>
<p><img src="/./../pic/Graph-dfs/image-20230902105518919.png" alt="image-20230902105518919"></p>
<p><strong>F</strong>ind a path from <code>vertex1</code> to <code>vertex</code>6,<br>and then to the direction, and then turned back,<br> <code>path4</code> was withdrawn (the process of backtracking) and changed to <code>path5</code>.</p>
<p><img src="/./../pic/Graph-dfs/image-20230902110148371.png" alt="image-20230902110148371"></p>
<p><strong>F</strong>ind a path from <code>vertex1</code> to <code>vertex6</code>,<br>and then to the direction, at this time turned back,<br><code>path6</code> was undone (the process of backtracking),<br>changed to <code>path7</code>, <code>path8</code> and <code>path7</code>, <code>path9</code>,<br>and found that there was a dead end, all of which came to the node they walked.</p>
<p><img src="/./../pic/Graph-dfs/image-20230902110506611.png" alt="image-20230902110506611"></p>
<p><strong>T</strong>hen the path connected by <code>vertex2</code> and the path linked by <code>vertex3</code> have passed,<br>and the undo path can only be reversed upwards to choose to cancel the original choice of <code>vertex4</code>,<br>that is, cancel <code>path5</code> and change it to <code>path10</code></p>
<p><img src="/./../pic/Graph-dfs/image-20230902110709419.png" alt="image-20230902110709419"></p>
]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>dfs</tag>
      </tags>
  </entry>
  <entry>
    <title>Graph-Search</title>
    <url>/2023/09/02/Graph03-Traverse/</url>
    <content><![CDATA[<h1 id="Search-Graph"><a href="#Search-Graph" class="headerlink" title="Search  Graph"></a>Search  Graph</h1><p>To traverse a graph ,we always hold <code>DepthFirstSearch(dfs)</code>and <code>BreadthFirstSearch(bfs)</code></p>
<p><code>dfs</code>: Search in one direction, until can not search, and then change direction<br>        the process of changing direction involves backtracking</p>
<p><code>bfs</code>: Traverse all  vertices connected by this vertex,<br>         and when you go to the next vertex then traverse all the vertices connected to the vertex,<br>         and the search direction is more like a breadth, a search process in all directions.</p>
]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>dfs</tag>
        <tag>bfs</tag>
      </tags>
  </entry>
  <entry>
    <title>9.2leetcode2511</title>
    <url>/2023/09/02/leetcode9-2/</url>
    <content><![CDATA[<p>You are given a <strong>0-indexed</strong> integer array <code>forts</code> of length <code>n</code> representing the positions of several forts. <code>forts[i]</code> can be <code>-1</code>, <code>0</code>, or <code>1</code> where:</p>
<ul>
<li><code>-1</code> represents there is <strong>no fort</strong> at the <code>ith</code> position.</li>
<li><code>0</code> indicates there is an <strong>enemy</strong> fort at the <code>ith</code> position.</li>
<li><code>1</code> indicates the fort at the <code>ith</code> the position is under your command.</li>
</ul>
<p>Now you have decided to move your army from one of your forts at position <code>i</code> to an empty position <code>j</code> such that:</p>
<ul>
<li><code>0 &lt;= i, j &lt;= n - 1</code></li>
<li>The army travels over enemy forts <strong>only</strong>. Formally, for all <code>k</code> where <code>min(i,j) &lt; k &lt; max(i,j)</code>, <code>forts[k] == 0.</code></li>
</ul>
<p>While moving the army, all the enemy forts that come in the way are <strong>captured</strong>.</p>
<p>Return <em>the <strong>maximum</strong> number of enemy forts that can be captured</em>. In case it is <strong>impossible</strong> to move your army, or you do not have any fort under your command, return <code>0</code><em>.</em></p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: forts = [1,0,0,-1,0,0,0,0,1]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation:</span><br><span class="line">- Moving the army from position 0 to position 3 captures 2 enemy forts, at 1 and 2.</span><br><span class="line">- Moving the army from position 8 to position 3 captures 4 enemy forts.</span><br><span class="line">Since 4 is the maximum number of enemy forts that can be captured, we return 4.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: forts = [0,0,1,-1]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: Since no enemy fort can be captured, 0 is returned.</span><br></pre></td></tr></table></figure>



<span id="more"></span>

<p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> ï¼Œä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>forts</code> ï¼Œè¡¨ç¤ºä¸€äº›åŸå ¡ã€‚<code>forts[i]</code> å¯ä»¥æ˜¯ <code>-1</code> ï¼Œ<code>0</code> æˆ–è€… <code>1</code> ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li><code>-1</code> è¡¨ç¤ºç¬¬ <code>i</code> ä¸ªä½ç½® <strong>æ²¡æœ‰</strong> åŸå ¡ã€‚</li>
<li><code>0</code> è¡¨ç¤ºç¬¬ <code>i</code> ä¸ªä½ç½®æœ‰ä¸€ä¸ª <strong>æ•Œäºº</strong> çš„åŸå ¡ã€‚</li>
<li><code>1</code> è¡¨ç¤ºç¬¬ <code>i</code> ä¸ªä½ç½®æœ‰ä¸€ä¸ªä½ æ§åˆ¶çš„åŸå ¡ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œä½ éœ€è¦å†³å®šï¼Œå°†ä½ çš„å†›é˜Ÿä»æŸä¸ªä½ æ§åˆ¶çš„åŸå ¡ä½ç½® <code>i</code> ç§»åŠ¨åˆ°ä¸€ä¸ªç©ºçš„ä½ç½® <code>j</code> ï¼Œæ»¡è¶³ï¼š</p>
<ul>
<li><code>0 &lt;= i, j &lt;= n - 1</code></li>
<li>å†›é˜Ÿç»è¿‡çš„ä½ç½® <strong>åªæœ‰</strong> æ•Œäººçš„åŸå ¡ã€‚æ­£å¼çš„ï¼Œå¯¹äºæ‰€æœ‰ <code>min(i,j) &lt; k &lt; max(i,j)</code> çš„ <code>k</code> ï¼Œéƒ½æ»¡è¶³ <code>forts[k] == 0</code> ã€‚</li>
</ul>
<p>å½“å†›é˜Ÿç§»åŠ¨æ—¶ï¼Œæ‰€æœ‰é€”ä¸­ç»è¿‡çš„æ•ŒäººåŸå ¡éƒ½ä¼šè¢« <strong>æ‘§æ¯</strong> ã€‚</p>
<p><strong>Resolution</strong></p>
<p>è®¡ç®—-1å’Œ1ä¹‹é—´å…¨æ˜¯0æƒ…å†µä¸‹æœ€å¤§çš„0çš„æ•°é‡</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;math&quot;</span></span><br><span class="line"><span class="comment">// 2511  2023-09-02 00:02:31</span></span><br><span class="line"><span class="comment">// leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">captureForts</span><span class="params">(forts []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	pre := math.MinInt <span class="comment">//pre non-0 element</span></span><br><span class="line">	ret := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> idx, val := <span class="keyword">range</span> forts &#123;</span><br><span class="line">		<span class="keyword">if</span> val != <span class="number">0</span> &#123;</span><br><span class="line">			<span class="comment">//The subscript of the current non-0 element is idx, </span></span><br><span class="line">			<span class="comment">//and the subscript of the previous non-0 element is pre</span></span><br><span class="line">			<span class="comment">//forts[i] != forts[pre] means one is -1 and another is 1</span></span><br><span class="line">			<span class="keyword">if</span> pre &gt;= <span class="number">0</span> &amp;&amp; forts[idx] != forts[pre] &#123;</span><br><span class="line">				ret = max(ret, idx-pre<span class="number">-1</span>)</span><br><span class="line">			&#125;</span><br><span class="line">			pre = idx</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;<span class="keyword">if</span> b &gt; a &#123;<span class="keyword">return</span> b&#125;;<span class="keyword">return</span> a&#125;</span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Traverse</tag>
      </tags>
  </entry>
  <entry>
    <title>Graph-The basic operation of Graph</title>
    <url>/2023/09/01/Graph02/</url>
    <content><![CDATA[<h1 id="The-basic-operation-of-Graph"><a href="#The-basic-operation-of-Graph" class="headerlink" title="The basic operation of Graph"></a>The basic operation of Graph</h1><p>This Blog   use <strong>adjacency matrices</strong> and <strong>adjacency list</strong> to implement <strong>Graph</strong> in <code>Golang</code></p>
<span id="more"></span>

<h2 id="Adjacency-matrices"><a href="#Adjacency-matrices" class="headerlink" title="Adjacency matrices"></a><strong>Adjacency matrices</strong></h2><p>vertices <code>n</code>  non-direction Graph</p>
<ul>
<li><strong>Add&#x2F;Remove Edges</strong>ï¼šindirectly  revise dege in <strong>adjacency matrices</strong> ï¼ŒO(1)&#96; time-complexity</li>
<li><strong>Add Vertex</strong>ï¼šAdd a row and column at the end of the adjacency matrix and fill in all <code>0</code>, using the <code>O(n)</code> time-complexity.</li>
<li><strong>Remove Vertex</strong>ï¼šDelete a row and a column in the adjacency matrix. When the worst-case scenario is reached when the first row and column are removed, <strong>the (n-1)^2</strong> element needs to be â€œmoved up leftâ€ to use the **O(n^2)**time.</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// adjacency matrices implement Non-direcionGraph</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// graphArray</span></span><br><span class="line"><span class="keyword">type</span> graphArray <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">//verticesList</span></span><br><span class="line">	vertices []<span class="type">int</span></span><br><span class="line">	<span class="comment">//matrices</span></span><br><span class="line">	adjMat [][]<span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// newGraphArray Function of construction</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newGraphArray</span><span class="params">(vertices []<span class="type">int</span>, edges [][]<span class="type">int</span>)</span></span> *graphArray &#123;</span><br><span class="line">	<span class="comment">// construct matrices</span></span><br><span class="line">	n := <span class="built_in">len</span>(vertices)</span><br><span class="line">	adjMat := <span class="built_in">make</span>([][]<span class="type">int</span>, n)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> adjMat &#123;</span><br><span class="line">		adjMat[i] = <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// initialize the graph</span></span><br><span class="line">	g := &amp;graphArray&#123;</span><br><span class="line">		vertices: vertices,</span><br><span class="line">		adjMat:   adjMat,</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// add edges</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> edges &#123;</span><br><span class="line">		g.addEdge(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> g</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// size Nums of vertices</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphArray)</span></span> size() <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(g.vertices)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// addVertex Add a vertex</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphArray)</span></span> addVertex(val <span class="type">int</span>) &#123;</span><br><span class="line">	n := g.size()</span><br><span class="line">	<span class="comment">//append the new val to vertices list</span></span><br><span class="line">	g.vertices = <span class="built_in">append</span>(g.vertices, val)</span><br><span class="line">	<span class="comment">//add a new row</span></span><br><span class="line">	newRow := <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">	g.adjMat = <span class="built_in">append</span>(g.adjMat, newRow)</span><br><span class="line">	<span class="comment">//add a new col</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> g.adjMat &#123;</span><br><span class="line">		g.adjMat[i] = <span class="built_in">append</span>(g.adjMat[i], <span class="number">0</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// removeVertex Remove a vertex following its idx</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphArray)</span></span> removeVertex(idx <span class="type">int</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> idx &gt;= g.size() &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;index not exist,remove failed&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// remove vertex</span></span><br><span class="line">	g.vertices = <span class="built_in">append</span>(g.vertices[:idx], g.vertices[idx+<span class="number">1</span>:]...)</span><br><span class="line">	<span class="comment">// remove row</span></span><br><span class="line">	g.adjMat = <span class="built_in">append</span>(g.adjMat[:idx], g.adjMat[idx+<span class="number">1</span>:]...)</span><br><span class="line">	<span class="comment">// remove col</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> g.adjMat &#123;</span><br><span class="line">		g.adjMat[i] = <span class="built_in">append</span>(g.adjMat[i][:idx], g.adjMat[i][idx+<span class="number">1</span>:]...)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// addEdge Add a new edge</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphArray)</span></span> addEdge(i, j <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="comment">// idx is not right: i==j</span></span><br><span class="line">	<span class="keyword">if</span> i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= g.size() || j &gt;= g.size() || i == j &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;The index is out of bounds or two edges is coincident&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	g.adjMat[i][j] = <span class="number">1</span></span><br><span class="line">	g.adjMat[j][i] = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// removeEdge Remove a edge</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphArray)</span></span> removeEdge(i, j <span class="type">int</span>) &#123;</span><br><span class="line">	<span class="comment">// idx is not right: i==j</span></span><br><span class="line">	<span class="keyword">if</span> i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= g.size() || j &gt;= g.size() || i == j &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;The index is out of bounds or two edges is coincident&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	g.adjMat[i][j] = <span class="number">0</span></span><br><span class="line">	g.adjMat[j][i] = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// print </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphArray)</span></span> <span class="built_in">print</span>() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;\té¡¶ç‚¹åˆ—è¡¨%v\n&quot;</span>, g.vertices)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;\tçŸ©é˜µ\n&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> g.adjMat &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;\t\t%v\n&quot;</span>, g.adjMat[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// construct vertices list and edges</span></span><br><span class="line">	vertices := []<span class="type">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	edges := [][]<span class="type">int</span>&#123;</span><br><span class="line">		&#123;<span class="number">0</span>, <span class="number">1</span>&#125;,</span><br><span class="line">		&#123;<span class="number">0</span>, <span class="number">2</span>&#125;,</span><br><span class="line">		&#123;<span class="number">1</span>, <span class="number">2</span>&#125;,</span><br><span class="line">		&#123;<span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// construct graph</span></span><br><span class="line">	g := newGraphArray(vertices, edges)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// print init edge</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;åˆå§‹å›¾ï¼š&quot;</span>)</span><br><span class="line">	g.<span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// add new vertex and edge</span></span><br><span class="line">	g.addVertex(<span class="number">4</span>)</span><br><span class="line">	g.addEdge(<span class="number">4</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// print the new graph</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;\næ›´æ–°åçš„å›¾ï¼š&quot;</span>)</span><br><span class="line">	g.<span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// remove vertex and edge</span></span><br><span class="line">	g.removeVertex(<span class="number">2</span>)</span><br><span class="line">	<span class="comment">//g.removeEdge(0, 1)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// print </span></span><br><span class="line">	fmt.Println(<span class="string">&quot;\næœ€ç»ˆå›¾ï¼š&quot;</span>)</span><br><span class="line">	g.<span class="built_in">print</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go run main.go</span></span><br><span class="line"></span><br><span class="line">åˆå§‹å›¾ï¼š</span><br><span class="line">        é¡¶ç‚¹åˆ—è¡¨[0 1 2 3]</span><br><span class="line">        çŸ©é˜µ</span><br><span class="line">                [0 1 1 0]</span><br><span class="line">                [1 0 1 0]</span><br><span class="line">                [1 1 0 1]</span><br><span class="line">                [0 0 1 0]</span><br><span class="line"></span><br><span class="line">æ›´æ–°åçš„å›¾ï¼š</span><br><span class="line">        é¡¶ç‚¹åˆ—è¡¨[0 1 2 3 4]</span><br><span class="line">        çŸ©é˜µ</span><br><span class="line">                [0 1 1 0 0]</span><br><span class="line">                [1 0 1 0 1]</span><br><span class="line">                [1 1 0 1 0]</span><br><span class="line">                [0 0 1 0 0]</span><br><span class="line">                [0 1 0 0 0]</span><br><span class="line"></span><br><span class="line">æœ€ç»ˆå›¾ï¼š</span><br><span class="line">        é¡¶ç‚¹åˆ—è¡¨[0 1 3 4]</span><br><span class="line">        çŸ©é˜µ</span><br><span class="line">                [0 1 0 0]</span><br><span class="line">                [1 0 0 1]</span><br><span class="line">                [0 0 0 0]</span><br><span class="line">                [0 1 0 0]</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="Adjacency-list"><a href="#Adjacency-list" class="headerlink" title="Adjacency list"></a>Adjacency list</h2><p>non-direction verticesNums are <code>n</code>ã€edgeNums are <code>m</code> </p>
<ul>
<li><strong>Add edge</strong>ï¼šadd an edge to the end of the linked list of vertices,Because non-direction graph,<br>needing to add edges in both directions at the same time.</li>
<li><strong>Remove edge</strong>ï¼šFind and delete the specified edge in the vertex  linked list<br> In an non-direction graph, you need to delete edges in both directions at the same time.</li>
<li><strong>Add vertex</strong>ï¼šAdd a linked list to the adjacency list and add the new vertex as the linked list head node,</li>
<li><strong>Remove vertex</strong>ï¼šTraverse the entire adjacency list, remove all edges containing the specified vertices</li>
<li><strong>Initialize</strong>ï¼šCreate <code>m </code>vertices and <code>2m </code>edges  in the adjacency list</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">	Val <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// graphAdjList Based on adjacency list implement non-direction graph</span></span><br><span class="line"><span class="keyword">type</span> graphAdjList <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">// AdjList:key:Vertexï¼Œvalueï¼šAll adjacency vertices for that vertex</span></span><br><span class="line">    <span class="comment">//map key:Vertex value:[]Vertex</span></span><br><span class="line">	adjList <span class="keyword">map</span>[Vertex][]Vertex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// newGraphAdjList Construct</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newGraphAdjList</span><span class="params">(edges [][]Vertex)</span></span> *graphAdjList &#123;</span><br><span class="line">	g := &amp;graphAdjList&#123;</span><br><span class="line">		adjList: <span class="built_in">make</span>(<span class="keyword">map</span>[Vertex][]Vertex),</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// add all vertices and edges</span></span><br><span class="line">	<span class="keyword">for</span> _, edge := <span class="keyword">range</span> edges &#123;</span><br><span class="line">		g.addVertex(edge[<span class="number">0</span>])</span><br><span class="line">		g.addVertex(edge[<span class="number">1</span>])</span><br><span class="line">		g.addEdge(edge[<span class="number">0</span>], edge[<span class="number">1</span>])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> g</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// size Get the nums of vertices</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphAdjList)</span></span> size() <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(g.adjList)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// addEdge Add a new edge</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphAdjList)</span></span> addEdge(vet1 Vertex, vet2 Vertex) &#123;</span><br><span class="line">	_, ok1 := g.adjList[vet1]</span><br><span class="line">	_, ok2 := g.adjList[vet2]</span><br><span class="line">	<span class="keyword">if</span> !ok1 || !ok2 || vet1 == vet2 &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;adding false&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// add a edge vet1 - vet2</span></span><br><span class="line">	g.adjList[vet1] = <span class="built_in">append</span>(g.adjList[vet1], vet2)</span><br><span class="line">	g.adjList[vet2] = <span class="built_in">append</span>(g.adjList[vet2], vet1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// removeEdge Remove edge</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphAdjList)</span></span> removeEdge(vet1 Vertex, vet2 Vertex) &#123;</span><br><span class="line">	_, ok1 := g.adjList[vet1]</span><br><span class="line">	_, ok2 := g.adjList[vet2]</span><br><span class="line">	<span class="keyword">if</span> !ok1 || !ok2 || vet1 == vet2 &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// remove vet1 - vet2</span></span><br><span class="line">	g.adjList[vet1] = DeleteSliceElms(g.adjList[vet1], vet2)</span><br><span class="line">	g.adjList[vet2] = DeleteSliceElms(g.adjList[vet2], vet1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// addVertex Add a new vertex</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphAdjList)</span></span> addVertex(vet Vertex) &#123;</span><br><span class="line">	_, ok := g.adjList[vet]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// add a new linked list to the adjacency list</span></span><br><span class="line">	g.adjList[vet] = <span class="built_in">make</span>([]Vertex, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// removeVertex Remove vertex</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphAdjList)</span></span> removeVertex(vet Vertex) &#123;</span><br><span class="line">	_, ok := g.adjList[vet]</span><br><span class="line">	<span class="keyword">if</span> !ok &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">// delete the vertex(vet) corresponding list in adjList</span></span><br><span class="line">	<span class="built_in">delete</span>(g.adjList, vet)</span><br><span class="line">	<span class="comment">// traverse other vertices corresponding edgesï¼Œremove the edges contained in vets</span></span><br><span class="line">	<span class="keyword">for</span> v, list := <span class="keyword">range</span> g.adjList &#123;</span><br><span class="line">		g.adjList[v] = DeleteSliceElms(list, vet)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// print </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *graphAdjList)</span></span> <span class="built_in">print</span>() &#123;</span><br><span class="line">	<span class="keyword">var</span> builder strings.Builder</span><br><span class="line">	fmt.Printf(<span class="string">&quot;é‚»æ¥è¡¨ = \n&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> g.adjList &#123;</span><br><span class="line">		builder.WriteString(<span class="string">&quot;\t\t&quot;</span> + strconv.Itoa(k.Val) + <span class="string">&quot;: &quot;</span>)</span><br><span class="line">		<span class="keyword">for</span> _, vet := <span class="keyword">range</span> v &#123;</span><br><span class="line">			builder.WriteString(strconv.Itoa(vet.Val) + <span class="string">&quot; &quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(builder.String())</span><br><span class="line">		builder.Reset()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// DeleteSliceElms Delete a specific slice element</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DeleteSliceElms</span><span class="params">(slice []Vertex, val Vertex)</span></span> []Vertex &#123;</span><br><span class="line">	<span class="keyword">var</span> result []Vertex</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> slice &#123;</span><br><span class="line">		<span class="keyword">if</span> v != val &#123;</span><br><span class="line">			result = <span class="built_in">append</span>(result, v)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	vet1 := Vertex&#123;<span class="number">1</span>&#125;</span><br><span class="line">	vet2 := Vertex&#123;<span class="number">2</span>&#125;</span><br><span class="line">	vet3 := Vertex&#123;<span class="number">3</span>&#125;</span><br><span class="line">	vet4 := Vertex&#123;<span class="number">4</span>&#125;</span><br><span class="line">	vet5 := Vertex&#123;<span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line">	edges := [][]Vertex&#123;</span><br><span class="line">		&#123;vet1, vet2&#125;,</span><br><span class="line">		&#123;vet2, vet3&#125;,</span><br><span class="line">		&#123;vet3, vet4&#125;,</span><br><span class="line">		&#123;vet4, vet1&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	g := newGraphAdjList(edges)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;åˆå§‹å›¾ï¼š&quot;</span>)</span><br><span class="line">	g.<span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">	g.addVertex(vet5)</span><br><span class="line">	g.addEdge(vet1, vet5)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;\næ›´æ–°åçš„å›¾ï¼š&quot;</span>)</span><br><span class="line">	g.<span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">	g.removeVertex(vet2)</span><br><span class="line">	g.removeEdge(vet1, vet3)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;\næœ€ç»ˆå›¾ï¼š&quot;</span>)</span><br><span class="line">	g.<span class="built_in">print</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">åˆå§‹å›¾ï¼š</span><br><span class="line">é‚»æ¥è¡¨ =</span><br><span class="line">          1: 2 4</span><br><span class="line">          2: 1 3</span><br><span class="line">          3: 2 4</span><br><span class="line">          4: 3 1</span><br><span class="line"></span><br><span class="line">æ›´æ–°åçš„å›¾ï¼š</span><br><span class="line">é‚»æ¥è¡¨ =</span><br><span class="line">           1: 2 4 5</span><br><span class="line">           2: 1 3</span><br><span class="line">           3: 2 4</span><br><span class="line">           4: 3 1</span><br><span class="line">           5: 1</span><br><span class="line"></span><br><span class="line">æœ€ç»ˆå›¾ï¼š</span><br><span class="line">é‚»æ¥è¡¨ =</span><br><span class="line">           1: 4 5</span><br><span class="line">           3: 4</span><br><span class="line">           4: 3 1</span><br><span class="line">           5: 1</span><br></pre></td></tr></table></figure>

<p><img src="/./../pic/Graph02/Graph01.png" alt="image-20230901235239699"></p>
]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
      </tags>
  </entry>
  <entry>
    <title>GraphIntroduce</title>
    <url>/2023/09/01/Graph01/</url>
    <content><![CDATA[<h1 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h1><p>Start learning of Graph.<br>Mainly refer to the following booksã€ŠHello Algorithmã€‹ã€Šä»£ç éšæƒ³å½•ã€‹</p>
<span id="more"></span>

<h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><p><strong>Graph</strong><br>consists of an infinite non-empty set of vertices and a set of edges between vertices</p>
<p><img src="/./../pic/Graph/graph01.png" alt="graph01"></p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">V</span><span class="operator">=</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">4</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">E</span><span class="operator">=</span><span class="punctuation">&#123;</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="number">2</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="number">2</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="number">2</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="number">4</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">G</span><span class="operator">=</span><span class="punctuation">&#123;</span><span class="variable">V</span><span class="operator">,</span><span class="built_in">E</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>é€šå¸¸è¡¨ç¤ºä¸ºï¼š<strong>G(V,E)</strong></p>
<p><strong>G represents a graph</strong><br><strong>V is the set of vertices in figure G</strong><br><strong>E is the set of edges in Figure G</strong></p>
<p>In the data elements in the graph, we call them Vertex, the set of vertices is infinite and not empty. In a graph, there may be a relationship between any two vertices, the logical relationship between the vertices is represented by edges, and the edge set can be empty.</p>
<p>Graphs are divided into <strong>undirected graphs</strong> and <strong>directed graphs</strong> according to the direction of the edges.</p>
<ul>
<li>an undirected graph consists of vertices and edges,</li>
<li>A directed graph consists of vertices and arcs(å¼§). The arc is divided into an arc tail and an arc head, and the end with an arrow is the arc head.<img src="/./../pic/Graph/graph02.png" alt="graph02"></li>
</ul>
<p>According to whether the vertices are connected or not, it is divided into<br><strong>connected graph</strong> and  <strong>non-connected graph</strong> </p>
<ul>
<li><p>For connected graphs, from one vertex, you can reach any of the other vertices.</p>
</li>
<li><p>For non-connected graphs, at least one vertex is unreachable from a vertex.</p>
</li>
<li><p><img src="/./../pic/Graph/graph03.png" alt="image-20230901180215803"></p>
</li>
</ul>
<p>According to the weight, it is divided into <strong>power graph</strong> and  <strong>nopwer graph</strong></p>
<p><img src="/./../pic/Graph/graph04.png" alt="image-20230901180544716"></p>
<p>å›¾æ•°æ®ç»“æ„åŒ…å«ä»¥ä¸‹å¸¸ç”¨æœ¯è¯­ã€‚</p>
<ul>
<li><p>adjacencyï¼šin two vertices connectã€‚</p>
</li>
<li><p>pathï¼šthe path from VertexA to VertexB   </p>
</li>
<li><p>degreeï¼šThe number of edges owned by a vertex</p>
</li>
</ul>
<h2 id="Representation-of-the-figure"><a href="#Representation-of-the-figure" class="headerlink" title="Representation of the figure"></a>Representation of the figure</h2><p>Common representations of graphs include <strong>adjacency matrices</strong> and <strong>adjacency list</strong></p>
<h3 id="Adjacency-matrices"><a href="#Adjacency-matrices" class="headerlink" title="Adjacency matrices"></a>Adjacency matrices</h3><p>A graph holds vertices <code>n</code>ï¼Œadjacency matrices use <code>n*n</code> matrices implement graphï¼ŒEach row (column) represents a vertex,using element <code>1</code> or <code>0</code> denote wether vertices holding a path</p>
<p>adjacency matrices <code>M</code>ã€<code>vertices:V</code> ï¼Œmatrices element <code>M[i,j]=1</code> denote  vertex<code>V[i] </code> to vertex <code>V[j]</code> has a path<br>,so <code>M[i,j]=0</code>means there is no path in two vertices.</p>
<p><img src="/./../pic/Graph/graph05.png" alt="image-20230901181201339"></p>
<p>adjacency matrices has the following characteristics</p>
<ul>
<li>Vertices cannot be connected to themselves, so adjacency matrix main diagonal elements have no meaning.</li>
<li>For undirected graphs, the edges in both directions are the same power, where the adjacency matrix is symmetric with respect to the principal diagonal.<br>Replacing the elements of the adjacency matrix with weights from 1 and 0 represents a weight graph.</li>
</ul>
<h3 id="Adjacency-list"><a href="#Adjacency-list" class="headerlink" title="Adjacency list"></a>Adjacency list</h3><p> adjacency list use <code>n</code> linklist to implement graphï¼Œwhose node is used to implement vertex.<br>the <code>ith</code>linklisr is reflect the vertex <code>i</code> </p>
<p><img src="/./../pic/Graph/graph06.png" alt="image-20230901181618572"></p>
<p>The adjacency table only stores the edges that actually exist, and the total number of edges is usually much smaller than  â€˜ <code>O(n^2) </code>, so it is more space-efficient. However, in the adjacency table, it is necessary to traverse the linked list to find edges, so it is not as time-efficient as the adjacency matrix.</p>
<p>The adjacency table structure is very similar to the â€œchained addressâ€ in the hash table,<br> so we can also take a similar approach to optimize efficiency.<br>For example, when the linked list is long, the linked list can be converted into an <strong>AVL tree</strong> or a red-black tree,<br>thereby optimizing the time efficiency from <code>O(n) </code>to <code>O(logN)</code><br> It is also possible to convert a linked list to a hash table, thereby reducing the time complexity to <code>O(1)</code></p>
]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Graph</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL01</title>
    <url>/2023/09/01/MySQL01/</url>
    <content><![CDATA[<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><p><strong>SQL (Structured Query Language:ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€) æ˜¯ç”¨äºç®¡ç†å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰ã€‚ SQL çš„èŒƒå›´åŒ…æ‹¬æ•°æ®æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ï¼Œæ•°æ®åº“æ¨¡å¼åˆ›å»ºå’Œä¿®æ”¹ï¼Œä»¥åŠæ•°æ®è®¿é—®æ§åˆ¶ã€‚</strong></p>
<span id="more"></span>



<h2 id="SQL-åˆ†ç±»"><a href="#SQL-åˆ†ç±»" class="headerlink" title="SQL åˆ†ç±»"></a>SQL åˆ†ç±»</h2><p>SQLè¯­è¨€åœ¨åŠŸèƒ½ä¸Šä¸»è¦åˆ†ä¸ºå¦‚ä¸‹3å¤§ç±»ï¼š<br><strong>DDLï¼ˆData Definition Languagesã€æ•°æ®å®šä¹‰è¯­è¨€ï¼‰</strong>ï¼Œè¿™äº›è¯­å¥å®šä¹‰äº†ä¸åŒçš„æ•°æ®åº“ã€è¡¨ã€è§†å›¾ã€ç´¢<br>å¼•ç­‰æ•°æ®åº“å¯¹è±¡ï¼Œè¿˜å¯ä»¥ç”¨æ¥åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹æ•°æ®åº“å’Œæ•°æ®è¡¨çš„ç»“æ„ã€‚<br>ä¸»è¦çš„è¯­å¥å…³é”®å­—åŒ…æ‹¬CREATE ã€DROP ã€ALTER ç­‰ã€‚<br><strong>DMLï¼ˆData Manipulation Languageã€æ•°æ®æ“ä½œè¯­è¨€ï¼‰</strong>ï¼Œç”¨äºæ·»åŠ ã€åˆ é™¤ã€æ›´æ–°å’ŒæŸ¥è¯¢æ•°æ®åº“è®°<br>å½•ï¼Œå¹¶æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ã€‚<br>ä¸»è¦çš„è¯­å¥å…³é”®å­—åŒ…æ‹¬INSERT ã€DELETE ã€UPDATE ã€SELECT ç­‰ã€‚<br>SELECTæ˜¯SQLè¯­è¨€çš„åŸºç¡€ï¼Œæœ€ä¸ºé‡è¦ã€‚<br><strong>DCLï¼ˆData Control Languageã€æ•°æ®æ§åˆ¶è¯­è¨€ï¼‰</strong>ï¼Œç”¨äºå®šä¹‰æ•°æ®åº“ã€è¡¨ã€å­—æ®µã€ç”¨æˆ·çš„è®¿é—®æƒé™å’Œ<br>å®‰å…¨çº§åˆ«ã€‚<br>ä¸»è¦çš„è¯­å¥å…³é”®å­—åŒ…æ‹¬GRANT ã€REVOKE ã€COMMIT ã€ROLLBACK ã€SAVEPOINT ç­‰ã€‚<br>å› ä¸ºæŸ¥è¯¢è¯­å¥ä½¿ç”¨çš„éå¸¸çš„é¢‘ç¹ï¼Œæ‰€ä»¥å¾ˆå¤šäººæŠŠæŸ¥è¯¢è¯­å¥å•æ‹å‡ºæ¥ä¸€ç±»ï¼šDQLï¼ˆæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼‰ã€‚<br>è¿˜æœ‰å•ç‹¬å°†COMMIT ã€ROLLBACK å–å‡ºæ¥ç§°ä¸ºTCL ï¼ˆTransaction Control Languageï¼Œäº‹åŠ¡æ§åˆ¶è¯­<br>è¨€ï¼‰ã€‚</p>
<h2 id="åŸºæœ¬è§„åˆ™"><a href="#åŸºæœ¬è§„åˆ™" class="headerlink" title="åŸºæœ¬è§„åˆ™"></a>åŸºæœ¬è§„åˆ™</h2><ul>
<li>SQL å¯ä»¥å†™åœ¨ä¸€è¡Œæˆ–è€…å¤šè¡Œã€‚ä¸ºäº†æé«˜å¯è¯»æ€§ï¼Œå„å­å¥åˆ†è¡Œå†™ï¼Œå¿…è¦æ—¶ä½¿ç”¨ç¼©è¿›</li>
<li>æ¯æ¡å‘½ä»¤ä»¥ ; æˆ– \g æˆ– \G ç»“æŸ</li>
<li>å…³é”®å­—ä¸èƒ½è¢«ç¼©å†™ä¹Ÿä¸èƒ½åˆ†è¡Œ</li>
<li>å…³äºæ ‡ç‚¹ç¬¦å·</li>
<li>å¿…é¡»ä¿è¯æ‰€æœ‰çš„()ã€å•å¼•å·ã€åŒå¼•å·æ˜¯æˆå¯¹ç»“æŸçš„</li>
<li>å¿…é¡»ä½¿ç”¨è‹±æ–‡çŠ¶æ€ä¸‹çš„åŠè§’è¾“å…¥æ–¹å¼</li>
<li>å­—ç¬¦ä¸²å‹å’Œæ—¥æœŸæ—¶é—´ç±»å‹çš„æ•°æ®å¯ä»¥ä½¿ç”¨å•å¼•å·ï¼ˆâ€™ â€˜ï¼‰è¡¨ç¤º</li>
<li>åˆ—çš„åˆ«åï¼Œå°½é‡ä½¿ç”¨åŒå¼•å·ï¼ˆâ€ â€œï¼‰ï¼Œè€Œä¸”ä¸å»ºè®®çœç•¥as</li>
<li>MySQL åœ¨ Windows ç¯å¢ƒä¸‹æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„</li>
<li>MySQL åœ¨ Linux ç¯å¢ƒä¸‹æ˜¯å¤§å°å†™æ•æ„Ÿçš„</li>
<li>æ•°æ®åº“åã€è¡¨åã€è¡¨çš„åˆ«åã€å˜é‡åæ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„</li>
<li>å…³é”®å­—ã€å‡½æ•°åã€åˆ—å(æˆ–å­—æ®µå)ã€åˆ—çš„åˆ«å(å­—æ®µçš„åˆ«å) æ˜¯å¿½ç•¥å¤§å°å†™çš„ã€‚</li>
<li><strong>æ¨èé‡‡ç”¨ç»Ÿä¸€çš„ä¹¦å†™è§„èŒƒï¼š</strong></li>
<li><strong>æ•°æ®åº“åã€è¡¨åã€è¡¨åˆ«åã€å­—æ®µåã€å­—æ®µåˆ«åç­‰éƒ½å°å†™</strong></li>
<li><strong>SQL å…³é”®å­—ã€å‡½æ•°åã€ç»‘å®šå˜é‡ç­‰éƒ½å¤§å†™</strong></li>
</ul>
<h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] name [CHAHRCTER <span class="keyword">SET</span> utf8] [<span class="keyword">COLLATE</span> utf8_bin];</span><br></pre></td></tr></table></figure>

<p>CHAHRCTERå­—ç¬¦é›†<br>COLLATEæ ¡å¯¹è§„åˆ™	utf8_binåŒºåˆ†å¤§å°å†™ ï¼Œé»˜è®¤utf8_general_ciä¸åŒºåˆ†å¤§å°å†™</p>
<h3 id="æŸ¥çœ‹åˆ é™¤æ•°æ®åº“"><a href="#æŸ¥çœ‹åˆ é™¤æ•°æ®åº“" class="headerlink" title="æŸ¥çœ‹åˆ é™¤æ•°æ®åº“"></a>æŸ¥çœ‹åˆ é™¤æ•°æ®åº“</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE [IF <span class="keyword">EXISTS</span>] name;</span><br><span class="line"><span class="keyword">SHOW</span> DATABASES ;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE hello;#æ˜¾ç¤ºæ•°æ®åº“åˆ›å»ºè¯­å¥</span><br></pre></td></tr></table></figure>



<h3 id="å¤‡ä»½å’Œæ¢å¤æ•°æ®åº“"><a href="#å¤‡ä»½å’Œæ¢å¤æ•°æ®åº“" class="headerlink" title="å¤‡ä»½å’Œæ¢å¤æ•°æ®åº“"></a>å¤‡ä»½å’Œæ¢å¤æ•°æ®åº“</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqlump -u ç”¨æˆ·å -p -B æ•°æ®åº“1 æ•°æ®åº“2 æ•°æ®åº“3 &gt;d:\\æ–‡ä»¶å.sql #docå‘½ä»¤</span><br><span class="line">mysqlump -u ç”¨æˆ·å -p æ•°æ®åº“1 è¡¨1 è¡¨2 è¡¨3 &gt;d:\\æ–‡ä»¶å.sql #docå‘½ä»¤</span><br><span class="line">Source æ–‡ä»¶å.sql #mysqlå‘½ä»¤</span><br></pre></td></tr></table></figure>



<h2 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line">(</span><br><span class="line">	field datatype,</span><br><span class="line">    field datatype,</span><br><span class="line">    field datatype,</span><br><span class="line">)<span class="type">character</span> <span class="keyword">set</span>å­—ç¬¦é›† <span class="keyword">collate</span> æ ¡å¯¹è§„åˆ™ engineå¼•æ“ </span><br></pre></td></tr></table></figure>



<h3 id="è¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“"><a href="#è¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“" class="headerlink" title="è¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“"></a>è¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“</h3><p>MySQLçš„è¡¨çš„ç±»å‹ç”±å­˜å‚¨å¼•æ“å†³å®šï¼Œä¸»è¦åŒ…æ‹¬MyLSAMã€innoDBã€Memoryç­‰<br>MySQLæ•°æ®åº“ä¸»è¦æ”¯æŒå…­ç§ç±»å‹ï¼Œåˆ†åˆ«æ—¶CSVã€MEMORYã€ARCHIVEã€MGR_MYISAMã€MYISAMã€innoDBã€‚</p>
<p>è¿™å…­ç§åˆåˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯äº‹åŠ¡å®‰å…¨å‹(transaction-safe)å¦‚ [innoDB]ï¼Œ<br>å…¶ä½™éƒ½å±äºç¬¬äºŒç±»ï¼Œéäº‹åŠ¡å®‰å…¨å‹(non-transaction-safe) [MYISAMå’ŒMEMORY]</p>
<p>mysql&gt; show engines;</p>
<table>
<thead>
<tr>
<th>Engine</th>
<th>Comment</th>
<th>Transactions</th>
<th>XA(è·¨æ•°æ®åº“äº‹åŠ¡)</th>
<th>Savepoints</th>
</tr>
</thead>
<tbody><tr>
<td>InnoDB</td>
<td>æ”¯æŒäº‹åŠ¡ï¼Œè¡Œçº§é”å®šï¼Œå¤–é”®</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
<tr>
<td>MyISAM</td>
<td>MyISAMå­˜å‚¨å¼•æ“</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>MRG_MYISAM</td>
<td>ç›¸åŒçš„ MyISAM è¡¨çš„é›†åˆ</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>MEMORY</td>
<td>åŸºäºå“ˆå¸Œï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¯¹ä¸´æ—¶è¡¨å¾ˆæœ‰ç”¨</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>CSV</td>
<td>CSV å­˜å‚¨å¼•æ“</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>ARCHIVE</td>
<td>Archiveå­˜æ¡£ç±»å‹å­˜å‚¨å¼•æ“</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>PERFORMANCE_SCHEMA</td>
<td>æ€§èƒ½æ¶æ„</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>BLACKHOLE</td>
<td>dev&#x2F;null å­˜å‚¨å¼•æ“ï¼ˆæ‚¨å†™å…¥çš„ä»»ä½•å†…å®¹éƒ½ä¼šæ¶ˆå¤±ï¼‰</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th><strong>åŠŸèƒ½</strong></th>
<th><strong>MyISAM</strong></th>
<th><strong>MEMORY</strong></th>
<th><strong>innoDB</strong></th>
<th><strong>ARCHIVE</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>å­˜å‚¨é™åˆ¶</strong></td>
<td>256BT</td>
<td>RAM</td>
<td>64BT</td>
<td></td>
</tr>
<tr>
<td><strong>äº‹åŠ¡</strong></td>
<td></td>
<td></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>å…¨æ–‡ç´¢å¼•</strong></td>
<td>Yes</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Bæ ‘ç´¢å¼•</strong></td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>å“ˆå¸Œç´¢å¼•</strong></td>
<td>Yes</td>
<td>Yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>é›†ç¾¤ç´¢å¼•</strong></td>
<td></td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>æ•°æ®ç´¢å¼•</strong></td>
<td></td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>æ•°æ®å‹ç¼©</strong></td>
<td>Yes</td>
<td></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>ç©ºé—´ä½¿ç”¨ç‡</strong></td>
<td>ä½</td>
<td>N&#x2F;A</td>
<td>é«˜</td>
<td>éå¸¸ä½</td>
</tr>
<tr>
<td><strong>å¤–é”®</strong></td>
<td></td>
<td></td>
<td>Yes</td>
<td></td>
</tr>
</tbody></table>
<p>1.MyISAMä¸æ”¯æŒäº‹åŠ¡ã€ä¹Ÿä¸æ”¯æŒå¤–é”®ï¼Œä½†å…¶è®¿åŒé€Ÿåº¦å¿«ï¼Œå¯¹äº‹åŠ¡å®Œæ•´æ€§æ²¡æœ‰è¦æ±‚</p>
<p>2.InnoDBå­˜å‚¨å¼•æ“æä¾›äº†å…·æœ‰æäº¤ã€å›æ»šå’Œå´©æºƒæ¢å¤èƒ½åŠ›çš„äº‹åŠ¡å®‰å…¨ã€‚ä½†æ˜¯æ¯”èµ·MyISAMå­˜å‚¨å¼•æ“ï¼ŒInnoDBå†™çš„å¤„ç†æ•ˆç‡å·®ä¸€äº›å¹¶ç›´ä¼šå ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´ä»¥ä¿ç•™æ•°æ®å’Œç´¢å¼•ã€‚</p>
<p>3.MEMORYå­˜å‚¨å¼•æ“ä½¿ç”¨å­˜åœ¨å†…å­˜ä¸­çš„å†…å®¹æ¥åˆ›å»ºè¡¨ã€‚æ¯ä¸ªMEMORYè¡¨åªå®é™…å¯¹åº”ä¸€ä¸ªç£ç›˜æ–‡ä»¶ã€‚MEMORYç±»å‹çš„è¡¨è®¿é—®éå¸¸å¾—å¿«ï¼Œå› ä¸ºå®ƒçš„æ•°æ®æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„å¹¶é»˜è®¤ä½¿ç”¨HASHç´¢å¼•ã€‚ä½†æ˜¯ä¸€æ—¦æœåŠ¡å…³é—­ï¼Œè¡¨ä¸­çš„æ•°æ®å°±ä¼šä¸¢å¤±æ‰ï¼Œè¡¨çš„ç»“æ„è¿˜åœ¨ã€‚</p>
<p><strong>ä¿®æ”¹å­˜å‚¨å¼•æ“</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å engine<span class="operator">=</span>xxxx;</span><br></pre></td></tr></table></figure>



<h3 id="MySQLå¸¸ç”¨æ•°æ®ç±»å‹"><a href="#MySQLå¸¸ç”¨æ•°æ®ç±»å‹" class="headerlink" title="MySQLå¸¸ç”¨æ•°æ®ç±»å‹"></a>MySQLå¸¸ç”¨æ•°æ®ç±»å‹</h3><h4 id="æ•´å‹"><a href="#æ•´å‹" class="headerlink" title="æ•´å‹"></a>æ•´å‹</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å å­—èŠ‚æ•°</th>
<th>æœ€å¤§å®½åº¦</th>
<th>æ— ç¬¦å·çš„æ•°å€¼èŒƒå›´</th>
<th>æœ‰ç¬¦å·çš„æ•°å€¼èŒƒå›´</th>
</tr>
</thead>
<tbody><tr>
<td>bit(m)</td>
<td>bit(m) m1åˆ°64</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>int[unsigned]</td>
<td>4</td>
<td>int(11)</td>
<td>0 åˆ° 2^32 â€“ 1</td>
<td>-2^31 åˆ° 2^31 â€“ 1</td>
</tr>
<tr>
<td>tinyint[unsigned]</td>
<td>1</td>
<td>tinyint(4)</td>
<td>0 åˆ° 2^8 â€“ 1</td>
<td>- 2^7 åˆ° 2^7 â€“ 1</td>
</tr>
<tr>
<td>smallint[unsigned]</td>
<td>2</td>
<td>smallint(6)</td>
<td>0 åˆ° 2^16 â€“ 1</td>
<td>- 2^15 åˆ° 2^15 â€“ 1</td>
</tr>
<tr>
<td>mediumint[unsigned]</td>
<td>3</td>
<td>mediumint(9)</td>
<td>0 åˆ° 2^24 â€“ 1</td>
<td>- 2^23 åˆ° 2^23 â€“ 1</td>
</tr>
<tr>
<td>bigint[unsigned]</td>
<td>8</td>
<td>bigint(20)</td>
<td>0åˆ° 2^64 â€“ 1</td>
<td>- 2^63 åˆ° 2^63 â€“ 1</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `BIT`(num BIT(<span class="number">8</span>));</span><br><span class="line"><span class="comment">-- m=8 è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚0-255 --</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `BIT` <span class="keyword">VALUES</span> (<span class="number">123</span>); #<span class="number">01111011</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `BIT` <span class="keyword">VALUES</span> (<span class="number">255</span>); #<span class="number">11111111</span></span><br></pre></td></tr></table></figure>



<h4 id="æµ®ç‚¹å‹"><a href="#æµ®ç‚¹å‹" class="headerlink" title="æµ®ç‚¹å‹"></a>æµ®ç‚¹å‹</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th align="left">æ‰€å å­—èŠ‚æ•°</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>float(m,d)</td>
<td align="left">4</td>
<td>å•ç²¾åº¦ï¼Œm ä¸ºæ€»ä¸ªæ•°ï¼Œ d å°æ•°ç‚¹åè¾¹ä½æ•° ï¼Œé»˜è®¤æ˜¯float(10,2)</td>
</tr>
<tr>
<td>double(m,d)</td>
<td align="left">8</td>
<td>åŒç²¾åº¦ï¼Œm ä¸ºæ€»ä¸ªæ•°ï¼Œdä¸ºå°æ•°ç‚¹åè¾¹ä½æ•°ï¼Œé»˜è®¤æ˜¯double(16,4)</td>
</tr>
<tr>
<td>decimal(m,d)</td>
<td align="left">må­—èŠ‚ï¼ˆmysql3.23ä¹‹å‰ç‰ˆæœ¬ï¼‰ï¼Œm+2å­—èŠ‚ï¼ˆmysql 3.23ä»¥åç‰ˆæœ¬ ï¼‰</td>
<td>å‚¨å­˜ä¸ºå­—ç¬¦ä¸²çš„æµ®ç‚¹æ•° må¤§å°ä¸º1-256ï¼Œdçš„å¤§å°ä¸º0-30ï¼Œé»˜è®¤æ˜¯decimal(18,9)</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="type">DECIMAL</span>`(</span><br><span class="line">    num1 <span class="type">float</span>,</span><br><span class="line">    num2 <span class="keyword">double</span>,</span><br><span class="line">    num3 <span class="type">decimal</span>(<span class="number">30</span>,<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="type">DECIMAL</span>` <span class="keyword">VALUES</span> (<span class="number">88.12345678912345</span>,<span class="number">88.12345678912345</span>,<span class="number">88.12345678912345</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> `<span class="type">DECIMAL</span>`;</span><br><span class="line"><span class="number">88.1235</span>,<span class="number">88.12345678912345</span>,<span class="number">88.12345678912345000000</span></span><br></pre></td></tr></table></figure>



<h4 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h4><table>
<thead>
<tr>
<th align="left">ç±»å‹</th>
<th align="left">å­—èŠ‚èŒƒå›´å¤§å°</th>
<th align="center">å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td align="left">varchar</td>
<td align="left">0-65535å­—èŠ‚,ä½¿ç”¨ä¸­æ ¹æ®ç¼–ç å®é™…æƒ…å†µå¡«å†™ï¼Œå¦‚utf8ä¸º65532&#x2F;3å­—ç¬¦ï¼Œgbkä¸º65532&#x2F;2å­—ç¬¦</td>
<td align="center">å¯å˜é•¿åº¦å­—ç¬¦ä¸²ï¼ˆå¿…é¡»æŒ‡å®šé•¿åº¦ï¼‰ [0-2^16-1]</td>
</tr>
<tr>
<td align="left">char</td>
<td align="left">0-255å­—èŠ‚</td>
<td align="center">å›ºå®šé•¿åº¦å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left">tinytext</td>
<td align="left">0-255å­—èŠ‚</td>
<td align="center">çŸ­æ–‡æœ¬å­—ç¬¦ä¸²ï¼ˆä¸èƒ½æŒ‡å®šé•¿åº¦ï¼‰</td>
</tr>
<tr>
<td align="left">text</td>
<td align="left">0-65535å­—èŠ‚</td>
<td align="center">é•¿æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td align="left">longtext</td>
<td align="left">0-4294967295å­—èŠ‚</td>
<td align="center">æå¤§æ–‡æœ¬æ•°æ® [0-2^24-1]</td>
</tr>
<tr>
<td align="left">tinyblob</td>
<td align="left">0-255å­—èŠ‚</td>
<td align="center">äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆå­˜å‚¨å›¾ç‰‡ï¼Œè§†é¢‘ç­‰ï¼‰ï¼ˆä¸èƒ½æŒ‡å®šé•¿åº¦ï¼‰</td>
</tr>
<tr>
<td align="left">blob</td>
<td align="left">0-65535å­—èŠ‚</td>
<td align="center">äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬ [0-2^16-1]</td>
</tr>
<tr>
<td align="left">longblob</td>
<td align="left">0-4294967295å­—èŠ‚</td>
<td align="center">äºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ®</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="type">CHAR</span>(<span class="number">4</span>) #è¿™ä¸ª<span class="number">4</span>è¡¨ç¤ºå­—ç¬¦æ•°(æœ€å¤§<span class="number">255</span>)ï¼Œä¸æ˜¯å­—èŠ‚æ•°ï¼Œä¸­è‹±æ–‡éƒ½æ”¾<span class="number">4</span>ä¸ªï¼ŒæŒ‰å­—ç¬¦è®¡ç®—</span><br><span class="line"><span class="type">VARCHAR</span>(<span class="number">4</span>) #è¿™ä¸ª<span class="number">4</span>è¡¨ç¤ºå­—ç¬¦æ•°ï¼Œä¸­è‹±æ–‡éƒ½ä»¥å®šä¹‰å¥½çš„è¡¨çš„ç¼–ç æ¥å­˜æ”¾æ•°æ®,ä¸€ä¸ªå­—ç¬¦æ‰€å çš„å­—èŠ‚æ•°å–å†³äºç¼–ç </span><br></pre></td></tr></table></figure>



<h4 id="æ—¥æœŸå’Œæ—¶é—´ç±»å‹"><a href="#æ—¥æœŸå’Œæ—¶é—´ç±»å‹" class="headerlink" title="æ—¥æœŸå’Œæ—¶é—´ç±»å‹"></a>æ—¥æœŸå’Œæ—¶é—´ç±»å‹</h4><table>
<thead>
<tr>
<th><strong>ç±»å‹</strong></th>
<th><strong>æ‰€å å­—èŠ‚æ•°</strong></th>
<th><strong>å­˜å‚¨æ ¼å¼</strong></th>
<th><strong>æ”¯æŒçš„èŒƒå›´</strong></th>
</tr>
</thead>
<tbody><tr>
<td>date</td>
<td>3</td>
<td>YYYY-MM-DD</td>
<td>â€˜1000-01-01â€™ åˆ° â€˜9999-12-31â€™</td>
</tr>
<tr>
<td>time</td>
<td>3</td>
<td>HH:MM:SS</td>
<td>â€˜-838:59:59â€™ åˆ° â€˜838:59:59â€™</td>
</tr>
<tr>
<td>datetime</td>
<td>8</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>â€˜1000-01-01 00:00:00â€™ åˆ° â€˜9999-12-31 23:59:59â€™</td>
</tr>
<tr>
<td>timestamp</td>
<td>4</td>
<td>è‡ªåŠ¨å­˜å‚¨è®°å½•ä¿®æ”¹çš„æ—¶é—´ï¼Œè®¾ç½®å€¼æ—¶åªå…è®¸è®¾ç½®æ•°å­—ç±»å‹çš„å€¼</td>
<td>æ—¶é—´æˆ³ï¼Œä»1970-01-01 00:00:00åˆ°å½“å‰çš„æ—¶é—´å·®å€¼ã€‚</td>
</tr>
<tr>
<td>year</td>
<td>1</td>
<td>YYYY</td>
<td>1901 åˆ° 2155</td>
</tr>
</tbody></table>
<h4 id="å¤åˆç±»å‹"><a href="#å¤åˆç±»å‹" class="headerlink" title="å¤åˆç±»å‹"></a>å¤åˆç±»å‹</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>set</td>
<td>é›†åˆç±»å‹</td>
<td>set(â€˜num1â€™,â€˜num2â€™,â€˜num3â€™)</td>
</tr>
<tr>
<td>enum</td>
<td>æšä¸¾ç±»å‹</td>
<td>enum(â€˜num1â€™,â€˜num2â€™,â€˜num3â€™)</td>
</tr>
</tbody></table>
<h2 id="ä¿®æ”¹è¡¨"><a href="#ä¿®æ”¹è¡¨" class="headerlink" title="ä¿®æ”¹è¡¨"></a>ä¿®æ”¹è¡¨</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `emp`(</span><br><span class="line">    `id` <span class="type">INT</span>,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    `sex`   <span class="type">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">    `birthday` <span class="type">DATE</span>,</span><br><span class="line">    `entry_date` DATETIME,</span><br><span class="line">    `job`    <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    `salary` <span class="keyword">DOUBLE</span>,</span><br><span class="line">    `resume`    TEXT</span><br><span class="line">)CHARSET utf8 <span class="keyword">COLLATE</span> utf8_bin ENGINE INNODB;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `emp` <span class="keyword">VALUES</span></span><br><span class="line">                      (<span class="number">100</span>,<span class="string">&#x27;name1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,</span><br><span class="line">                       <span class="string">&#x27;2000-11-11&#x27;</span>,<span class="string">&#x27;2010-11-10 11:11:11&#x27;</span>,</span><br><span class="line">                       <span class="string">&#x27;job1&#x27;</span>,<span class="number">3000</span>,<span class="string">&#x27;resume1&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h3 id="æ·»åŠ åˆ—"><a href="#æ·»åŠ åˆ—" class="headerlink" title="æ·»åŠ åˆ—"></a>æ·»åŠ åˆ—</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tablename <span class="keyword">ADD</span> (<span class="keyword">column</span> databyte [<span class="keyword">DEFAULT</span> expr]);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp <span class="keyword">ADD</span> `image` <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> AFTER resume;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹è¡¨ç»“æ„"><a href="#æŸ¥çœ‹è¡¨ç»“æ„" class="headerlink" title="æŸ¥çœ‹è¡¨ç»“æ„"></a>æŸ¥çœ‹è¡¨ç»“æ„</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DESC</span> TableName;</span><br><span class="line"><span class="keyword">DESC</span> emp;</span><br></pre></td></tr></table></figure>



<h3 id="ä¿®æ”¹åˆ—"><a href="#ä¿®æ”¹åˆ—" class="headerlink" title="ä¿®æ”¹åˆ—"></a>ä¿®æ”¹åˆ—</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> TableName MODIFY (<span class="keyword">column</span> databyte [<span class="keyword">DEFAULT</span> expr]);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp MODIFY job <span class="type">VARCHAR</span>(<span class="number">60</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h4 id="ä¿®æ”¹åˆ—å"><a href="#ä¿®æ”¹åˆ—å" class="headerlink" title="ä¿®æ”¹åˆ—å"></a>ä¿®æ”¹åˆ—å</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> TableName CHANGE `OldName` <span class="keyword">TO</span> `NewName` <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>; </span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤åˆ—"><a href="#åˆ é™¤åˆ—" class="headerlink" title="åˆ é™¤åˆ—"></a>åˆ é™¤åˆ—</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> TableName <span class="keyword">DROP</span> (<span class="keyword">column</span> databyte);</span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹è¡¨å"><a href="#ä¿®æ”¹è¡¨å" class="headerlink" title="ä¿®æ”¹è¡¨å"></a>ä¿®æ”¹è¡¨å</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">RENAME <span class="keyword">TABLE</span> emp <span class="keyword">TO</span> employee;</span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†"><a href="#ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†" class="headerlink" title="ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†"></a>ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br></pre></td></tr></table></figure>



<h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><p><em><strong>create read update delete</strong></em></p>
<p>æ•°æ®åº“çš„CRUDè¯­å¥</p>
<h3 id="Insert-æ·»åŠ æ•°æ®"><a href="#Insert-æ·»åŠ æ•°æ®" class="headerlink" title="Insert æ·»åŠ æ•°æ®"></a>Insert æ·»åŠ æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableName (column1,column2,column3) <span class="keyword">VALUES</span> (value1,value2,value3);</span><br><span class="line">#colä¸valæ˜¯å¯¹åº”çš„</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ’å…¥çš„æ•°æ®åº”ä¸å­—æ®µçš„ç±»å‹æ•°æ®ç›¸åŒ</p>
</li>
<li><p>æ•°æ®çš„é•¿åº¦åº”è¯¥åœ¨åˆ—çš„è§„å®šèŒƒå›´å†…</p>
</li>
<li><p>VALUESä¸­åˆ—å‡ºçš„æ•°æ®ä½ç½®å¿…é¡»ä¸è¢«åŠ å…¥çš„åˆ—çš„æ’åˆ—ä½ç½®ç›¸åº”</p>
</li>
<li><p>å­—ç¬¦å’Œæ—¥æœŸå‹æ•°æ®åº”è¯¥åŒ…å«åœ¨å•å¼•å·ä¸­</p>
</li>
<li><p>åˆ—å¯ä»¥æ’å…¥ç©ºå€¼[å‰ææ˜¯è¯¥å­—æ®µå…è®¸ä¸ºç©º] insert into table value(null)</p>
</li>
<li><p>æ·»åŠ å¤šæ¡è®°å½•</p>
<p><code>INSERT INTO TableName (column1,column2,column3)</code> </p>
<p>â€‹							<code>VALUES (value1,value2,value3)ï¼Œ</code></p>
<p>â€‹											<code>(value1,value2,value3);</code></p>
</li>
<li><p>é»˜è®¤å€¼çš„ä½¿ç”¨ï¼Œå½“ä¸ç»™æŸä¸ªå­—æ®µå€¼æ—¶ï¼Œå¦‚æœæœ‰é»˜è®¤å€¼å°±ä¼šæ·»åŠ ï¼Œå¦åˆ™æŠ¥é”™</p>
<p>å¦‚æœæŸä¸ªåˆ—æ²¡æœ‰æŒ‡å®š not nullï¼Œé‚£ä¹ˆæ·»åŠ æ•°æ®æ—¶ï¼Œæ²¡æœ‰ç»™å®šå€¼ï¼Œå°±ä¼šé»˜è®¤ç»™null</p>
<p>å¦‚æœå¸Œæœ›æŒ‡å®šæŸä¸ªåˆ—çš„é»˜è®¤å€¼ï¼Œå¯ä»¥åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™æŒ‡å®š</p>
</li>
</ul>
<h4 id="è‡ªå¢é•¿"><a href="#è‡ªå¢é•¿" class="headerlink" title="è‡ªå¢é•¿"></a>è‡ªå¢é•¿</h4><p>è¡¨ä¸­å­˜åœ¨idåˆ—ï¼Œå¸Œæœ›æ·»åŠ æ•°æ®æ—¶ï¼Œè¯¥åˆ—ä»1å¼€å§‹è‡ªåŠ¨å¢é•¿</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå <span class="type">INT</span> <span class="keyword">primary</span> key auto_increment</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tableName auto_increment<span class="operator">=</span><span class="number">100</span> #ä¿®æ”¹è‡ªå¢é•¿å¼€å§‹å€¼</span><br></pre></td></tr></table></figure>

<p><strong>æ·»åŠ æ–¹å¼</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> xxx (å­—æ®µ<span class="number">1</span>ï¼Œå­—æ®µ<span class="number">2.</span>..) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;å€¼&#x27;</span>...);#å¸Œæœ›è‡ªå¢é•¿ï¼Œå­—æ®µ<span class="number">1</span>ç›´æ¥å¡«<span class="keyword">null</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> xxx ((å­—æ®µ<span class="number">1</span>ï¼Œå­—æ®µ<span class="number">2</span>ï¼Œå­—æ®µ<span class="number">3.</span>..) <span class="keyword">VALUES</span> (<span class="string">&#x27;å€¼2&#x27;</span>,<span class="string">&#x27;å€¼3&#x27;</span>...);#ç›´æ¥ä¸å†™autoæ‰€åœ¨çš„åˆ—</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> xxx <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;å€¼1&#x27;</span>...);</span><br></pre></td></tr></table></figure>

<p><strong>è‹¥æŒ‡å®šåˆ™ä»æŒ‡å®šçš„å€¼å¢é•¿</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> xxx (å­—æ®µ<span class="number">1</span>ï¼Œå­—æ®µ<span class="number">2.</span>..) <span class="keyword">VALUES</span> (<span class="number">666</span>,<span class="keyword">null</span>,<span class="string">&#x27;å€¼&#x27;</span>...);#ä»<span class="number">666</span>å¼€å§‹å¢é•¿</span><br></pre></td></tr></table></figure>



<h3 id="Update-æ›´æ–°æ•°æ®"><a href="#Update-æ›´æ–°æ•°æ®" class="headerlink" title="Update æ›´æ–°æ•°æ®"></a>Update æ›´æ–°æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> TableName </span><br><span class="line">	<span class="keyword">SET</span> col1<span class="operator">=</span>expr1,col2<span class="operator">=</span>expr2 [<span class="keyword">WHERE</span> expr];</span><br></pre></td></tr></table></figure>

<ul>
<li>UPDATEå¯ä»¥ç”¨æ–°å€¼è·Ÿæ–°åŸæœ‰åˆ—è¡¨ä¸­çš„å‰²è£‚</li>
<li>SETè¯­å¥æŒ‡ç¤ºè¦ä¿®æ”¹å“ªäº›åˆ—å’Œè¦èµ‹äºˆé‚£äº›å€¼</li>
<li>WHEREå­å¥æŒ‡å®šæ›´æ–°å“ªäº›è¡Œï¼Œæ²¡æœ‰WHEREå…¨æ›´æ–°</li>
<li>å¦‚æœè¦æ›´æ–°å¤šä¸ªå­—æ®µ é€šè¿‡ <code>set å­—æ®µ1=å€¼1,å­—æ®µ2=å€¼2</code>&#x3D;</li>
</ul>
<h3 id="Delete-åˆ é™¤æ•°æ®"><a href="#Delete-åˆ é™¤æ•°æ®" class="headerlink" title="Delete åˆ é™¤æ•°æ®"></a>Delete åˆ é™¤æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">DEALETE <span class="keyword">FROM</span> TableName [<span class="keyword">WHERE</span> expr;];</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ä½¿ç”¨WHEREå­å¥ï¼Œå°†åˆ é™¤è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®</li>
<li>DELETE ä¸èƒ½åˆ é™¤æŸä¸€åˆ—çš„å€¼(å¯ä½¿ç”¨updateè®¾ä¸ºnullæˆ–è€…â€™ â€˜)</li>
<li>DELETE è¯­å¥ä»…åˆ é™¤è®°å½•ï¼Œä¸åˆ é™¤è¡¨æœ¬èº«ï¼Œå¦‚æœè¦åˆ é™¤è¡¨ï¼Œä½¿ç”¨<code>drop table</code>è¯­å¥</li>
</ul>
<h3 id="Select-æŸ¥æ‰¾æ•°æ®"><a href="#Select-æŸ¥æ‰¾æ•°æ®" class="headerlink" title="Select æŸ¥æ‰¾æ•°æ®"></a>Select æŸ¥æ‰¾æ•°æ®</h3><h4 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">DISTINCT</span>] <span class="operator">*</span><span class="operator">|</span> &#123;col1,col2,col3...&#125; <span class="keyword">FROM</span> tablename;</span><br></pre></td></tr></table></figure>

<ul>
<li>SELECTæŒ‡å®šæŸ¥è¯¢å“ªäº›åˆ—çš„æ•°æ®</li>
<li>colæŒ‡å®šåˆ—å</li>
<li>ä»£è¡¨æŸ¥è¯¢æ‰€æœ‰åˆ—</li>
<li>FROMæŒ‡å®šæŸ¥è¯¢å“ªå¼ è¡¨</li>
<li>DISTINCTå¯é€‰ï¼ŒæŒ‡æ˜¾ç¤ºç»“æœæ—¶ï¼Œæ˜¯å¦å»æ‰é‡å¤æ•°æ®ï¼Œæ¯ä¸ªå­—æ®µéƒ½ç›¸åŒæ‰ä¼šå»é‡</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> student</span><br><span class="line">(</span><br><span class="line">    id      <span class="type">int</span>         <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">DEFAULT</span> <span class="number">1</span>,</span><br><span class="line">    `name`   <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    chinese <span class="type">FLOAT</span>       <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">DEFAULT</span> <span class="number">0.0</span>,</span><br><span class="line">    english <span class="type">FLOAT</span>       <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">DEFAULT</span> <span class="number">0.0</span>,</span><br><span class="line">    math    <span class="type">FLOAT</span>       <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">DEFAULT</span> <span class="number">0.0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (id, `name`, chinese, english, math)</span><br><span class="line">	  <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;NAME1&#x27;</span>, <span class="number">89</span>, <span class="number">78</span>, <span class="number">90</span>),</span><br><span class="line">       		(<span class="number">2</span>, <span class="string">&#x27;NAME2&#x27;</span>, <span class="number">67</span>, <span class="number">98</span>, <span class="number">56</span>),</span><br><span class="line">      	 	(<span class="number">3</span>, <span class="string">&#x27;NAME3&#x27;</span>, <span class="number">87</span>, <span class="number">78</span>, <span class="number">77</span>),		</span><br><span class="line">      	 	(<span class="number">4</span>, <span class="string">&#x27;NAME4&#x27;</span>, <span class="number">88</span>, <span class="number">98</span>, <span class="number">90</span>),</span><br><span class="line">       		(<span class="number">5</span>, <span class="string">&#x27;NAME5&#x27;</span>, <span class="number">82</span>, <span class="number">84</span>, <span class="number">67</span>),</span><br><span class="line">       		(<span class="number">6</span>, <span class="string">&#x27;NAME6&#x27;</span>, <span class="number">55</span>, <span class="number">85</span>, <span class="number">45</span>),</span><br><span class="line">       		(<span class="number">7</span>, <span class="string">&#x27;NAME7&#x27;</span>, <span class="number">75</span>, <span class="number">65</span>, <span class="number">30</span>),</span><br><span class="line">       		(<span class="number">8</span>, <span class="string">&#x27;NAME8&#x27;</span>, <span class="number">45</span>, <span class="number">65</span>, <span class="number">99</span>);  </span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> `name`,english <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> english <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨è¡¨è¾¾å¼å¯¹æŸ¥è¯¢çš„åˆ—è¿ç®—ä¸åˆ«å"><a href="#ä½¿ç”¨è¡¨è¾¾å¼å¯¹æŸ¥è¯¢çš„åˆ—è¿ç®—ä¸åˆ«å" class="headerlink" title="ä½¿ç”¨è¡¨è¾¾å¼å¯¹æŸ¥è¯¢çš„åˆ—è¿ç®—ä¸åˆ«å"></a>ä½¿ç”¨è¡¨è¾¾å¼å¯¹æŸ¥è¯¢çš„åˆ—è¿ç®—ä¸åˆ«å</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="operator">|</span>&#123;<span class="keyword">column</span><span class="operator">|</span>expression , column2<span class="operator">|</span>expression,...&#125; <span class="keyword">FROM</span> TableName;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> columnName <span class="keyword">AS</span> åˆ«å <span class="keyword">FROM</span> TableName;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> `name`,(chinese<span class="operator">+</span>math<span class="operator">+</span>english) <span class="keyword">AS</span> <span class="string">&#x27;SUM&#x27;</span> <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="WHEREå­å¥å¸¸ç”¨è¿ç®—ç¬¦"><a href="#WHEREå­å¥å¸¸ç”¨è¿ç®—ç¬¦" class="headerlink" title="WHEREå­å¥å¸¸ç”¨è¿ç®—ç¬¦"></a>WHEREå­å¥å¸¸ç”¨è¿ç®—ç¬¦</h4><table>
<thead>
<tr>
<th align="center"><strong>æ¯”è¾ƒè¿ç®—ç¬¦</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#x3D;     !&#x3D;     &gt;     &lt;    &gt;&#x3D;   &lt;&#x3D;</td>
<td align="left">ç­‰äº,ä¸ç­‰äº,å¤§äº,å°äº,å¤§äºç­‰äº,å°äºç­‰äº</td>
</tr>
<tr>
<td align="center">BETWEEN  â€¦ANDâ€¦</td>
<td align="left">åœ¨æŸä¸ªèŒƒå›´å†…,å·¦å³é—­åŒºé—´</td>
</tr>
<tr>
<td align="center">LIKE  NOT LIKE</td>
<td align="left">æ¨¡ç³Šæœç´¢æŸç§æ¨¡å¼</td>
</tr>
<tr>
<td align="center">IN</td>
<td align="left">æŒ‡å®šé’ˆå¯¹æŸä¸ªåˆ—çš„å¤šä¸ªå¯èƒ½å€¼</td>
</tr>
<tr>
<td align="center">IS NULL</td>
<td align="left">åˆ¤æ–­æ˜¯å¦ä¸ºç©º</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center"><strong>é€»è¾‘è¿ç®—ç¬¦</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">AND</td>
<td align="left">å¤šä¸ªæ¡ä»¶åŒæ—¶æˆç«‹</td>
</tr>
<tr>
<td align="center">OR</td>
<td align="left">å¤šä¸ªæ¡ä»¶ä»»ä¸€æˆç«‹</td>
</tr>
<tr>
<td align="center">NOT</td>
<td align="left">ä¸æˆç«‹</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;name1&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> english <span class="operator">&gt;</span> <span class="number">90</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> english <span class="keyword">BETWEEN</span> <span class="number">80</span> <span class="keyword">AND</span> <span class="number">90</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> english <span class="keyword">IN</span> ( <span class="number">89</span>,<span class="number">90</span>,<span class="number">91</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> student <span class="keyword">WHERE</span> </span><br><span class="line">				(english<span class="operator">+</span>math<span class="operator">+</span>chinese)<span class="operator">&gt;</span><span class="number">200</span> </span><br><span class="line">				<span class="keyword">AND</span> math <span class="operator">&lt;</span> chinese </span><br><span class="line">				<span class="keyword">AND</span> `name` <span class="keyword">LIKE</span> <span class="string">&#x27;éŸ©%&#x27;</span>;</span><br><span class="line">#æŸ¥è¯¢æ€»åˆ†å¤§äº<span class="number">200</span>ï¼Œæ•°å­¦å°äºè¯­æ–‡ï¼Œå§“&quot;éŸ©&quot;çš„å­¦ç”Ÿ</span><br></pre></td></tr></table></figure>



<h4 id="ORDER-BYå­å¥æ’åºæŸ¥è¯¢ç»“æœ"><a href="#ORDER-BYå­å¥æ’åºæŸ¥è¯¢ç»“æœ" class="headerlink" title="ORDER BYå­å¥æ’åºæŸ¥è¯¢ç»“æœ"></a>ORDER BYå­å¥æ’åºæŸ¥è¯¢ç»“æœ</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1,column2,column3...FROM <span class="keyword">table</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">column</span> <span class="keyword">asc</span><span class="operator">|</span><span class="keyword">desc</span>,...</span><br></pre></td></tr></table></figure>

<ul>
<li>ORDER BYæŒ‡å®šæ’åºçš„åˆ—ï¼Œæ’åºçš„åˆ—æ—¢å¯ä»¥æ˜¯è¡¨çš„åˆ—åä¹Ÿå¯ä»¥æ˜¯selectè¯­å¥åæŒ‡å®šçš„åˆ«å</li>
<li>ASCå‡åº[é»˜è®¤]ï¼ŒDESCé™åº</li>
<li>ORDER BYè¯­å¥ç¡¬ä½äºSELECTè¯­å¥çš„ç»“å°¾</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> `name`,(chinese <span class="operator">+</span> math <span class="operator">+</span> english) <span class="keyword">AS</span> total <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> total <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `name` <span class="keyword">LIKE</span> <span class="string">&#x27;æ%&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> math <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>





<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="COUNTç»Ÿè®¡å‡½æ•°"><a href="#COUNTç»Ÿè®¡å‡½æ•°" class="headerlink" title="COUNTç»Ÿè®¡å‡½æ•°"></a>COUNTç»Ÿè®¡å‡½æ•°</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">|</span><span class="built_in">COUNT</span>(åˆ—å) <span class="keyword">FROM</span> TableName [<span class="keyword">WHERE</span> expr];</span><br></pre></td></tr></table></figure>

<ul>
<li>COUNT(*)è¿”å›æ»¡è¶³æ¡ä»¶çš„è®°å½•çš„è¡Œæ•°</li>
<li>COUNT(åˆ—å)æ˜¯ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„æŸåˆ—æœ‰å¤šå°‘ä¸ªï¼Œä½†æ˜¯ä¼šæ’é™¤ä¸ºç©ºçš„æƒ…å†µ</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `COUNT` (`name` <span class="type">VARCHAR</span>(<span class="number">20</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> COUNT <span class="keyword">VALUES</span> (<span class="string">&#x27;TOM&#x27;</span>),(<span class="string">&#x27;JACK&#x27;</span>),(<span class="string">&#x27;MARY&#x27;</span>),(<span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> `COUNT`;   <span class="comment">/*4*/</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(`name`) <span class="keyword">FROM</span> `COUNT`;  <span class="comment">/*3*/</span></span><br></pre></td></tr></table></figure>



<h4 id="SUMå‡½æ•°"><a href="#SUMå‡½æ•°" class="headerlink" title="SUMå‡½æ•°"></a>SUMå‡½æ•°</h4><p>SUMå‡½æ•°è¿”å›å¤åˆWHEREæ¡ä»¶è¡Œçš„å’Œï¼Œä»…å¯¹æ•°å€¼èµ·ä½œç”¨ï¼Œå¯¹å¤šåˆ—æ±‚å’Œâ€œï¼Œâ€ä¸èƒ½å°‘ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(åˆ—å) &#123;,<span class="built_in">SUM</span>(åˆ—å)...&#125; <span class="keyword">FROM</span> TableName [<span class="keyword">WHERE</span> expr];</span><br></pre></td></tr></table></figure>



<h4 id="AVGå‡½æ•°"><a href="#AVGå‡½æ•°" class="headerlink" title="AVGå‡½æ•°"></a>AVGå‡½æ•°</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(åˆ—å) &#123;,<span class="built_in">AVG</span>(åˆ—å)...&#125; <span class="keyword">FROM</span> TableName [<span class="keyword">WHERE</span> expr];</span><br></pre></td></tr></table></figure>



<h4 id="MAX-MINå‡½æ•°"><a href="#MAX-MINå‡½æ•°" class="headerlink" title="MAX&#x2F;MINå‡½æ•°"></a>MAX&#x2F;MINå‡½æ•°</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(åˆ—å) <span class="keyword">FROM</span> TableName [<span class="keyword">WHERE</span> expr];</span><br></pre></td></tr></table></figure>



<h4 id="GROUP-BY-å¯¹-å­å¥é˜Ÿåˆ—è¿›è¡Œåˆ†ç»„"><a href="#GROUP-BY-å¯¹-å­å¥é˜Ÿåˆ—è¿›è¡Œåˆ†ç»„" class="headerlink" title="GROUP BY å¯¹ å­å¥é˜Ÿåˆ—è¿›è¡Œåˆ†ç»„"></a>GROUP BY å¯¹ å­å¥é˜Ÿåˆ—è¿›è¡Œåˆ†ç»„</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> col1ï¼Œcol2...FROM <span class="keyword">table</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> col;</span><br></pre></td></tr></table></figure>

<p>åªè¦æœ‰èšåˆå‡½æ•° sum()ï¼Œcount()ï¼Œmax()ï¼Œavg() ç­‰å‡½æ•°å°±éœ€è¦ç”¨åˆ° group by , å¦åˆ™å°±ä¼šæŠ¥ä¸Šé¢çš„é”™è¯¯.<br>group by id (id æ˜¯ä¸»é”®) çš„æ—¶å€™, select ä»€ä¹ˆéƒ½æ²¡æœ‰é—®é¢˜, åŒ…æ‹¬æœ‰èšåˆå‡½æ•°.<br>group by role (éä¸»é”®) çš„æ—¶å€™, select åªèƒ½æ˜¯èšåˆå‡½æ•°å’Œ role ( group by çš„å­—æ®µ) , å¦åˆ™æŠ¥é”™</p>
<p><strong>ä½¿ç”¨HAVINGå­å¥å¯¹åˆ†ç»„ä»¥åçš„ç»“æœè¿‡æ»¤</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> col1ï¼Œcol2...FROM <span class="keyword">table</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> col <span class="keyword">HAVING</span> ...;</span><br></pre></td></tr></table></figure>



<h5 id="example"><a href="#example" class="headerlink" title="example"></a>example</h5><p> <strong>éƒ¨å‘˜è¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#éƒ¨å‘˜è¡¨</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> dept</span><br><span class="line">(</span><br><span class="line">    deptno MEDIUMINT   <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">    dname  <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    loc    <span class="type">VARCHAR</span>(<span class="number">13</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> dept</span><br><span class="line">    <span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="string">&#x27;ACCOUNTING&#x27;</span>, <span class="string">&#x27;NEW YORK&#x27;</span>),</span><br><span class="line">           (<span class="number">20</span>, <span class="string">&#x27;RESEARCH&#x27;</span>, <span class="string">&#x27;DALLAS&#x27;</span>),</span><br><span class="line">           (<span class="number">30</span>, <span class="string">&#x27;SALES&#x27;</span>, <span class="string">&#x27;CHICAGO&#x27;</span>),</span><br><span class="line">           (<span class="number">40</span>, <span class="string">&#x27;OPERATIONS&#x27;</span>, <span class="string">&#x27;BOSHTON&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> dept;</span><br></pre></td></tr></table></figure>



<p><strong>é›‡å‘˜è¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#é›‡å‘˜è¡¨</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp</span><br><span class="line">(</span><br><span class="line">    empno    MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,  #ç¼–å·</span><br><span class="line">    ename    <span class="type">VARCHAR</span>(<span class="number">20</span>)        <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>, #åå­—</span><br><span class="line">    job      <span class="type">VARCHAR</span>(<span class="number">9</span>)         <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>, #å·¥ä½œ</span><br><span class="line">    mgr      MEDIUMINT UNSIGNED,				    #ä¸Šçº§ç¼–å·</span><br><span class="line">    hiredate <span class="type">DATE</span>               <span class="keyword">NOT</span> <span class="keyword">NULL</span>, 		     #å…¥èŒæ—¶é—´</span><br><span class="line">    sal      <span class="type">DECIMAL</span>(<span class="number">7</span>, <span class="number">2</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span>,			#è–ªæ°´</span><br><span class="line">    comm     <span class="type">DECIMAL</span>(<span class="number">7</span>, <span class="number">2</span>),						   #çº¢åˆ©</span><br><span class="line">    deptno   MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>   #éƒ¨é—¨ç¼–å·</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp</span><br><span class="line">        <span class="keyword">VALUES</span>(<span class="number">7369</span>,<span class="string">&#x27;SMITH&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7902</span>,<span class="string">&#x27;1990-12-17&#x27;</span>,<span class="number">800.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7499</span>,<span class="string">&#x27;ALLEN&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-2-20&#x27;</span>,<span class="number">1600.00</span>,<span class="number">300.00</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7521</span>,<span class="string">&#x27;WARD&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-2-22&#x27;</span>,<span class="number">1250.00</span>,<span class="number">500.00</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7566</span>,<span class="string">&#x27;JONES&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="number">7839</span>,<span class="string">&#x27;1991-4-2&#x27;</span>,<span class="number">2975.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7654</span>,<span class="string">&#x27;MARTIN&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-9-28&#x27;</span>,<span class="number">1250.00</span>,<span class="number">1400.00</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7698</span>,<span class="string">&#x27;BLAKE&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="number">7839</span>,<span class="string">&#x27;1991-5-1&#x27;</span>,<span class="number">2850.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7782</span>,<span class="string">&#x27;CLARK&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="number">7839</span>,<span class="string">&#x27;1991-6-9&#x27;</span>,<span class="number">2450.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>),</span><br><span class="line">              (<span class="number">7788</span>,<span class="string">&#x27;SCOTT&#x27;</span>,<span class="string">&#x27;ANALYST&#x27;</span>,<span class="number">7566</span>,<span class="string">&#x27;1991-4-19&#x27;</span>,<span class="number">3000.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7839</span>,<span class="string">&#x27;KING&#x27;</span>,<span class="string">&#x27;PRESIDENT&#x27;</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;1991-11-17&#x27;</span>,<span class="number">5000.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>),</span><br><span class="line">              (<span class="number">7844</span>,<span class="string">&#x27;TURNER&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-9-8&#x27;</span>,<span class="number">1500.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7900</span>,<span class="string">&#x27;JAMES&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-12-3&#x27;</span>,<span class="number">950.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7902</span>,<span class="string">&#x27;FORD&#x27;</span>,<span class="string">&#x27;ANALYST&#x27;</span>,<span class="number">7566</span>,<span class="string">&#x27;1991-12-3&#x27;</span>,<span class="number">3000.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7934</span>,<span class="string">&#x27;MILLER&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7782</span>,<span class="string">&#x27;1991-1-23&#x27;</span>,<span class="number">1300.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#æ˜¾ç¤ºæ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„å’Œæœ€é«˜å·¥èµ„</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal),<span class="built_in">MAX</span>(sal),deptno <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno;</span><br><span class="line">#æ˜¾ç¤ºæ¯ä¸ªéƒ¨é—¨æ¯ç§å²—ä½çš„å¹³å‡å·¥èµ„å’Œæœ€ä½å·¥èµ„</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal),<span class="built_in">MIN</span>(sal),deptno,job <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno,job;</span><br><span class="line">#æ˜¾ç¤ºå¹³å‡å·¥èµ„ä½äº<span class="number">2000</span>çš„éƒ¨é—¨å·å’Œä»–çš„å¹³å‡å·¥èµ„</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal),deptno <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno <span class="keyword">HAVING</span>  <span class="built_in">AVG</span>(sal) <span class="operator">&lt;</span><span class="number">2000</span> ;</span><br><span class="line">#ä½¿ç”¨åˆ«å</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal) <span class="keyword">AS</span> &quot;avgsal&quot;,deptno <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno <span class="keyword">HAVING</span>  avgsal <span class="operator">&lt;</span><span class="number">2000</span> ;</span><br></pre></td></tr></table></figure>



<p><strong>å·¥èµ„çº§åˆ«è¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#å·¥èµ„çº§åˆ«è¡¨</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> salgrade(</span><br><span class="line">    grade MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">    losal <span class="type">DECIMAL</span>(<span class="number">17</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    hisal <span class="type">DECIMAL</span>(<span class="number">17</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade </span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">700</span>,<span class="number">1200</span>),</span><br><span class="line">    	  (<span class="number">2</span>,<span class="number">1201</span>,<span class="number">1400</span>),</span><br><span class="line">    	  (<span class="number">3</span>,<span class="number">1401</span>,<span class="number">2000</span>),</span><br><span class="line">    	  (<span class="number">4</span>,<span class="number">2001</span>,<span class="number">3000</span>),</span><br><span class="line">    	  (<span class="number">5</span>,<span class="number">3001</span>,<span class="number">9999</span>);</span><br></pre></td></tr></table></figure>



<h4 id="å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°"><a href="#å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°"></a>å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°</h4><table>
<thead>
<tr>
<th align="left">CHARSET(str)</th>
<th align="left">è¿”å›å­—ä¸²å­—ç¬¦é›†</th>
</tr>
</thead>
<tbody><tr>
<td align="left">CONCAT(string [,â€¦])</td>
<td align="left">é“¾æ¥å­—ä¸²</td>
</tr>
<tr>
<td align="left">UCASE(string) &#x2F; LCASE(string)</td>
<td align="left">è½¬åŒ–æˆå¤§å†™&#x2F;å°å†™</td>
</tr>
<tr>
<td align="left">LENGTH(string)</td>
<td align="left">é•¿åº¦</td>
</tr>
<tr>
<td align="left">REPLACE(str , search_str , replace_str)</td>
<td align="left">strä¸­ç”¨replace_stræ›¿æ¢search_str</td>
</tr>
<tr>
<td align="left">SUBSTRING(str , position , [length])</td>
<td align="left">strçš„positionå¼€å§‹[ç´¢å¼•ä»1å¼€å§‹],å–lengthä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">INSTR(str,substring)</td>
<td align="left">è¿”å›substringåœ¨strä¸­å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰è¿”å›0</td>
</tr>
<tr>
<td align="left">STRCMP(str1,str2)</td>
<td align="left">é€å­—ç¬¦æ¯”è¾ƒä¸¤å­—ä¸²çš„å¤§å°ï¼Œç›¸ç­‰ä¸º0ï¼Œä¸ç›¸ç­‰-1</td>
</tr>
<tr>
<td align="left">LTRIM(str) &#x2F; RTRIM(str)</td>
<td align="left">å»æ‰å‰ç«¯æˆ–è€…åç«¯ç©ºæ ¼</td>
</tr>
<tr>
<td align="left">LEFT(str,length) &#x2F; RIGHT(str,length)</td>
<td align="left">ä»å·¦è¾¹&#x2F;å³è¾¹å–lengthä¸ªå­—ä¸²</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> CHARSET(ename) <span class="keyword">FROM</span> emp; #utf8mb4</span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(ename,<span class="string">&#x27; job is &#x27;</span> ,job) <span class="keyword">FROM</span> emp; #SMITH job <span class="keyword">is</span> CLERK</span><br><span class="line"><span class="keyword">SELECT</span> LCASE(CONCAT(ename,<span class="string">&#x27; job is &#x27;</span> ,job)) <span class="keyword">FROM</span> emp; #smith job <span class="keyword">is</span> clerk</span><br><span class="line"><span class="keyword">SELECT</span> ename, LENGTH(ename) <span class="keyword">FROM</span> emp; #SMITH <span class="number">5</span></span><br><span class="line"><span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;HELLO,GOLANG&#x27;</span>,<span class="string">&#x27;GOLANG&#x27;</span>,<span class="string">&#x27;WORLD&#x27;</span>) <span class="keyword">FROM</span> dual; #HELLO,WORLD</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;hello world&#x27;</span>,<span class="number">7</span>); #world</span><br><span class="line"><span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;HELLO WORLD&#x27;</span>,<span class="string">&#x27;WORLD&#x27;</span>) <span class="keyword">FROM</span> dual; #<span class="number">7</span></span><br><span class="line"><span class="keyword">SELECT</span> STRCMP(<span class="string">&#x27;HELLO WORLD&#x27;</span>,<span class="string">&#x27;HELLO,GOLANG&#x27;</span>) <span class="keyword">FROM</span> dual; #<span class="number">-1</span></span><br><span class="line"><span class="keyword">SELECT</span> LTRIM(<span class="string">&#x27;    hello&#x27;</span>) <span class="keyword">FROM</span> dual; #hello </span><br></pre></td></tr></table></figure>



<h4 id="æ•°å­¦ç›¸å…³å‡½æ•°"><a href="#æ•°å­¦ç›¸å…³å‡½æ•°" class="headerlink" title="æ•°å­¦ç›¸å…³å‡½æ•°"></a>æ•°å­¦ç›¸å…³å‡½æ•°</h4><table>
<thead>
<tr>
<th align="left">ABS()</th>
<th align="left">ç»å¯¹å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="left">BIN()</td>
<td align="left">è½¬åŒ–äºŒè¿›åˆ¶</td>
</tr>
<tr>
<td align="left">HEX()</td>
<td align="left">è½¬åŒ–åå…­è¿›åˆ¶</td>
</tr>
<tr>
<td align="left">CONV(num,oldBase,newBase)</td>
<td align="left">è½¬åŒ–è¿›åˆ¶</td>
</tr>
<tr>
<td align="left">CEILING()</td>
<td align="left">å‘ä¸Šå–æ•´</td>
</tr>
<tr>
<td align="left">FLOOR()</td>
<td align="left">å‘ä¸‹å–æ•´</td>
</tr>
<tr>
<td align="left">FORMAT(num,å°æ•°ä½æ•°)</td>
<td align="left">ä¿ç•™å°æ•°ä½æ•°,è¶…å‡ºä½å››èˆäº”å…¥</td>
</tr>
<tr>
<td align="left">LEAST(num1,num2,num3)</td>
<td align="left">æ±‚æœ€å°å€¼</td>
</tr>
<tr>
<td align="left">MOD(numerator,denominator)</td>
<td align="left">æ±‚ä½™</td>
</tr>
<tr>
<td align="left">RAND([seed])</td>
<td align="left">éšæœºæ•°ï¼ŒèŒƒå›´æ˜¯[0 , 1.0]</td>
</tr>
</tbody></table>
<h4 id="æ—¶é—´å‡½æ•°"><a href="#æ—¶é—´å‡½æ•°" class="headerlink" title="æ—¶é—´å‡½æ•°"></a>æ—¶é—´å‡½æ•°</h4><table>
<thead>
<tr>
<th>CURRENT_DATE()</th>
<th>å½“å‰æ—¥æœŸ</th>
</tr>
</thead>
<tbody><tr>
<td>CURRENT_TIME**()**</td>
<td>å½“å‰æ—¶é—´</td>
</tr>
<tr>
<td>DATE(datetime)</td>
<td>è¿”å›datetimeçš„æ—¥æœŸéƒ¨åˆ†</td>
</tr>
<tr>
<td>DATE_ADD(date,INTERVAL d_value d_type)</td>
<td>dateåŸºç¡€ä¸ŠåŠ ä¸Šæ—¥æœŸæˆ–æ—¶é—´</td>
</tr>
<tr>
<td>DATE_SUB(date,INTERVAL d_value d_type)</td>
<td>dateåŸºç¡€ä¸Šå‡å»æ—¥æœŸæˆ–æ—¶é—´</td>
</tr>
<tr>
<td>DATEDIFF(date1,date2)</td>
<td>æ—¶é—´å·®</td>
</tr>
<tr>
<td>NOW()</td>
<td>å½“å‰æ—¶é—´</td>
</tr>
<tr>
<td>YEAR | MONTH | DAY| DATE(datetime)</td>
<td>å¹´æœˆæ—¥</td>
</tr>
<tr>
<td>UNIX_TIMESTAMP()ï¼›</td>
<td>è¿”å›1970-1-1åˆ°ç°åœ¨çš„ç§’æ•°</td>
</tr>
<tr>
<td>FROM_UNIXTIME()</td>
<td>å¯ä»¥æŠŠunix_timestampè½¬åŒ–æˆæŒ‡å®šæ ¼å¼æ—¥æœŸ</td>
</tr>
</tbody></table>
<ul>
<li>DATE_ADDåé¢å¯ä»¥æ˜¯yearï¼Œminuteï¼Œsecondï¼Œday</li>
<li>DATEDIFF(date1,date2)å¾—åˆ°çš„æ˜¯å¤©æ•°ï¼Œæ˜¯date1-date2çš„å¤©æ•°ï¼Œå¯ä»¥å–è´Ÿæ•°</li>
<li>DATEï¼ŒDATE_ADDï¼ŒDATE_SUBï¼ŒDATEDIFFçš„æ—¥æœŸç±»å‹å¯ä»¥æ˜¯dateã€‚datetimeï¼Œtimestamp</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>,<span class="built_in">CURRENT_TIME</span>,<span class="built_in">CURRENT_TIMESTAMP</span>,<span class="built_in">CURRENT_USER</span> <span class="keyword">FROM</span> dual;</span><br><span class="line">#   <span class="number">2023</span><span class="number">-07</span><span class="number">-28</span>       <span class="number">18</span>:<span class="number">49</span>:<span class="number">02</span>  <span class="number">2023</span><span class="number">-07</span><span class="number">-28</span> <span class="number">18</span>:<span class="number">49</span>:<span class="number">02</span> root<span class="variable">@localhost</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mes(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    content <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">    send_time DATETIME</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mes <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;åŒ—äº¬æ–°é—»&#x27;</span>,<span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mes <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;ä¸Šæµ·æ–°é—»&#x27;</span>,<span class="string">&#x27;2020-11-11&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mes <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;å¤©æ´¥æ–°é—»&#x27;</span>,NOW());</span><br><span class="line"></span><br><span class="line">#åªæ˜¾ç¤ºæ—¥æœŸä¸æ˜¾ç¤ºæ—¶é—´</span><br><span class="line"><span class="keyword">select</span> id,content,<span class="type">DATE</span>(send_time) <span class="keyword">from</span> mes;</span><br><span class="line">#æŸ¥è¯¢<span class="number">10</span>minå†…å‘å¸ƒçš„æ–°é—»</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> mes <span class="keyword">where</span> DATE_ADD (send_time , <span class="type">INTERVAL</span> <span class="number">10</span> <span class="keyword">MINUTE</span>) <span class="operator">&gt;=</span> NOW() <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> mes <span class="keyword">where</span> DATE_SUB (NOW() , <span class="type">INTERVAL</span> <span class="number">10</span> <span class="keyword">MINUTE</span>) <span class="operator">&lt;=</span> send_time <span class="keyword">from</span> dual;</span><br><span class="line">#<span class="number">2011</span><span class="number">-11</span><span class="number">-11</span>ä¸<span class="number">1990</span><span class="number">-1</span><span class="number">-1</span>ç›¸å·®å¤šå°‘å¤©</span><br><span class="line"><span class="keyword">select</span> datediff(<span class="string">&#x27;2011-11-11&#x27;</span>,<span class="string">&#x27;1990-1-1&#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line">#æ ¼å¼åŒ–</span><br><span class="line"><span class="keyword">select</span> from_unixtime(unix_timestamp(),<span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>); #<span class="number">2023</span><span class="number">-07</span><span class="number">-28</span> <span class="number">19</span>:<span class="number">25</span>:<span class="number">35</span></span><br></pre></td></tr></table></figure>



<h4 id="åŠ å¯†å‡½æ•°"><a href="#åŠ å¯†å‡½æ•°" class="headerlink" title="åŠ å¯†å‡½æ•°"></a>åŠ å¯†å‡½æ•°</h4><table>
<thead>
<tr>
<th><strong>USER()</strong></th>
<th><strong>æŸ¥è¯¢ç”¨æˆ·</strong></th>
</tr>
</thead>
<tbody><tr>
<td>DATABASE()</td>
<td>æ•°æ®åº“åç§°</td>
</tr>
<tr>
<td>MD5(str)</td>
<td>ä»å­—ç¬¦ä¸²ç®—å‡ºä¸€ä¸ªMD5 32çš„å­—ç¬¦ä¸²ï¼Œ(ç”¨æˆ·å¯†ç )åŠ å¯†</td>
</tr>
<tr>
<td>PASSWORD(str)  [SQL8.0å·²ç§»é™¤]<br />SHA1(str)</td>
<td>ä»åŸæ–‡å¯†ç strè®¡ç®—å¹¶è¿”å›å¯†ç å­—ç¬¦ä¸²ï¼Œå¸¸ç”¨äºå¯¹MySQLæ•°æ®åº“çš„ç”¨æˆ·å¯†ç åŠ å¯†</td>
</tr>
<tr>
<td><code> select*from mysql.user \G</code></td>
<td>ä»åŸæ–‡å¯†ç strè®¡ç®—å¹¶è¿”å›å¯†ç å­—ç¬¦ä¸²</td>
</tr>
</tbody></table>
<h4 id="æµç¨‹æ§åˆ¶å‡½æ•°"><a href="#æµç¨‹æ§åˆ¶å‡½æ•°" class="headerlink" title="æµç¨‹æ§åˆ¶å‡½æ•°"></a>æµç¨‹æ§åˆ¶å‡½æ•°</h4><table>
<thead>
<tr>
<th>IF (expr1ï¼Œexpr2ï¼Œexpr3)</th>
<th>expr1ä¸ºtrueè¿”å›expr2.å¦åˆ™è¿”å›expr3</th>
</tr>
</thead>
<tbody><tr>
<td>IFNULL(expr1,expr2)</td>
<td>expr1éƒ¨ä½ç©ºnullè¿”expr1ï¼Œå¦åˆ™è¿”å›expr2</td>
</tr>
<tr>
<td>select case WHEN expr1 THEN expr2  WHEN expr3 THEN expr4 ELSE expr5ï¼›</td>
<td>ç±»ä¼¼äºå…¶ä»–è¯­è¨€switchå‡½æ•°</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢empè¡¨commï¼Œå¦‚æœä¸ºnullï¼Œæ˜¾ç¤º0.0</span></span><br><span class="line"><span class="comment">-- åˆ¤æ–­è¦ç”¨ is [not] null</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,IF(comm <span class="keyword">IS</span> <span class="keyword">NULL</span>,<span class="number">0.0</span>,comm) <span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure>





<h3 id="æŸ¥è¯¢è¡¥å……"><a href="#æŸ¥è¯¢è¡¥å……" class="headerlink" title="æŸ¥è¯¢è¡¥å……"></a>æŸ¥è¯¢è¡¥å……</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WHERE</span></span><br><span class="line"><span class="comment">-- æŸ¥æ‰¾1992.1.1åå…¥èŒçš„å‘˜å·¥</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> subdate(hiredate,<span class="string">&#x27;1992-1-1&#x27;</span>)<span class="operator">&gt;</span><span class="number">0</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> hiredate<span class="operator">&lt;=</span><span class="string">&#x27;1992-01-01&#x27;</span>;</span><br><span class="line"><span class="comment">-- mysqlä¸­æ—¥æœŸç±»å‹å†™å¯ä»¥ç›´æ¥æ¯”è¾ƒ</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">LIKE</span> </span><br><span class="line">â€‹	<span class="operator">%</span> :è¡¨ç¤º<span class="number">0</span>åˆ°å¤šä¸ªå­—ç¬¦</span><br><span class="line">â€‹	_ :è¡¨ç¤ºå•ä¸ªå­—ç¬¦</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºé¦–å­—æ¯Sçš„å‘˜å·¥å§“åå’Œå·¥èµ„</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;S%&#x27;</span>;</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸ºå¤§å†™Oçš„æ‰€æœ‰å‘˜å·¥é¡¹ç›®å’Œå·¥èµ„</span></span><br><span class="line"><span class="keyword">SELECT</span> ename <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;__O%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">IS</span></span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºæ²¡æœ‰ä¸Šçº§çš„é›‡å‘˜æƒ…å†µ</span></span><br><span class="line"><span class="keyword">SELECT</span> ename <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> mgr <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- order by</span></span><br><span class="line"><span class="comment">-- æŒ‰ç…§å·¥èµ„çš„ä»ä½åˆ°é«˜æ˜¾ç¤ºé›‡å‘˜ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> sal <span class="keyword">ASC</span> ;</span><br><span class="line"><span class="comment">-- å¯¹éƒ¨é—¨å·å‡åºä¸”å·¥èµ„é™åºæ’åºï¼Œæ˜¾ç¤ºé›‡å‘˜ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> deptno <span class="keyword">ASC</span> ,sal <span class="keyword">DESC</span> ;</span><br></pre></td></tr></table></figure>



<h4 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a><strong>åˆ†é¡µæŸ¥è¯¢</strong></h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ...limit <span class="keyword">start</span> , <span class="keyword">rows</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> empno  LIMIT æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ•°<span class="operator">*</span>(ç¬¬å‡ é¡µ<span class="number">-1</span>),æ¯é¡µè®°å½•æ•°;</span><br><span class="line"><span class="comment">-- è¡¨ç¤ºä»start+1è¡Œå¼€å§‹å–ï¼Œå–å‡ºrowsè¡Œï¼Œstartä»0å¼€å§‹ç®—</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŒ‰é›‡å‘˜idå‡åºå–å‡ºï¼Œæ¯é¡µ3æ¡è®°å½•ï¼Œåˆ†åˆ«æ˜¾ç¤ºç¬¬ä¸€é¡µï¼Œç¬¬äºŒé¡µï¼Œç¬¬ä¸‰é¡µ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> empno LIMIT <span class="number">0</span>,<span class="number">3</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> empno LIMIT <span class="number">1</span>,<span class="number">3</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> empno LIMIT <span class="number">2</span>,<span class="number">3</span>;</span><br><span class="line"><span class="comment">-- æŒ‰é›‡å‘˜idé™åºå–å‡ºï¼Œæ¯é¡µ5æ¡è®°å½•ï¼Œæ˜¾ç¤ºç¬¬ä¸‰é¡µï¼Œç¬¬äº”é¡µå¯¹åº”çš„sqlè¯­å¥</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> empno <span class="keyword">DESC</span> LIMIT <span class="number">20</span>,<span class="number">5</span>;</span><br></pre></td></tr></table></figure>



<h4 id="å¢å¼ºgroup-byçš„ä½¿ç”¨"><a href="#å¢å¼ºgroup-byçš„ä½¿ç”¨" class="headerlink" title="å¢å¼ºgroup byçš„ä½¿ç”¨"></a><strong>å¢å¼ºgroup byçš„ä½¿ç”¨</strong></h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ˜¾ç¤ºæ¯ç§å²—ä½çš„é›‡å‘˜æ€»æ•°ï¼Œå¹³å‡å·¥èµ„</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),<span class="built_in">avg</span>(sal),job <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job;</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºé›‡å‘˜æ€»æ•°ï¼Œä»¥åŠè·å¾—è¡¥åŠ©çš„é›‡å‘˜æ•°</span></span><br><span class="line">    <span class="comment">-- count()ä¸­ä¸ºnullçš„äººé»˜è®¤ä¸ä¼šç»Ÿè®¡è¿›å»</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),<span class="built_in">count</span>(comm) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">-- ç»Ÿè®¡æ²¡æœ‰è·å¾—è¡¥åŠ©çš„é›‡å‘˜</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),<span class="built_in">count</span>(if(comm <span class="keyword">is</span> <span class="keyword">null</span>,<span class="literal">true</span>,<span class="keyword">null</span>)) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºç®¡ç†è€…çš„æ€»äººæ•°</span></span><br><span class="line"><span class="keyword">select</span>  <span class="built_in">count</span>(<span class="keyword">distinct</span> mgr) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºé›‡å‘˜å·¥èµ„çš„æœ€å¤§å·®é¢</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal)<span class="operator">-</span><span class="built_in">min</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>



<h4 id="å¤šå­å¥æŸ¥è¯¢"><a href="#å¤šå­å¥æŸ¥è¯¢" class="headerlink" title="å¤šå­å¥æŸ¥è¯¢"></a><strong>å¤šå­å¥æŸ¥è¯¢</strong></h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> col1,col2... <span class="keyword">FROM</span> <span class="keyword">table</span> </span><br><span class="line">    	<span class="keyword">GROUP</span> <span class="keyword">BY</span> col</span><br><span class="line">    	<span class="keyword">HAVING</span> <span class="keyword">condition</span></span><br><span class="line">    	<span class="keyword">ORDER</span> <span class="keyword">BY</span> col</span><br><span class="line">    	LIMIT <span class="keyword">start</span>,<span class="keyword">rows</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç»Ÿè®¡å„ä¸ªéƒ¨é—¨[group by]çš„å¹³å‡å·¥èµ„[avg]ï¼Œ</span></span><br><span class="line"><span class="comment">-- å¹¶ä¸”å¤§äº1000çš„[having],</span></span><br><span class="line"><span class="comment">-- å¹¶ä¸”æŒ‰ç…§å¹³å‡å·¥èµ„ä»ä½åˆ°é«˜æ’åº[order by]ï¼Œ</span></span><br><span class="line"><span class="comment">-- å–å‡ºå‰ä¸¤è¡Œæ•°æ®[Limit]</span></span><br><span class="line"><span class="keyword">SELECT</span> deptno ,<span class="built_in">AVG</span>(sal) <span class="keyword">AS</span> avg_sal <span class="keyword">FROM</span> emp</span><br><span class="line">                                   <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">                                   <span class="keyword">HAVING</span> avg_sal<span class="operator">&gt;</span><span class="number">1000</span></span><br><span class="line">                                   <span class="keyword">ORDER</span> <span class="keyword">BY</span> avg_sal <span class="keyword">DESC</span></span><br><span class="line">                                   LIMIT <span class="number">0</span>,<span class="number">2</span>;</span><br></pre></td></tr></table></figure>







<h2 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h2><p> <strong>éƒ¨å‘˜è¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#éƒ¨å‘˜è¡¨</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> dept</span><br><span class="line">(</span><br><span class="line">    deptno MEDIUMINT   <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">    dname  <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    loc    <span class="type">VARCHAR</span>(<span class="number">13</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> dept</span><br><span class="line">    <span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="string">&#x27;ACCOUNTING&#x27;</span>, <span class="string">&#x27;NEW YORK&#x27;</span>),</span><br><span class="line">           (<span class="number">20</span>, <span class="string">&#x27;RESEARCH&#x27;</span>, <span class="string">&#x27;DALLAS&#x27;</span>),</span><br><span class="line">           (<span class="number">30</span>, <span class="string">&#x27;SALES&#x27;</span>, <span class="string">&#x27;CHICAGO&#x27;</span>),</span><br><span class="line">           (<span class="number">40</span>, <span class="string">&#x27;OPERATIONS&#x27;</span>, <span class="string">&#x27;BOSHTON&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> dept;</span><br></pre></td></tr></table></figure>



<p><strong>é›‡å‘˜è¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#é›‡å‘˜è¡¨</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp</span><br><span class="line">(</span><br><span class="line">    empno    MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,  #ç¼–å·</span><br><span class="line">    ename    <span class="type">VARCHAR</span>(<span class="number">20</span>)        <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>, #åå­—</span><br><span class="line">    job      <span class="type">VARCHAR</span>(<span class="number">9</span>)         <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>, #å·¥ä½œ</span><br><span class="line">    mgr      MEDIUMINT UNSIGNED,				    #ä¸Šçº§ç¼–å·</span><br><span class="line">    hiredate <span class="type">DATE</span>               <span class="keyword">NOT</span> <span class="keyword">NULL</span>, 		     #å…¥èŒæ—¶é—´</span><br><span class="line">    sal      <span class="type">DECIMAL</span>(<span class="number">7</span>, <span class="number">2</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span>,			#è–ªæ°´</span><br><span class="line">    comm     <span class="type">DECIMAL</span>(<span class="number">7</span>, <span class="number">2</span>),						   #çº¢åˆ©</span><br><span class="line">    deptno   MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>   #éƒ¨é—¨ç¼–å·</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp</span><br><span class="line">        <span class="keyword">VALUES</span>(<span class="number">7369</span>,<span class="string">&#x27;SMITH&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7902</span>,<span class="string">&#x27;1990-12-17&#x27;</span>,<span class="number">800.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7499</span>,<span class="string">&#x27;ALLEN&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-2-20&#x27;</span>,<span class="number">1600.00</span>,<span class="number">300.00</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7521</span>,<span class="string">&#x27;WARD&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-2-22&#x27;</span>,<span class="number">1250.00</span>,<span class="number">500.00</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7566</span>,<span class="string">&#x27;JONES&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="number">7839</span>,<span class="string">&#x27;1991-4-2&#x27;</span>,<span class="number">2975.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7654</span>,<span class="string">&#x27;MARTIN&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-9-28&#x27;</span>,<span class="number">1250.00</span>,<span class="number">1400.00</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7698</span>,<span class="string">&#x27;BLAKE&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="number">7839</span>,<span class="string">&#x27;1991-5-1&#x27;</span>,<span class="number">2850.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7782</span>,<span class="string">&#x27;CLARK&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="number">7839</span>,<span class="string">&#x27;1991-6-9&#x27;</span>,<span class="number">2450.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>),</span><br><span class="line">              (<span class="number">7788</span>,<span class="string">&#x27;SCOTT&#x27;</span>,<span class="string">&#x27;ANALYST&#x27;</span>,<span class="number">7566</span>,<span class="string">&#x27;1991-4-19&#x27;</span>,<span class="number">3000.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7839</span>,<span class="string">&#x27;KING&#x27;</span>,<span class="string">&#x27;PRESIDENT&#x27;</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;1991-11-17&#x27;</span>,<span class="number">5000.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>),</span><br><span class="line">              (<span class="number">7844</span>,<span class="string">&#x27;TURNER&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-9-8&#x27;</span>,<span class="number">1500.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7900</span>,<span class="string">&#x27;JAMES&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7698</span>,<span class="string">&#x27;1991-12-3&#x27;</span>,<span class="number">950.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),</span><br><span class="line">              (<span class="number">7902</span>,<span class="string">&#x27;FORD&#x27;</span>,<span class="string">&#x27;ANALYST&#x27;</span>,<span class="number">7566</span>,<span class="string">&#x27;1991-12-3&#x27;</span>,<span class="number">3000.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),</span><br><span class="line">              (<span class="number">7934</span>,<span class="string">&#x27;MILLER&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7782</span>,<span class="string">&#x27;1991-1-23&#x27;</span>,<span class="number">1300.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong><img src="/./C:/Users/yu/Desktop/markdown/MySQL/MySQL%E7%AC%94%E8%AE%B0/GROUPBY_emp.png"></strong></p>
<p><strong>å·¥èµ„çº§åˆ«è¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#å·¥èµ„çº§åˆ«è¡¨</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> salgrade(</span><br><span class="line">    grade MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">    losal <span class="type">DECIMAL</span>(<span class="number">17</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    hisal <span class="type">DECIMAL</span>(<span class="number">17</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade </span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">700</span>,<span class="number">1200</span>),</span><br><span class="line">    	  (<span class="number">2</span>,<span class="number">1201</span>,<span class="number">1400</span>),</span><br><span class="line">    	  (<span class="number">3</span>,<span class="number">1401</span>,<span class="number">2000</span>),</span><br><span class="line">    	  (<span class="number">4</span>,<span class="number">2001</span>,<span class="number">3000</span>),</span><br><span class="line">    	  (<span class="number">5</span>,<span class="number">3001</span>,<span class="number">9999</span>);</span><br></pre></td></tr></table></figure>



<h3 id="ç¬›å¡å°”ç§¯"><a href="#ç¬›å¡å°”ç§¯" class="headerlink" title="ç¬›å¡å°”ç§¯"></a>ç¬›å¡å°”ç§¯</h3><p><strong>ç¬›å¡å°”ç§¯:ä¸¤ä¸ªè¡¨é»˜è®¤æŸ¥è¯¢ï¼Œç¬¬ä¸€å¼ è¡¨æ¯ä¸€è¡Œè®°å½•ä¸ç¬¬äºŒå¼ æ¯ä¸€è¡Œè®°å½•ç»„åˆ</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> emp,dept; #<span class="number">13</span><span class="operator">*</span><span class="number">4</span><span class="operator">=</span><span class="number">52</span>é»˜è®¤æŸ¥è¯¢å‡º<span class="number">52</span>æ¡è®°å½•ï¼Œå³ç¬›å¡å°”ç§¯</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#æ˜¾ç¤ºé›‡å‘˜å,é›‡å‘˜å·¥èµ„ä»¥åŠæ‰€åœ¨çš„éƒ¨é—¨åå­—</span><br><span class="line">    <span class="comment">/*é›‡å‘˜å é›‡å‘˜å·¥èµ„æ¥è‡ªemp éƒ¨é—¨åæ¥è‡ªdeptè¡¨*/</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,dname <span class="keyword">FROM</span> emp,dept <span class="keyword">where</span> emp.deptno<span class="operator">=</span>dept.deptno;</span><br><span class="line">#æ˜¾ç¤ºéƒ¨é—¨å·ä¸º<span class="number">10</span>çš„éƒ¨é—¨å,å‘˜å·¥å,å·¥èµ„</span><br><span class="line"><span class="keyword">SELECT</span> dname,ename,sal,emp.deptno <span class="keyword">FROM</span> emp,dept <span class="keyword">WHERE</span> emp.deptno<span class="operator">=</span>dept.deptno <span class="keyword">AND</span> 														 dept.deptno <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">#æ˜¾ç¤ºå„ä¸ªå‘˜å·¥çš„å§“å,å·¥èµ„,å·¥èµ„çº§åˆ«</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,grade <span class="keyword">FROM</span> emp,salgrade <span class="keyword">WHERE</span> sal <span class="keyword">BETWEEN</span> losal <span class="keyword">AND</span> hisal;</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºé›‡å‘˜åï¼Œé›‡å‘˜å·¥èµ„ï¼Œé›‡å‘˜æ‰€åœ¨çš„éƒ¨é—¨åï¼Œå¹¶æŒ‰éƒ¨é—¨é™åºæ’åº</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,dname,emp.deptno </span><br><span class="line">				<span class="keyword">FROM</span> emp,dept </span><br><span class="line">                  <span class="keyword">WHERE</span> emp.deptno<span class="operator">=</span>dept.deptno  </span><br><span class="line">                  <span class="keyword">ORDER</span> <span class="keyword">BY</span>  dept.deptno <span class="keyword">DESC</span> ;</span><br></pre></td></tr></table></figure>



<h3 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h3><p>è‡ªè¿æ¥æŒ‡åœ¨åŒä¸€å¼ è¡¨çš„è¿æ¥æŸ¥è¯¢</p>
<p>å°†åŒä¸€ç§è¡¨çœ‹ä½œä¸¤å¼ è¡¨</p>
<p><em>ç»™è¡¨èµ·åˆ«å</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ˜¾ç¤ºå‘˜å·¥å’Œä¸Šçº§åå­—</span></span><br><span class="line"><span class="keyword">SELECT</span> worker.ename , boss.ename </span><br><span class="line">		<span class="keyword">FROM</span> emp <span class="keyword">AS</span> worker , emp <span class="keyword">AS</span> boss </span><br><span class="line">		<span class="keyword">WHERE</span> worker.mgr <span class="operator">=</span> boss.empno;</span><br></pre></td></tr></table></figure>



<h3 id="å¤šè¡Œå­æŸ¥è¯¢"><a href="#å¤šè¡Œå­æŸ¥è¯¢" class="headerlink" title="å¤šè¡Œå­æŸ¥è¯¢"></a>å¤šè¡Œå­æŸ¥è¯¢</h3><ul>
<li>å­æŸ¥è¯¢æ˜¯æŒ‡åµŒå…¥åœ¨å…¶ä»– <code>sql</code> è¯­å¥ä¸­çš„ <code>select</code> è¯­å¥ï¼Œä¹Ÿå«åµŒå¥—æŸ¥è¯¢</li>
<li>å•è¡Œå­æŸ¥è¯¢æ˜¯æŒ‡è¿”å›ä¸€è¡Œæ•°æ®çš„æŸ¥è¯¢è¯­å¥</li>
<li>å¤šè¡Œå­æŸ¥è¯¢æ˜¯è¿”å›å¤šè¡Œæ•°æ®çš„å­æŸ¥è¯¢ï¼Œä½¿ç”¨å…³é”®å­— <code>IN</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢ä¸SMITHåŒä¸€éƒ¨é—¨çš„å‘˜å·¥</span></span><br><span class="line"><span class="keyword">SELECT</span> deptno <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;SMITH&#x27;</span>; #å…ˆæ‰¾åˆ°SMITHçš„éƒ¨é—¨å·</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno <span class="keyword">IN</span> (<span class="keyword">SELECT</span> deptno <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;SMITH&#x27;</span>); #åµŒå¥—</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢ å’Œéƒ¨é—¨10çš„å·¥ä½œç›¸åŒçš„é›‡å‘˜çš„åå­—ï¼Œå²—ä½ï¼Œå·¥èµ„ï¼Œéƒ¨é—¨å·ï¼Œä½†æ˜¯ä¸åŒ…å«10å·éƒ¨é—¨è‡ªå·±çš„é›‡å‘˜</span></span><br><span class="line"># <span class="number">1.</span>åå·éƒ¨é—¨æœ‰å“ªäº›å·¥ä½œ</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno<span class="operator">=</span><span class="number">10</span>;</span><br><span class="line"># <span class="number">2.</span>æŠŠä¸Šé¢æŸ¥è¯¢çš„ç»“æœå½“ä½œå­æŸ¥è¯¢</span><br><span class="line"><span class="keyword">SELECT</span> ename,job,sal,deptno </span><br><span class="line">		<span class="keyword">FROM</span> emp</span><br><span class="line">		<span class="keyword">WHERE</span> job <span class="keyword">IN</span> (<span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno<span class="operator">=</span><span class="number">10</span>) 							<span class="keyword">AND</span> deptno <span class="operator">!=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h4 id="å­æŸ¥è¯¢ä¸´æ—¶è¡¨"><a href="#å­æŸ¥è¯¢ä¸´æ—¶è¡¨" class="headerlink" title="å­æŸ¥è¯¢ä¸´æ—¶è¡¨"></a>å­æŸ¥è¯¢ä¸´æ—¶è¡¨</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢ecshopä¸­å„ç±»åˆ«ä¸­ä»·æ ¼æœ€é«˜çš„å•†å“</span></span><br><span class="line">#å•†å“è¡¨</span><br><span class="line"><span class="keyword">SELECT</span> goods_id,cat_id,goods_name,shop_price <span class="keyword">FROM</span> ecs_goods; #ä¸´æ—¶è¡¨</span><br><span class="line">#å¾—åˆ°å„ä¸ªç±»åˆ«ä¸­ï¼Œä»·æ ¼æœ€é«˜çš„å•†å“ max <span class="operator">+</span> <span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line"><span class="keyword">SELECT</span> cat_id,<span class="built_in">MAX</span>(shop_price) <span class="keyword">FROM</span> ecs_goods <span class="keyword">GROUP</span> <span class="keyword">BY</span> cat_id;</span><br><span class="line"># ç»“æœ</span><br><span class="line"><span class="keyword">SELECT</span> goods_id,temp.cat_id,goods_name,shop_price </span><br><span class="line">	   	 <span class="keyword">FROM</span> ecs_goods,(</span><br><span class="line">    			<span class="keyword">SELECT</span> cat_id,<span class="built_in">MAX</span>(shop_price) <span class="keyword">AS</span> max_price</span><br><span class="line">   			 	<span class="keyword">FROM</span> ecs_goods </span><br><span class="line">    			<span class="keyword">GROUP</span> <span class="keyword">BY</span> cat_id</span><br><span class="line">         )  <span class="keyword">AS</span> temp</span><br><span class="line">		 <span class="keyword">WHERE</span> 	temp.cat_id <span class="operator">=</span> ecs_goods.cat_id <span class="keyword">AND</span> temp.max_price <span class="operator">=</span> ecs_goods.shop_price;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„ä¿¡æ¯(éƒ¨é—¨å ç¼–å· åœ°å€ äººå‘˜æ•°é‡)</span></span><br><span class="line"><span class="keyword">select</span> dname,dept.deptno,loc,temp.num</span><br><span class="line">    <span class="keyword">from</span> dept,(<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> num,deptno <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno) <span class="keyword">as</span> temp</span><br><span class="line">    <span class="keyword">where</span> temp.deptno<span class="operator">=</span>dept.deptno;</span><br><span class="line"><span class="comment">-- å¦ä¸€ç§å†™æ³•</span></span><br><span class="line"><span class="keyword">select</span> temp.<span class="operator">*</span>,dname,loc</span><br><span class="line">    <span class="keyword">from</span> dept,(<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> num,deptno <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno) <span class="keyword">as</span> temp</span><br><span class="line">    <span class="keyword">where</span> temp.deptno<span class="operator">=</span>dept.deptno;</span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºåˆ— è¡¨å.* å¯ä»¥å…¨æ˜¾ç¤ºå‡ºæ¥,å‰ææ˜¯åˆ—ååœ¨å¤šè¡¨æŸ¥è¯¢ä¸­ä¸é‡å¤   </span></span><br></pre></td></tr></table></figure>



<h4 id="ALL-å’Œ-ANY"><a href="#ALL-å’Œ-ANY" class="headerlink" title="ALL å’Œ ANY"></a>ALL å’Œ ANY</h4><p><strong>ALL</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ˜¾ç¤ºå·¥èµ„æ¯”éƒ¨é—¨30çš„æ‰€æœ‰å‘˜å·¥çš„å·¥èµ„é«˜çš„å‘˜å·¥çš„å§“åï¼Œå·¥èµ„ï¼Œéƒ¨é—¨å·</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span><span class="keyword">ALL</span>(<span class="keyword">SELECT</span> sal <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(sal) <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br><span class="line"># <span class="keyword">WHERE</span> åé¢ä¸èƒ½ç›´æ¥è·Ÿèšåˆå‡½æ•°MAX </span><br></pre></td></tr></table></figure>

<p><strong>ANY</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ˜¾ç¤ºå·¥èµ„æ¯”éƒ¨é—¨30çš„å…¶ä¸­ä¸€ä¸ªå‘˜å·¥çš„å·¥èµ„é«˜çš„å‘˜å·¥å§“åï¼Œå·¥èµ„ï¼Œéƒ¨é—¨å·</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span><span class="keyword">ANY</span>(<span class="keyword">SELECT</span> sal <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span>(<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(sal) <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br></pre></td></tr></table></figure>



<h3 id="å¤šåˆ—å­æŸ¥è¯¢"><a href="#å¤šåˆ—å­æŸ¥è¯¢" class="headerlink" title="å¤šåˆ—å­æŸ¥è¯¢"></a>å¤šåˆ—å­æŸ¥è¯¢</h3><p>å¤šåˆ—å­æŸ¥è¯¢æŒ‡æŸ¥è¯¢è¿”å›å¤šä¸ªåˆ—æ•°æ®çš„å­æŸ¥è¯¢è¯­å¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">(å­—æ®µ<span class="number">1</span>,å­—æ®µ<span class="number">2.</span>..)<span class="operator">=</span>(<span class="keyword">SELECT</span> å­—æ®µ<span class="number">1</span>,å­—æ®µ<span class="number">2.</span>.. <span class="keyword">FROM</span> ...);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢ä¸SMITHéƒ¨é—¨å’Œå²—ä½å®Œå…¨ç›¸åŒçš„æ‰€æœ‰é›‡å‘˜ï¼Œä¸åŒ…å«SMITHæœ¬äºº</span></span><br><span class="line"># å¾—åˆ°SMITHçš„éƒ¨é—¨å’Œå²—ä½</span><br><span class="line"><span class="keyword">SELECT</span> deptno,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="operator">=</span><span class="string">&#x27;SMITH&#x27;</span>;</span><br><span class="line">#æŠŠä¸Šé¢çš„æŸ¥è¯¢å½“ä½œå­æŸ¥è¯¢ï¼Œå¹¶ä¸”ä½¿ç”¨å¤šåˆ—å­æŸ¥è¯¢</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">    <span class="keyword">WHERE</span> (deptno, job) <span class="operator">=</span> (<span class="keyword">SELECT</span> deptno, job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;SMITH&#x27;</span>)</span><br><span class="line">    <span class="keyword">AND</span> ename <span class="operator">!=</span> <span class="string">&#x27;SMITH&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h3 id="è¡¨å¤åˆ¶å’Œå»é‡"><a href="#è¡¨å¤åˆ¶å’Œå»é‡" class="headerlink" title="è¡¨å¤åˆ¶å’Œå»é‡"></a>è¡¨å¤åˆ¶å’Œå»é‡</h3><h4 id="å¤åˆ¶"><a href="#å¤åˆ¶" class="headerlink" title="å¤åˆ¶"></a>å¤åˆ¶</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è¡¨çš„å¤åˆ¶</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_tab01</span><br><span class="line">(</span><br><span class="line">    id     <span class="type">INT</span>,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    sal    <span class="keyword">DOUBLE</span>,</span><br><span class="line">    job    <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    deptno <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_tab01;</span><br><span class="line"><span class="comment">-- è‡ªæˆ‘å¤åˆ¶</span></span><br><span class="line"><span class="comment">-- 1.å…ˆæŠŠempçš„è¡¨è®°å½•å¤åˆ¶åˆ° my_tab01</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_tab01 (id, name, sal, job, deptno)</span><br><span class="line">        <span class="keyword">SELECT</span> empno, ename, sal, job, deptno <span class="keyword">FROM</span> emp;</span><br><span class="line"><span class="comment">-- 2.è‡ªæˆ‘å¤åˆ¶(è¡Œæ•°æ¯å¤åˆ¶ä¸€æ¬¡*2)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_tab01 <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_tab01;</span><br></pre></td></tr></table></figure>

<h4 id="å»é‡"><a href="#å»é‡" class="headerlink" title="å»é‡"></a>å»é‡</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºä¸å¾…å»é‡è¡¨ä¸€æ ·ç»“æ„çš„ä¸´æ—¶è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_tmp <span class="keyword">LIKE</span> my_tab01;</span><br><span class="line"><span class="comment">-- distinct å¤åˆ¶åˆ°ä¸´æ—¶è¡¨</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_tmp <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_tab01;</span><br><span class="line"><span class="comment">-- æ¸…é™¤è®°å½•</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> my_tab01;</span><br><span class="line"><span class="comment">-- é‡æ–°æ‹·è´</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_tab01 <span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> my_tmp;</span><br><span class="line"><span class="comment">-- é‡Šæ”¾å†…å­˜</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> my_tmp;</span><br></pre></td></tr></table></figure>



<h3 id="åˆå¹¶æŸ¥è¯¢"><a href="#åˆå¹¶æŸ¥è¯¢" class="headerlink" title="åˆå¹¶æŸ¥è¯¢"></a>åˆå¹¶æŸ¥è¯¢</h3><p>å®é™…åº”ç”¨ä¸­ï¼Œä¸ºäº†åˆå¹¶å¤šä¸ªselectè¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆæ“ä½œç¬¦å·<code>union</code> <code>union all</code></p>
<p><code>union all</code>æ“ä½œç¬¦ç”¨äºå–å¾—ä¸¤ä¸ªç»“æœé›†çš„å¹¶é›†ï¼Œä½¿ç”¨è¯¥æ“ä½œç¬¦æ—¶ä¸ä¼šå–æ¶ˆé‡å¤è¡Œ</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span><span class="number">2500</span>;</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span>;</span><br><span class="line"><span class="comment">-- union all å°†ä¸¤ä¸ªç»“æœåˆå¹¶ä¸ä¼šå»é‡</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span><span class="number">2500</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span>;</span><br><span class="line"><span class="comment">-- union ä¼šå»é‡</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span><span class="number">2500</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span>;</span><br><span class="line"><span class="comment">-- or ä¼šå»é‡</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;</span><span class="number">2500</span> <span class="keyword">OR</span>  job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h3 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ—å‡ºéƒ¨é—¨åç§°å’Œè¿™äº›éƒ¨é—¨å‘˜å·¥åç§°å’Œå·¥ä½œï¼ŒåŒæ—¶æ˜¾ç¤ºå‡ºé‚£äº›æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨</span></span><br><span class="line"><span class="keyword">SELECT</span> dname,ename,job</span><br><span class="line">    <span class="keyword">FROM</span> emp,dept</span><br><span class="line">    <span class="keyword">WHERE</span> emp.deptno<span class="operator">=</span>dept.deptno <span class="keyword">ORDER</span> <span class="keyword">BY</span> dname;</span><br><span class="line">#éƒ¨é—¨æœ‰å››ä¸ªéƒ¨é—¨ ä¸Šé¢<span class="keyword">sql</span>è¯­å¥æŒ‡æŒ¥æ˜¾ç¤ºå‡ºæœ‰å‘˜å·¥çš„éƒ¨é—¨ï¼Œæ‰€ä»¥æœ€ç»ˆæ˜¾ç¤ºå‡ºä¸‰ä¸ªéƒ¨é—¨ï¼Œæ— æ³•æ˜¾ç¤ºæ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨</span><br><span class="line">#è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¤–è¿æ¥</span><br></pre></td></tr></table></figure>

<p>å¤–è¿æ¥</p>
<ul>
<li><p>å·¦å¤–è¿æ¥ å·¦ä¾§çš„è¡¨å®Œå…¨æ˜¾ç¤ºå°±æ˜¯å·¦å¤–è¿æ¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ... <span class="keyword">FROM</span> table1 <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table2 <span class="keyword">ON</span> <span class="keyword">condition</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å³å¤–è¿æ¥ å³ä¾§çš„è¡¨å®Œå…¨æ˜¾ç¤ºå°±æ˜¯å·¦å¤–è¿æ¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ... <span class="keyword">FROM</span> table1 <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> table2 <span class="keyword">ON</span> <span class="keyword">condition</span></span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- stu è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> stu</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> stu <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;tom&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;kitty&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;nono&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">stuè¡¨</span><br><span class="line">			1 	jack</span><br><span class="line">			2 	tom</span><br><span class="line">			3 	kitty</span><br><span class="line">			4 	nono</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- exam è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> exam</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    grade <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> exam <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="number">56</span>),(<span class="number">2</span>,<span class="number">76</span>),(<span class="number">11</span>,<span class="number">8</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">examè¡¨</span><br><span class="line">			1	56</span><br><span class="line">			2	76</span><br><span class="line">			11	8</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ä½¿ç”¨å·¦å¤–è¿æ¥</span></span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºæ‰€æœ‰äººçš„æˆç»© å¦‚æœæ²¡æœ‰æˆç»©ä¹Ÿè¦æ˜¾ç¤ºäººçš„å§“åå’Œidï¼Œæˆç»©æ˜¾ç¤ºä¸ºç©º</span></span><br><span class="line"><span class="keyword">SELECT</span> name,stu.id,grade</span><br><span class="line">    <span class="keyword">FROM</span> stu,exam</span><br><span class="line">    <span class="keyword">WHERE</span> stu.id<span class="operator">=</span>exam.id;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">jack	1	56</span></span><br><span class="line"><span class="comment">tom		2	76</span></span><br><span class="line"><span class="comment">*/</span>    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ”¹æˆå·¦å¤–è¿æ¥</span><br><span class="line"><span class="keyword">SELECT</span> name,stu.id,grade</span><br><span class="line">    <span class="keyword">FROM</span> stu <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> exam</span><br><span class="line">    <span class="keyword">ON</span> stu.id<span class="operator">=</span>exam.id;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">jack	1	56</span></span><br><span class="line"><span class="comment">tom		2	76</span></span><br><span class="line"><span class="comment">kitty	3	NULL</span></span><br><span class="line"><span class="comment">nono	4	NULL</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ä½¿ç”¨å³å¤–è¿æ¥</span></span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºæ‰€æœ‰æˆç»©ï¼Œå¦‚æœæ²¡æœ‰åå­—åŒ¹é…æ˜¾ç¤ºç©º</span></span><br><span class="line"><span class="keyword">SELECT</span> name,stu.id,grade</span><br><span class="line">    <span class="keyword">FROM</span> stu <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> exam</span><br><span class="line">    <span class="keyword">ON</span> stu.id<span class="operator">=</span>exam.id;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">jack	1		56</span></span><br><span class="line"><span class="comment">tom		2		76</span></span><br><span class="line"><span class="comment">NULL	NULL 	 8</span></span><br><span class="line"><span class="comment">*/</span>    </span><br></pre></td></tr></table></figure>

<p><strong>EXAMPLE</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åˆ—å‡ºéƒ¨é—¨åç§°å’Œè¿™äº›éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯ï¼ŒåŒæ—¶åˆ—å‡ºé‚£äº›æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨</span></span><br><span class="line">#å·¦å¤–è¿æ¥</span><br><span class="line"><span class="keyword">SELECT</span> dname,ename,job</span><br><span class="line">    <span class="keyword">FROM</span> dept <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> emp</span><br><span class="line">    <span class="keyword">ON</span> emp.deptno<span class="operator">=</span>dept.deptno;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">dname		ename	job</span></span><br><span class="line"><span class="comment">ACCOUNTING	MILLER	CLERK</span></span><br><span class="line"><span class="comment">ACCOUNTING	KING	PRESIDENT</span></span><br><span class="line"><span class="comment">ACCOUNTING	CLARK	MANAGER</span></span><br><span class="line"><span class="comment">RESEARCH	FORD	ANALYST</span></span><br><span class="line"><span class="comment">RESEARCH	SCOTT	ANALYST</span></span><br><span class="line"><span class="comment">RESEARCH	JONES	MANAGER</span></span><br><span class="line"><span class="comment">RESEARCH	SMITH	CLERK</span></span><br><span class="line"><span class="comment">SALES		JAMES	CLERK</span></span><br><span class="line"><span class="comment">SALES		TURNER	SALESMAN</span></span><br><span class="line"><span class="comment">SALES		BLAKE	MANAGER</span></span><br><span class="line"><span class="comment">SALES		MARTIN	SALESMAN</span></span><br><span class="line"><span class="comment">SALES		WARD	SALESMAN</span></span><br><span class="line"><span class="comment">SALES		ALLEN	SALESMAN</span></span><br><span class="line"><span class="comment">OPERATIONS	NULL	NULL</span></span><br><span class="line"><span class="comment">*/</span>    </span><br><span class="line">#å³å¤–è¿æ¥</span><br><span class="line"><span class="keyword">SELECT</span> ename,job,dname</span><br><span class="line">    <span class="keyword">FROM</span> emp <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> dept</span><br><span class="line">    <span class="keyword">ON</span> emp.deptno<span class="operator">=</span>dept.deptno;</span><br></pre></td></tr></table></figure>





<h2 id="MySQLçº¦æŸ"><a href="#MySQLçº¦æŸ" class="headerlink" title="MySQLçº¦æŸ"></a>MySQLçº¦æŸ</h2><p>çº¦æŸç”¨äºæ•°æ®åº“æ»¡è¶³ç‰¹å®šçš„å•†ä¸šè§„åˆ™</p>
<p>mysqlä¸­çº¦æŸåŒ…æ‹¬ï¼š<code>not nullã€uniqueã€primary keyã€foreign keyã€check</code>äº”ç§</p>
<h3 id="ä¸»é”®-primary-key"><a href="#ä¸»é”®-primary-key" class="headerlink" title="ä¸»é”® [primary key]"></a>ä¸»é”® [primary key]</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå å­—æ®µç±»å‹ <span class="keyword">primary</span> key</span><br></pre></td></tr></table></figure>

<p>ç”¨äºå”¯ä¸€çš„è¡¨ç¤ºè¡¨è¡Œçš„æ•°æ®ï¼Œå½“å®šä¹‰ä¸»é”®çº¦æŸåï¼Œè¯¥åˆ—ä¸èƒ½é‡å¤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> primaryT</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY ,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- ä¸»é”®åˆ—å€¼ä¸å¯ä»¥é‡å¤</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> primaryT <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;jack@gmail.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> primaryT <span class="keyword">VALUES</span> (<span class="number">2</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;tom@gmail.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> primaryT <span class="keyword">VALUES</span> (<span class="number">2</span>,<span class="string">&#x27;false&#x27;</span>,<span class="string">&#x27;false@gmail.com&#x27;</span>);#é‡å¤</span><br><span class="line"></span><br><span class="line"># [<span class="literal">false</span>] Duplicate entry <span class="string">&#x27;2&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;primaryt.PRIMARY&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>primary keyä¸èƒ½é‡å¤ä¸èƒ½ä¸ºnull</p>
</li>
<li><p>ä¸€å¼ è¡¨æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä½†å¯ä»¥æ˜¯å¤åˆä¸»é”®</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> primaryComplexKey</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id,`name`)</span><br><span class="line">);</span><br><span class="line">#åªæœ‰ id å’Œ name åŒæ—¶é‡å¤æ‰æ— æ³•æ·»åŠ æ•°æ®</span><br><span class="line"># id å’Œ name æœ‰ä¸€ä¸ªä¸ä¸€æ ·ï¼Œè¯¥åˆ—ä¸ç®—é‡å¤</span><br></pre></td></tr></table></figure>

<ul>
<li>é€æ¸çš„æŒ‡å®šæ–¹å¼æœ‰ä¸¤ç§</li>
</ul>
<p>â€‹	1.å­—æ®µå ç±»å‹ primary key</p>
<p>â€‹	2.è¡¨çš„æœ€åå†™ primary key(åˆ—å)</p>
<ul>
<li><em>ä½¿ç”¨<code>desc</code>è¡¨åï¼Œå¯ä»¥æŸ¥çœ‹åˆ°primary keyçš„æƒ…å†µ</em></li>
</ul>
<h3 id="éç©º-not-null"><a href="#éç©º-not-null" class="headerlink" title="éç©º [not null]"></a>éç©º [not null]</h3><p>æ’å…¥æ•°æ®æ—¶å¿…é¡»æä¾›æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå å­—æ®µç±»å‹ <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>



<h3 id="å”¯ä¸€-unique"><a href="#å”¯ä¸€-unique" class="headerlink" title="å”¯ä¸€  [unique]"></a>å”¯ä¸€  [unique]</h3><p>å®šä¹‰å”¯ä¸€çº¦æŸåï¼Œè¯¥åˆ—å€¼ä¸èƒ½é‡å¤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå å­—æ®µç±»å‹ <span class="keyword">UNIQUE</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœæ²¡æœ‰æŒ‡å®šnot null é‚£ä¹ˆuniqueå­—æ®µå¯ä»¥æœ‰å¤šä¸ªnull</li>
<li>ä¸€å¼ è¡¨å¯ä»¥æœ‰å¤šä¸ªuniqueå­—æ®µ</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> UniqueTable</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">UNIQUE</span> , <span class="comment">-- è¡¨ç¤ºidåˆ—æ˜¯ä¸å¯ä»¥é‡å¤</span></span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>), <span class="comment">-- è¡¨ç¤ºnameåˆ—æ˜¯ä¸å¯ä»¥é‡å¤</span></span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> UniqueTable <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;jack@gmail.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> UniqueTable <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;tom@gmail.com&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#[<span class="literal">false</span>] Duplicate entry <span class="string">&#x27;1&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;uniquetable.id&#x27;</span></span><br></pre></td></tr></table></figure>



<p><strong>ä¸»é”®çº¦æŸï¼ˆprimary keyï¼‰</strong></p>
<ol>
<li>primary keyç”¨äºå”¯ä¸€åœ°æ ‡è¯†è¡¨ä¸­çš„æ¯ä¸€æ¡è®°å½•ï¼Œå¯ä»¥å®šä¹‰ä¸€åˆ—æˆ–å¤šåˆ—ä¸ºprimary key</li>
<li>æ˜¯ä¸å¯èƒ½ï¼ˆæˆ–å¾ˆéš¾ï¼‰æ›´æ–°</li>
<li>primary keyåˆ—ä¸Šæ²¡æœ‰ä»»ä½•ä¸¤è¡Œå…·æœ‰ç›¸åŒå€¼ï¼ˆå³é‡å¤å€¼ï¼‰ï¼Œä¸å…è®¸ç©ºï¼ˆNULLï¼‰</li>
<li>primary keyå¯ä½œå¤–å¥ï¼Œuniqueç´¢å¼•ä¸å¯</li>
</ol>
<p><strong>å”¯ä¸€æ€§çº¦æŸï¼ˆuniqueï¼‰</strong></p>
<ol>
<li>uniqueçº¦æŸç”¨æ¥é™åˆ¶ä¸å—ä¸»é”®çº¦æŸçš„åˆ—ä¸Šçš„æ•°æ®çš„å”¯ä¸€æ€§ï¼Œç”¨äºä½œä¸ºè®¿é—®æŸè¡Œçš„å¯é€‰æ‰‹æ®µï¼Œä¸€ä¸ªè¡¨ä¸Šå¯ä»¥æ”¾ç½®å¤šä¸ªuniqueçº¦æŸï¼</li>
<li>åªè¦uniqueå°±å¯ä»¥æ›´æ–°ï¼</li>
<li>å³è¡¨ä¸­ä»»æ„ä¸¤è¡Œåœ¨ æŒ‡å®šåˆ—ä¸Šéƒ½ä¸å…è®¸æœ‰ç›¸åŒçš„å€¼ï¼Œå…è®¸ç©ºï¼ˆNULLï¼‰</li>
<li>ä¸€ä¸ªè¡¨ä¸Šå¯ä»¥æ”¾ç½®å¤šä¸ªunique</li>
</ol>
<h3 id="å¤–é”®-foreign-key"><a href="#å¤–é”®-foreign-key" class="headerlink" title="å¤–é”®  [foreign key]"></a>å¤–é”®  [foreign key]</h3><p>ç”¨äºå®šä¹‰ä¸»è¡¨å’Œä»è¡¨å…³ç³»ï¼šå¤–é”®çº¦æŸè¦å®šä¹‰åœ¨ä»è¡¨ä¸Šï¼Œä¸»è¡¨å¿…é¡»å…·æœ‰primary keyæˆ–è€…uniqueï¼Œå½“å®šä¹‰å¤–é”®çº¦æŸåï¼Œè¦æ±‚å¤–é”®åˆ—æ•°æ®å¿…é¡»åœ¨ä¸»è¡¨çš„ä¸»é”®åˆ—å­˜åœ¨æˆ–è€…ä¸ºnull</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FOREIGN</span> KEY(æœ¬è¡¨å­—æ®µå) <span class="keyword">REFERENCES</span> ä¸»è¡¨å (ä¸»é”®åæˆ–<span class="keyword">unique</span>å­—æ®µå)</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ä¸»è¡¨ class</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> class</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY ,</span><br><span class="line">    `name`  <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- ä»è¡¨ student</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">primary</span> key,<span class="comment">-- å­¦ç”Ÿç¼–å·</span></span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    class_id <span class="type">int</span>,<span class="comment">-- ç­çº§ç¼–å·</span></span><br><span class="line">    # å¤–é”®å…³ç³»</span><br><span class="line">    <span class="keyword">foreign</span> key (class_id) <span class="keyword">references</span> class(id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- æµ‹è¯•æ•°æ®</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> class <span class="keyword">values</span>(<span class="number">100</span>,<span class="string">&#x27;java&#x27;</span>),(<span class="number">200</span>,<span class="string">&#x27;web&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">100</span>);#æˆåŠŸ</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">200</span>);#æˆåŠŸ</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;false&#x27;</span>,<span class="number">300</span>);#å¤±è´¥</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;false&#x27;</span>,<span class="keyword">null</span>);#æˆåŠŸ</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¤–é”®æŒ‡å‘è¡¨çš„å­—æ®µï¼Œå¿…é¡»æ˜¯primary keyæˆ–è€…unique</p>
</li>
<li><p>è¡¨çš„ç±»å‹å¿…é¡»æ˜¯innodbæ‰æ”¯æŒå¤–é”®</p>
</li>
<li><p>å¤–é”®ä¸­åˆ—çš„æ•°æ®ç±»å‹å¿…é¡»å’Œä¸»è¡¨ä¸»é”®ä¸­å¯¹åº”åˆ—çš„æ•°æ®ç±»å‹ç›¸åŒï¼Œé•¿åº¦å¯ä¸åŒ</p>
</li>
<li><p>å¤–é”®å­—æ®µçš„å€¼å¿…é¡»åœ¨ä¸»é”®å­—æ®µä¸­å‡ºç°è¿‡ï¼Œæˆ–è€…ä¸ºnull</p>
</li>
<li><p>ä¸€æ—¦å»ºç«‹ä¸»å¤–é”®å…³ç³»ï¼Œæ•°æ®ä¸èƒ½éšæ„åˆ é™¤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> class <span class="keyword">where</span> id<span class="operator">=</span><span class="number">100</span>;#<span class="literal">false</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="çº¦æŸé”®-check"><a href="#çº¦æŸé”®-check" class="headerlink" title="çº¦æŸé”® [check]"></a>çº¦æŸé”® [check]</h3><p>ç”¨äºå¼ºåˆ¶è¡Œæ•°æ®å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå‡å®šsalåˆ—å®šä¹‰äº†checkçº¦æŸå¹¶è¦æ±‚salåˆ—å€¼åœ¨1000~2000ä¹‹é—´ï¼Œå¦‚æœä¸åœ¨å°±ä¼šæŠ¥é”™</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> checkTab</span><br><span class="line">(</span><br><span class="line">    id     <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    sex    <span class="type">VARCHAR</span>(<span class="number">6</span>) <span class="keyword">CHECK</span> ( sex <span class="keyword">IN</span> (<span class="string">&#x27;man&#x27;</span>, <span class="string">&#x27;women&#x27;</span>)),</span><br><span class="line">    sal    <span class="keyword">DOUBLE</span> <span class="keyword">CHECK</span> ( sal <span class="operator">&gt;</span> <span class="number">1000</span> <span class="keyword">AND</span> sal <span class="operator">&lt;</span> <span class="number">2000</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> checkTab <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;false&#x27;</span>,<span class="string">&#x27;man&#x27;</span>,<span class="number">1133223</span>);#<span class="literal">false</span></span><br></pre></td></tr></table></figure>





<h2 id="MySQLç´¢å¼•"><a href="#MySQLç´¢å¼•" class="headerlink" title="MySQLç´¢å¼•"></a>MySQLç´¢å¼•</h2><p>ç´¢å¼•ï¼ˆIndexï¼‰æ˜¯å¸®åŠ©MySQLé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œé€šä¿—æ¥è®²ç´¢å¼•å°±å¥½æ¯”ä¹¦æœ¬çš„ç›®å½•ï¼ŒåŠ å¿«æ•°æ®åº“çš„æŸ¥è¯¢é€Ÿåº¦ã€‚ï¼ˆMySQLå®˜æ–¹å¯¹ç´¢å¼•çš„å®šä¹‰ï¼‰æé«˜æŸ¥è¯¢æ•ˆç‡</p>
<p><strong>ç´¢å¼•çš„ä¼˜ç‚¹</strong></p>
<p>æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œæ¶ˆé™¤æ•°æ®åˆ†ç»„ã€æ’åºï¼Œé¿å…å›è¡¨æŸ¥è¯¢ï¼ˆç´¢å¼•è¦†ç›–ï¼‰ï¼Œä¼˜åŒ–èšåˆæŸ¥è¯¢ï¼Œ ç”¨äºå¤šè¡¨JOINå…³è”æŸ¥è¯¢ï¼Œ åˆ©ç”¨å”¯ä¸€æ€§çº¦æŸï¼Œä¿è¯æ•°æ®å”¯ä¸€æ€§ï¼Œ InnoDBè¡Œé”å®ç°ã€‚</p>
<p><strong>ç´¢å¼•çš„ç¼ºç‚¹</strong></p>
<p>å¢åŠ I&#x2F;Oæˆæœ¬ï¼Œ å¢åŠ ç£ç›˜ç©ºé—´ï¼Œä¸åˆé€‚çš„ç´¢å¼•æˆ–ç´¢å¼•è¿‡å¤šï¼Œä¼šé™ä½å¢åˆ æ”¹çš„æ•ˆç‡(DML)</p>
<p><strong>ä¸»é”®ç´¢å¼• [primary key] ä¸»é”®å°±æ˜¯ä¸€ä¸ªç´¢å¼•</strong></p>
<p> <strong>å”¯ä¸€ç´¢å¼• [unique] å”¯ä¸€é”®ä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•</strong></p>
<p> <strong>æ™®é€šç´¢å¼• [index]</strong></p>
<p> <strong>å…¨æ–‡ç´¢å¼• [fulltext] å®é™…å¼€å‘ä¸­ä½¿ç”¨å…¨æ–‡æœç´¢Solr å’Œ ElasticSearch(ES)</strong></p>
<h3 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h3><p><strong>unique</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># å”¯ä¸€ç´¢å¼•</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index id_index <span class="keyword">on</span> tableName(id);</span><br></pre></td></tr></table></figure>

<p><strong>index</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># æ™®é€šç´¢å¼•</span><br><span class="line"><span class="keyword">create</span>  index id_index <span class="keyword">on</span> tableName(id);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tableName <span class="keyword">add</span> index id_index(id)ï¼›</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæŸåˆ—çš„å€¼æ˜¯ä¸é‡å¤çš„å°±ä¼˜å…ˆè€ƒè™‘unqiueç´¢å¼•ï¼Œå¦åˆ™ä½¿ç”¨indexæ™®é€šç´¢å¼•</p>
<p><strong>primary key</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># ä¸»é”®ç´¢å¼• å»ºè¡¨æ—¶å»ºç´¢å¼•</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `primaryKeyIndex`</span><br><span class="line">(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key ,</span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line"># alert</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tableName <span class="keyword">add</span> <span class="keyword">primary</span> key  id_index(id)ï¼›</span><br></pre></td></tr></table></figure>



<h3 id="åˆ é™¤ç´¢å¼•"><a href="#åˆ é™¤ç´¢å¼•" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> index id_index <span class="keyword">on</span> tableName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> index  <span class="keyword">PRIMARY</span> <span class="keyword">on</span> tableName;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> TableName <span class="keyword">drop</span> <span class="keyword">PRIMARY</span> KEY;</span><br></pre></td></tr></table></figure>



<h3 id="ä¿®æ”¹ç´¢å¼•"><a href="#ä¿®æ”¹ç´¢å¼•" class="headerlink" title="ä¿®æ”¹ç´¢å¼•"></a>ä¿®æ”¹ç´¢å¼•</h3><p>å…ˆåˆ é™¤é‡æ·»åŠ æ–°ç´¢å¼•</p>
<h3 id="æŸ¥è¯¢ç´¢å¼•"><a href="#æŸ¥è¯¢ç´¢å¼•" class="headerlink" title="æŸ¥è¯¢ç´¢å¼•"></a>æŸ¥è¯¢ç´¢å¼•</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- å‰ä¸‰ç§ç´¢å¼•æ–¹å¼å‡ ä¹ä¸€æ ·</span></span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> tableName;</span><br><span class="line"><span class="keyword">show</span> indexes <span class="keyword">from</span> tableName; </span><br><span class="line"><span class="keyword">show</span> keys <span class="keyword">from</span> tableName; </span><br><span class="line"><span class="comment">-- ç¬¬å››ç§æ˜¾ç¤ºè¾ƒç®€ç•¥</span></span><br><span class="line"><span class="keyword">desc</span> tableName;</span><br></pre></td></tr></table></figure>



<h2 id="MySQLäº‹åŠ¡"><a href="#MySQLäº‹åŠ¡" class="headerlink" title="MySQLäº‹åŠ¡"></a>MySQLäº‹åŠ¡</h2><h3 id="MySQLäº‹åŠ¡ACID"><a href="#MySQLäº‹åŠ¡ACID" class="headerlink" title="MySQLäº‹åŠ¡ACID"></a>MySQLäº‹åŠ¡ACID</h3><p>åŸå­æ€§(Atomicity) åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå‘ç”Ÿï¼Œè¦ä¹ˆä¸å‘ç”Ÿ</p>
<p>ä¸€è‡´æ€§(Consistency) äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€æ¢åˆ°å¦å¤–ä¸€ä¸ªä¸€è‡´æ€§çš„çŠ¶æ€</p>
<p>éš”ç¦»æ€§(Lsolation) äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯æŒ‡å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ•°æ®å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡é—´è¦ç›¸äº’éš”ç¦»</p>
<p>æŒä¹…æ€§(Durability) æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§ï¼Œæ¥ä¸‹æ¥å³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“</p>
<h3 id="äº‹åŠ¡æ“ä½œ"><a href="#äº‹åŠ¡æ“ä½œ" class="headerlink" title="äº‹åŠ¡æ“ä½œ"></a>äº‹åŠ¡æ“ä½œ</h3><p>äº‹åŠ¡ç”¨äºä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå®ƒç”±ä¸€ç»„dmlè¯­å¥ç»„æˆï¼Œæ”¹ç»„çš„dml(update insert delete)è¦ä¹ˆå…¨æˆåŠŸï¼Œè¦ä¹ˆå…¨å¤±è´¥</p>
<p>äº‹åŠ¡åŠ é”ï¼Œç”¨æˆ·æ‰§è¡Œäº‹åŠ¡å¤„ç†è¯­å¥(dml)ï¼Œmysqlä¼šåŠ é”ï¼Œé˜²æ­¢å…¶ä»–ç”¨æˆ·ä¿®æ”¹è¡¨çš„æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction <span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">savepoint</span> ä¿å­˜ç‚¹å <span class="comment">-- è®¾ç½®ä¿å­˜ç‚¹</span></span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> ä¿å­˜ç‚¹å <span class="comment">-- å›é€€äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">rollback</span> <span class="comment">-- å›é€€å…¨éƒ¨äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">commit</span> <span class="comment">-- æäº¤äº‹åŠ¡ï¼Œæ‰€æœ‰çš„æ“ä½œç”Ÿæ•ˆï¼Œä¸èƒ½å›é€€</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `transaction`</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">start</span> transaction ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¿å­˜ç‚¹a</span></span><br><span class="line"><span class="keyword">savepoint</span> a;</span><br><span class="line"><span class="comment">-- dml</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `transaction` <span class="keyword">values</span>(<span class="number">100</span>,<span class="string">&#x27;nameA&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¿å­˜ç‚¹b</span></span><br><span class="line"><span class="keyword">savepoint</span> b;</span><br><span class="line"><span class="comment">-- dml</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `transaction` <span class="keyword">values</span>(<span class="number">100</span>,<span class="string">&#x27;nameB&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å›é€€</span></span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> b;</span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> a;</span><br><span class="line">#ç›´æ¥å›é€€åˆ°aç‚¹åæ— æ³•å†è¿”å›bç‚¹ï¼Œå›é€€åˆ°aç‚¹ä¼šåˆ é™¤ä¸­é—´æ‰€æœ‰çš„<span class="keyword">savepoint</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æäº¤</span></span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line">#æäº¤äº‹åŠ¡ï¼Œæ— æ³•è¿”å›äº‹åŠ¡åŒºé—´å†…æ‰€æœ‰<span class="keyword">savePoint</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„äº‹é¡¹</p>
<ul>
<li>ä¸å¼€å¯äº‹åŠ¡é»˜è®¤æƒ…å†µdmlè‡ªåŠ¨æäº¤ä¸èƒ½å›æ»š</li>
<li>å¼€å¯ä¸€ä¸ªäº‹åŠ¡æ²¡æœ‰savepointä¹Ÿå¯ä»¥ç›´æ¥ç”¨rollbackå›æ»šåˆ°äº‹åŠ¡å¼€å§‹ç‚¹</li>
<li>mysqläº‹åŠ¡è®°ä½éœ€è¦innodbçš„å­˜å‚¨å¼•æ“</li>
<li>å¼€å¯ä¸€ä¸ªäº‹åŠ¡ start transactionæˆ–è€…set autocommit&#x3D;offï¼›</li>
</ul>
<h2 id="MySQLéš”ç¦»"><a href="#MySQLéš”ç¦»" class="headerlink" title="MySQLéš”ç¦»"></a><strong>MySQLéš”ç¦»</strong></h2><p><strong>å¤šä¸ªè¿æ¥å¼€å¯å„è‡ªäº‹åŠ¡æ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ®æ—¶ï¼Œæ•°æ®åº“ç³»ç»Ÿè¦è´Ÿè´£éš”ç¦»æ“ä½œï¼Œä»¥ä¿è¯å„ä¸ªè¿æ¥åœ¨è·å–æ•°æ®æ—¶çš„å‡†ç¡®æ€§ï¼Œå¦‚æœä¸éš”ç¦»ä¼šå¼•å‘<em>è„è¯»ï¼Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»</em></strong></p>
<p>**è„è¯»(<em>dirty read</em>)**ï¼šå½“ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡å°šæœªæäº¤çš„ä¿®æ”¹æ—¶ï¼Œäº§ç”Ÿè„è¯»</p>
<p>**ä¸å¯é‡å¤è¯»(<em>nonrepeatable rea</em>d)**: åŒä¸€æŸ¥è¯¢å†åŒä¸€äº‹ç‰©ç§å¤šæ¬¡è¿›è¡Œï¼Œç”±äºå…¶ä»–æäº¤çš„äº‹åŠ¡æ‰€ä½œçš„ä¿®æ”¹æˆ–åˆ é™¤ï¼Œæ¯æ¬¡è¿”å›ä¸åŒçš„ç»“æœé›†ï¼Œæ­¤æ—¶å‘ç”Ÿä¸å¯é‡å¤è¯»</p>
<p><strong>å¹»è¯»(<em>phantom read</em>)</strong>: åŒä¸€æŸ¥è¯¢åœ¨åŒä¸€äº‹äº‹åŠ¡ä¸­å¤šæ¬¡è¿›è¡Œï¼Œç”±äºå…¶ä»–æäº¤çš„äº‹åŠ¡æ‰€åšçš„æ’å…¥æ“ä½œï¼Œæ¯æ¬¡è¿”å›ä¸åŒçš„ç»“æœé›†ï¼Œæ­¤æ—¶å‘ç”Ÿå¹»è¯»</p>
<h3 id="æŸ¥çœ‹éš”ç¦»çº§åˆ«"><a href="#æŸ¥çœ‹éš”ç¦»çº§åˆ«" class="headerlink" title="æŸ¥çœ‹éš”ç¦»çº§åˆ«"></a>æŸ¥çœ‹éš”ç¦»çº§åˆ«</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹ å½“å‰ä¼šè¯ éš”ç¦»çº§åˆ«</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@transaction_isolation</span></span><br><span class="line">#æŸ¥çœ‹ å½“å‰ç³»ç»Ÿ éš”ç¦»çº§åˆ«</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@global</span>.transaction_isolation;</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹éš”ç¦»çº§åˆ«"><a href="#ä¿®æ”¹éš”ç¦»çº§åˆ«" class="headerlink" title="ä¿®æ”¹éš”ç¦»çº§åˆ«"></a>ä¿®æ”¹éš”ç¦»çº§åˆ«</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#ä¿®æ”¹ å½“å‰ä¼šè¯ éš”ç¦»çº§åˆ«</span><br><span class="line"><span class="keyword">set</span> session transaction isolation level read committed;</span><br><span class="line">#ä¿®æ”¹ å½“å‰ç³»ç»Ÿ éš”ç¦»çº§åˆ«</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> session transaction isolation level read committed;</span><br></pre></td></tr></table></figure>

<p>mysqlé»˜è®¤äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯repeatable readè¶³ä»¥æ»¡è¶³å¤§éƒ¨åˆ†é¡¹ç›®éœ€æ±‚</p>
<h3 id="äº‹åŠ¡éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡éš”ç¦»çº§åˆ«</h3><p>MySQLéš”ç¦»çº§åˆ«å®šä¹‰äº†äº‹åŠ¡ä¸äº‹åŠ¡é—´çš„éš”ç¦»ç¨‹åº¦</p>
<table>
<thead>
<tr>
<th><strong>MySQLéš”ç¦»çº§åˆ«</strong></th>
<th><strong>è„è¯»</strong></th>
<th><strong>ä¸å¯é‡å¤è¯»</strong></th>
<th><strong>å¹»è¯»</strong></th>
<th><strong>åŠ é”è¯»</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>è¯»æœªæäº¤(Read uncommitted)</strong></td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>ä¸åŠ é”</td>
</tr>
<tr>
<td><strong>è¯»å·²æäº¤(Read committed)</strong></td>
<td>Ã—</td>
<td>âˆš</td>
<td>âˆš</td>
<td>ä¸åŠ é”</td>
</tr>
<tr>
<td><strong>å¯é‡å¤è¯»(Repeatable read)</strong></td>
<td>Ã—</td>
<td>Ã—</td>
<td>Ã—</td>
<td>ä¸åŠ é”</td>
</tr>
<tr>
<td><strong>å¯ä¸²è¡ŒåŒ–(Serializable)</strong></td>
<td>Ã—</td>
<td>Ã—</td>
<td>Ã—</td>
<td>åŠ é”</td>
</tr>
</tbody></table>
<ul>
<li>âˆš å¯èƒ½å‡ºç°</li>
<li>Ã— ä¸ä¼šå‡ºç°</li>
</ul>
<p><strong>å¼€å¯ä¸¤ä¸ªmysqlçš„æ§åˆ¶å°</strong></p>
<p><strong>æŸ¥è¯¢å½“å‰éš”ç¦»çº§åˆ«</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@transaction_isolation</span></span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°1</p>
<p>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| @@transaction_isolation   |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| REPEATABLE-READ         |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+</p>
<p>æ§åˆ¶å°2</p>
<p>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| @@transaction_isolation   |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| REPEATABLE-READ         |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+</p>
<h3 id="è¯»æœªæäº¤-Read-uncommitted"><a href="#è¯»æœªæäº¤-Read-uncommitted" class="headerlink" title="è¯»æœªæäº¤ Read uncommitted"></a>è¯»æœªæäº¤ Read uncommitted</h3><p><em>ä¼šå‡ºç°è„è¯» å¹»è¯» ä¸å¯é‡å¤è¯»</em></p>
<p>æŠŠå…¶ä¸­ä¸€ä¸ªæ§åˆ¶å°éš”ç¦»çº§åˆ«è®¾ç½®æˆ<strong>Read uncommitted</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> session transaction isolation level read uncommitted ;</span><br></pre></td></tr></table></figure>

<p> <strong>read uncommitted</strong>æ§åˆ¶å°</p>
<p>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| @@transaction_isolation   |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| READ-UNCOMMITTED    |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+</p>
<p> <strong>repeatable read</strong>æ§åˆ¶å°</p>
<p>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| @@transaction_isolation   |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+<br>| REPEATABLE-READ         |<br>+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+</p>
<p><strong>ä¸¤æ§åˆ¶å°å‡å¯åŠ¨äº‹åŠ¡</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction;</span><br></pre></td></tr></table></figure>



<p><em><strong>åˆ›å»ºè¡¨</strong></em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `account`</span><br><span class="line">(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">    money <span class="type">INT</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>





<p>repeatable readæ§åˆ¶å° <em>æ·»åŠ æ•°æ®</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account <span class="keyword">values</span> (<span class="number">100</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<p>æœªæäº¤ä½†æ§åˆ¶å° <strong>read uncommitted</strong> (éš”ç¦»çº§åˆ«è¯»æœªæäº¤)æ˜¾ç¤ºå‡ºæ¥äº†</p>
<p>+â€”â€”+â€”â€”+â€”â€”â€”â€“+<br>| id   | name | money  |<br>+â€”â€”+â€”â€”+â€”â€”â€”â€“+<br>|  100 | tom  |  1000   |<br>+â€”â€”+â€”â€”+â€”â€”â€”â€“+</p>
<p>å‘ç”Ÿäº†<em>è„è¯»</em>ï¼Œä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„ä¿®æ”¹</p>
<p><strong>repeatable read</strong> <em>æ·»åŠ æ•°æ®ä¿®æ”¹æ•°æ®åæäº¤</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money<span class="operator">=</span><span class="number">800</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">100</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account <span class="keyword">values</span> (<span class="number">200</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">2000</span>);</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>

<p><strong>read uncommittedæŸ¥è¯¢çœ‹åˆ°äº†ç»“æœ</strong></p>
<p>+â€”â€”+â€”â€”+â€”â€”â€”â€“+<br>| id   | name | money  |<br>+â€”â€”+â€”â€”+â€”â€”â€”â€“+<br>|  100 | tom  |   800    |<br>|  200 | jack |  2000    |<br>+â€”â€”+â€”â€”+â€”â€”â€”â€“+</p>
<p>ä¿®æ”¹å’Œæ·»åŠ æäº¤åæ§åˆ¶å°1çœ‹åˆ°äº†ï¼Œå‘ç”Ÿäº†<em>ä¸å¯é‡å¤è¯»å’Œå¹»è¯»</em>ï¼Œéš”ç¦»çº§åˆ«é«˜äº†å¦‚Repeatable readå’ŒSerializableä¸ä¼šå‘ç”Ÿä¸å¯é‡å¤è¯»å’Œå¹»è¯»ï¼Œå…¶ä»–äº‹åŠ¡çš„commitä¸ä¼šå½±å“åˆ°æœ¬äº‹åŠ¡</p>
<h3 id="è¯»å·²æäº¤-read-uncommitted"><a href="#è¯»å·²æäº¤-read-uncommitted" class="headerlink" title="è¯»å·²æäº¤ read uncommitted"></a>è¯»å·²æäº¤ read uncommitted</h3><p>ä¸ä¼šå‡ºç°è„è¯»ï¼Œä¼šå¹»è¯» ä¸å¯é‡å¤è¯»</p>
<p><strong>å¯åŠ¨äº‹åŠ¡</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction;</span><br></pre></td></tr></table></figure>



<p> <strong>read committed</strong>  <em>æ§åˆ¶å°è®¾ç½®éš”ç¦»çº§åˆ«</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> session transaction isolation level read committed;</span><br></pre></td></tr></table></figure>



<p><strong>repeatable read</strong>æ§åˆ¶å°<em>æ·»åŠ æ•°æ®</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account <span class="keyword">values</span> (<span class="number">300</span>,<span class="string">&#x27;scott&#x27;</span>,<span class="number">8000</span>);</span><br></pre></td></tr></table></figure>



<p> <strong>read committed</strong> <em>æŸ¥è¯¢æ§åˆ¶å°</em></p>
<p>å‘ç°æ— æ³•çœ‹è§è®°å½• è¯´æ˜æ²¡æœ‰å‘ç”Ÿè„è¯»</p>
<p><code>mysql&gt; select *from account;</code><br><code>Empty set (0.00 sec)</code></p>
<p> <strong>repeatable read</strong>  <em>æ§åˆ¶å°ä¿®æ”¹æ•°æ®</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money<span class="operator">=</span><span class="number">7000</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">300</span>;</span><br></pre></td></tr></table></figure>

<p>read committedæ§åˆ¶å°ä¹Ÿèƒ½æŸ¥è¯¢åˆ°ï¼Œè¯´æ˜read committedçº§åˆ«ä¼šå‘ç”Ÿ<em>ä¸å¯é‡å¤è¯»å’Œå¹»è¯»</em></p>
<h3 id="å¯é‡å¤è¯»-repeatable-read"><a href="#å¯é‡å¤è¯»-repeatable-read" class="headerlink" title="å¯é‡å¤è¯» repeatable read"></a>å¯é‡å¤è¯» repeatable read</h3><p>ä¸ä¼šå‡ºç°è„è¯» å¹»è¯» ä¸å¯é‡å¤è¯»</p>
<p> <strong>read committed</strong> æ§åˆ¶å°<em>æ·»åŠ æ•°æ®æœªæäº¤</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account <span class="keyword">values</span> (<span class="number">100</span>,<span class="string">&#x27;first&#x27;</span>,<span class="number">9000</span>);</span><br></pre></td></tr></table></figure>



<p><strong>repeatable read</strong> æ§åˆ¶å°æ— æ³•æŸ¥è¯¢åˆ°ï¼Œæ²¡æœ‰å‡ºç°è„è¯»</p>
<p><code>mysql&gt; select *from account;</code><br><code>Empty set (0.00 sec)</code></p>
<p><strong>read committed</strong>  <em>æ§åˆ¶å°æ·»åŠ æˆ–ä¿®æ”¹æ•°æ®å¹¶æäº¤</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account <span class="keyword">values</span> (<span class="number">200</span>,<span class="string">&#x27;second&#x27;</span>,<span class="number">9000</span>);</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money<span class="operator">=</span><span class="number">8000</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">200</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>



<p>repeatable read æ§åˆ¶å°æ— æ³•æŸ¥è¯¢åˆ°ï¼Œæ²¡æœ‰å‡ºç°ä¸å¯é‡å¤è¯»å’Œå¹»è¯»</p>
<p><strong><code>mysql&gt; select *from account;</code></strong><br><strong><code>Empty set (0.00 sec)</code></strong></p>
<h3 id="å¯ä¸²è¡Œè¯»-serializable"><a href="#å¯ä¸²è¡Œè¯»-serializable" class="headerlink" title="å¯ä¸²è¡Œè¯» serializable"></a>å¯ä¸²è¡Œè¯» serializable</h3><p>ä¸ä¼šå‡ºç°è„è¯» å¹»è¯» ä¸å¯é‡å¤è¯» åŒæ—¶ä¼šåŠ é”</p>
<p>ä¸€ä¸ªäº‹åŠ¡æ“ä½œæ—¶å¦ä¸€ä¸ªäº‹åŠ¡æ— æ³•æ“ä½œï¼Œä¼šå¡ä½</p>
<p><strong>å¼€å¯äº‹åŠ¡</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction;</span><br></pre></td></tr></table></figure>



<p><strong>read committed</strong> æ§åˆ¶å°<em>æ·»åŠ æ•°æ®</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account <span class="keyword">values</span> (<span class="number">100</span>,<span class="string">&#x27;first&#x27;</span>,<span class="number">9000</span>);</span><br></pre></td></tr></table></figure>

<p>Serializableæ§åˆ¶å°ä¼šå¡ä½ï¼Œå› ä¸ºå…¶ä»–äº‹åŠ¡åœ¨ä½¿ç”¨ï¼Œå­˜åœ¨lockæ— æ³•æ“ä½œè¡¨</p>
<p>read committed <em>æäº¤</em> <code>commitï¼›</code></p>
<p><strong>Serializable</strong>æ§åˆ¶å°æ‰æ˜¾ç¤ºç»“æœï¼Œå› ä¸ºunlockäº†</p>
<h2 id="MySQLè§†å›¾"><a href="#MySQLè§†å›¾" class="headerlink" title="MySQLè§†å›¾"></a>MySQLè§†å›¾</h2><p>è§†å›¾viewæ˜¯ä¸€ä¸ª<strong>è™šæ‹Ÿè¡¨</strong>ï¼Œå…¶å†…å®¹ç”±æŸ¥è¯¢æ¥å®šä¹‰ï¼ŒåŒçœŸçœŸå®è¡¨ä¸€æ ·ï¼Œè§†å›¾åŒ…å«åˆ—ï¼Œå…¶æ•°æ®å¯¹åº”çœŸå®è¡¨&#x2F;åŸºè¡¨</p>
<p>æ˜¯ä¸€ç§æ˜ å°„å…³ç³»ï¼Œæé«˜äº†æ•°æ®åº“ä¸€å®šçš„å®‰å…¨æ€§</p>
<p>ä»<strong>ä¸€ä¸ªæˆ–å‡ ä¸ªåŸºæœ¬è¡¨ï¼ˆæˆ–è§†å›¾ï¼‰å¯¼å‡ºçš„è¡¨</strong>ã€‚å®ƒä¸åŸºæœ¬è¡¨ä¸åŒï¼Œæ˜¯ä¸€ä¸ªè™šè¡¨ã€‚æ•°æ®åº“ä¸­åªå­˜æ”¾è§†å›¾çš„å®šä¹‰ï¼Œè€Œä¸å­˜æ”¾è§†å›¾å¯¹åº”çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®ä»å­˜æ”¾åœ¨åŸæ¥çš„åŸºæœ¬è¡¨ä¸­ã€‚</p>
<p>æ‰€ä»¥<strong>ä¸€æ—¦åŸºæœ¬è¡¨ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œä»è§†å›¾ä¸­æŸ¥è¯¢å‡ºçš„æ•°æ®ä¹Ÿå°±éšä¹‹æ”¹å˜äº†</strong>ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼Œ<strong>è§†å›¾å°±åƒä¸€ä¸ªçª—å£</strong>ï¼Œé€è¿‡å®ƒå¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­è‡ªå·±æ„Ÿå…´è¶£çš„æ•°æ®åŠå…¶å˜åŒ–ã€‚</p>
<p>è§†å›¾ä¸€ç»å®šä¹‰ï¼Œå°±å¯ä»¥å’ŒåŸºæœ¬è¡¨ä¸€æ ·è¢«æŸ¥è¯¢ã€åˆ é™¤ã€‚ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªè§†å›¾ä¹‹ä¸Šå†å®šä¹‰æ–°çš„è§†å›¾ï¼Œä½†å¯¹è§†å›¾çš„æ›´æ–°ï¼ˆå¢ã€åˆ ã€æ”¹ï¼‰æ“ä½œåˆ™æœ‰ä¸€å®šçš„é™åˆ¶ã€‚</p>
<h3 id="è§†å›¾çš„åŸºæœ¬ä½¿ç”¨"><a href="#è§†å›¾çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="è§†å›¾çš„åŸºæœ¬ä½¿ç”¨"></a>è§†å›¾çš„åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#åˆ›å»º</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> ViewTable <span class="keyword">AS</span> <span class="keyword">SELECT</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> emp_view01 <span class="keyword">AS</span> <span class="keyword">SELECT</span> empno,ename,job,deptno <span class="keyword">FROM</span> emp;</span><br><span class="line"><span class="keyword">select</span>  <span class="operator">*</span> <span class="keyword">from</span> emp_view01;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ›´æ–°è§†å›¾</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">VIEW</span> ViewTable <span class="keyword">AS</span> <span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">update</span> myview <span class="keyword">set</span> comm<span class="operator">=</span><span class="number">200</span> <span class="keyword">where</span> empno<span class="operator">=</span><span class="number">7369</span>;</span><br><span class="line"></span><br><span class="line">#æ˜¾ç¤ºåˆ›å»ºè§†å›¾çš„æŒ‡ä»¤</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">VIEW</span> ViewTable</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">view</span> emp_view01;</span><br><span class="line"></span><br><span class="line">#åˆ é™¤è§†å›¾</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> ViewTable1,ViewTable2</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> emp_view01;</span><br></pre></td></tr></table></figure>

<p><strong>è§†å›¾ç»†èŠ‚è®¨è®º</strong></p>
<ul>
<li><p>åˆ›å»ºè§†å›¾åï¼Œåˆ°æ•°æ®åº“å»çœ‹ï¼Œå¯¹åº”è§†å›¾åªæœ‰ä¸€ä¸ªè§†å›¾ç»“æ„æ–‡ä»¶ï¼ˆå½¢å¼ï¼šè§†å›¾å.frmï¼‰</p>
</li>
<li><p>è§†å›¾çš„æ•°æ®å˜åŒ–ä¼šå½±å“åˆ°åŸºè¡¨ï¼ŒåŸºè¡¨çš„æ•°æ®å˜åŒ–ä¹Ÿä¼šå½±å“åˆ°è§†å›¾ [insert update delete]</p>
<p>â€”-é’ˆå¯¹å‰é¢çš„é›‡å‘˜ç®¡ç†ç³»ç»Ÿâ€”-<br>mysql&gt; <code>create view myview as select empno,ename,job,comm from emp;</code><br>mysql&gt; <code>select * from myview;</code><br>mysql&gt;<code>update myview set comm=200 where empno=7369;</code><strong>ä¿®æ”¹è§†å›¾,å¯¹åŸºè¡¨éƒ½æœ‰å˜åŒ–</strong><br>mysql&gt;<code>update emp set comm=100 where empno=7369;</code><strong>ä¿®æ”¹åŸºè¡¨ï¼Œå¯¹è§†é¢‘ä¹Ÿæœ‰å˜åŒ–</strong></p>
</li>
</ul>
<h3 id="è§†å›¾çš„æœ€ä½³å®è·µ"><a href="#è§†å›¾çš„æœ€ä½³å®è·µ" class="headerlink" title="è§†å›¾çš„æœ€ä½³å®è·µ"></a>è§†å›¾çš„æœ€ä½³å®è·µ</h3><ul>
<li><strong>å®‰å…¨</strong>  ä¸€äº›æ•°æ®è¡¨æœ‰ç€é‡è¦çš„ä¿¡æ¯ï¼Œæœ‰äº›å­—æ®µæ˜¯ä¿å¯†çš„ï¼Œä¸èƒ½è®©ç”¨æˆ·ç›´æ¥çœ‹åˆ°ï¼Œè¿™æ—¶å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œåœ¨è¿™å¼ è§†å›¾ä¸­åªä¿ç•™ä¸€éƒ¨åˆ†å­¦æ®µã€‚è¿™æ ·ï¼Œç”¨æˆ·å°±å¯ä»¥æŸ¥è¯¢è‡ªå·±éœ€è¦çš„å­—æ®µï¼Œä¸èƒ½æŸ¥çœ‹ä¿å¯†çš„å­—æ®µã€‚</li>
<li><strong>æ€§èƒ½</strong>  å…³ç³»æ•°æ®åº“çš„æ•°æ®å¸¸å¸¸ä¼šåˆ†è¡¨å­˜å‚¨ï¼Œä½¿ç”¨å¤–é”®å»ºç«‹è¿™äº›è¡¨çš„ä¹‹é—´å…³ç³»ã€‚è¿™æ—¶æ•°æ®åº“æŸ¥è¯¢é€šå¸¸ä¼šç”¨åˆ°è¿æ¥ï¼ˆJOINï¼‰ã€‚è¿™æ ·åšä¸ä½†éº»çƒ¦ï¼Œæ•ˆç‡ç›¸å¯¹ä¹Ÿæ¯”è¾ƒä½ã€‚å¦‚æœå»ºç«‹ä¸€ä¸ªè§†å›¾ï¼Œå°†ç›¸å…³çš„è¡¨å’Œå­—æ®µç»„åˆåœ¨ä¸€èµ·ï¼Œå°±å¯ä»¥é¿å…ä½¿ç”¨JOINæŸ¥è¯¢æ•°æ®ã€‚</li>
<li><strong>çµæ´»</strong>  å¦‚æœç³»ç»Ÿä¸­æœ‰ä¸€å¼ æ—§çš„è¡¨ï¼Œè¿™å¼ è¡¨ç”±äºè®¾è®¡çš„é—®é¢˜ï¼Œå³å°†è¢«åºŸå¼ƒã€‚ç„¶è€Œï¼Œå¾ˆå¤šåº”ç”¨éƒ½æ˜¯åŸºäºè¿™å¼ è¡¨ï¼Œä¸æ˜“ä¿®æ”¹ã€‚è¿™æ—¶å°±å¯ä»¥å»ºç«‹ä¸€å¼ è§†å›¾ï¼Œè§†å›¾ä¸­çš„æ•°æ®ç›´æ¥æ˜ å°„åˆ°æ–°å»ºçš„è¡¨ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥å°‘åšå¾ˆå¤šæ”¹åŠ¨ï¼Œä¹Ÿè¾¾åˆ°äº†å‡çº§æ•°æ®è¡¨çš„è‡ªçš„</li>
</ul>
<h2 id="MySQLç®¡ç†"><a href="#MySQLç®¡ç†" class="headerlink" title="MySQLç®¡ç†"></a>MySQLç®¡ç†</h2><h3 id="MySQLçš„ç”¨æˆ·ç®¡ç†"><a href="#MySQLçš„ç”¨æˆ·ç®¡ç†" class="headerlink" title="MySQLçš„ç”¨æˆ·ç®¡ç†"></a>MySQLçš„ç”¨æˆ·ç®¡ç†</h3><p>mysqlçš„ç”¨æˆ·å­˜å‚¨åœ¨æ•°æ®åº“mysqlä¸­çš„userè¡¨</p>
<p>ä¸åŒæ•°æ®åº“ç”¨æˆ·ï¼Œç™»å½•åˆ°DBMSåï¼Œæ ¹æ®æƒé™çš„ä¸åŒï¼Œæ“ä½œçš„åº“å’Œæ•°æ®å¯¹è±¡(è¡¨ï¼Œè§†å›¾ï¼Œè§¦å‘å™¨)ä¸ç›¸åŒ</p>
<p>å­—æ®µè¯´æ˜</p>
<ul>
<li><strong>host</strong>    å…è®¸ç™»å½•çš„ä½ç½®ï¼Œ<strong>localhost</strong>è¡¨ç¤ºè¯¥ç”¨æˆ·åªå…è®¸æœ¬æœºç™»å½•ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šipï¼Œå¦‚192.168.1.100</li>
<li>**user **   ç”¨æˆ·å</li>
<li><strong>authentication_string</strong>    å¯†ç ï¼Œæ˜¯é€šè¿‡mysqlçš„password()å‡½æ•°åŠ å¯†ä¹‹åçš„å¯†ç ,å­˜æ”¾åœ¨userè¡¨ä¸­ä¹Ÿæ˜¯åŠ å¯†åçš„å¯†ç </li>
</ul>
<p><strong>åˆ›å»ºç”¨æˆ·</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;ç™»é™†ä½ç½®&#x27;</span> INDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤ç”¨æˆ·</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;ç™»é™†ä½ç½®&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨åˆ›å»ºç”¨æˆ·çš„æ—¶å€™ï¼Œå¦‚æœä¸æŒ‡å®šHostï¼Œåˆ™ä¸º%ï¼Œ%è¡¨ç¤ºè¡¨ç¤ºæ‰€æœ‰IPéƒ½æœ‰è¿æ¥æƒé™ <code>create user xxx;</code></li>
<li>ä½ ä¹Ÿå¯ä»¥è¿™æ ·æŒ‡å®š <code>create userxxx@&#39;192.168.1.%&#39;</code>è¡¨ç¤ºxxxç”¨æˆ·åœ¨192.168.1.*çš„ipå¯ä»¥ç™»å½•mysg</li>
<li>åœ¨åˆ é™¤ç”¨æˆ·çš„æ—¶å€™ï¼Œå¦‚æœ host ä¸æ˜¯ %,éœ€è¦æ˜ç¡®æŒ‡å®š<code>&#39;ç”¨æˆ·&#39;@&#39;hostå€¼&#39;</code></li>
</ul>
<p><strong>ç™»å½•</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysql [-h ä¸»æœºå -P] ç«¯å£å· -u username -ppassword</span><br></pre></td></tr></table></figure>

<ul>
<li>-p åç›´æ¥è¾“å…¥å¯†ç ï¼Œåˆ™ä¸å¯ä»¥åŠ ç©ºæ ¼ï¼Œå¹¶ä¸”åœ¨è¿™é‡Œè¾“å…¥å¯†ç ï¼Œå¯†ç ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œå»ºè®®-påæŒ‰å›è½¦ï¼Œå‘½ä»¤è¡Œçª—å£å°±ä¼šè‡ªåŠ¨è·³åˆ°ä¸‹ä¸€è¡Œï¼šEnter password:</li>
<li>å¦‚æœç™»å½•çš„æ˜¯è¿œç«¯æœåŠ¡å™¨çš„æ•°æ®åº“ï¼Œåˆ™å¾—è¾“å…¥ mysql -hä¸»æœºå -Pç«¯å£å· -uç”¨æˆ·å -på¯†ç </li>
<li>æ³¨æ„ï¼Œ-Pç«¯å£å·ï¼Œä¸­çš„Pæ˜¯å¤§å†™çš„ï¼Œè¦è·Ÿå¯†ç å‰é¢çš„pï¼ˆå°å†™ï¼‰åŒºåˆ†å¼€</li>
</ul>
<p><strong>ä¿®æ”¹å¯†ç </strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#è‡ªå·±å¯†ç </span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="operator">=</span> PASSWORD(<span class="string">&#x27;new password&#x27;</span>);</span><br><span class="line">#ä»–äººå¯†ç (éœ€è¦æœ‰æƒé™)</span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="keyword">FOR</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;ç™»é™†ä½ç½®&#x27;</span> <span class="operator">=</span> PASSWORD(<span class="string">&#x27;new password&#x27;</span>);</span><br></pre></td></tr></table></figure>







<h3 id="MySQLçš„æƒé™ç®¡ç†"><a href="#MySQLçš„æƒé™ç®¡ç†" class="headerlink" title="MySQLçš„æƒé™ç®¡ç†"></a>MySQLçš„æƒé™ç®¡ç†</h3><h4 id="ç”¨æˆ·æˆæƒæ“ä½œ"><a href="#ç”¨æˆ·æˆæƒæ“ä½œ" class="headerlink" title="ç”¨æˆ·æˆæƒæ“ä½œ"></a>ç”¨æˆ·æˆæƒæ“ä½œ</h4><p><strong>æˆæƒ</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">grand æƒé™åˆ—è¡¨ <span class="keyword">on</span> åº“.å¯¹è±¡å <span class="keyword">to</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ç™»é™†ä½ç½®&#x27;</span> [identified <span class="keyword">by</span> <span class="string">&#x27;å¯†ç &#x27;</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æƒé™åˆ—è¡¨ï¼Œå¤šä¸ªæƒé™ç”¨é€—å·åˆ†å¼€</p>
<p><code>grant select on .....</code></p>
<p><code>grant select, delete, create on ....</code></p>
<p><code>grant all [privileges] on ....</code> &#x2F;&#x2F;è¡¨ç¤ºèµ‹äºˆè¯¥ç”¨æˆ·åœ¨è¯¥å¯¹è±¡ä¸Šçš„æ‰€æœ‰æƒé™</p>
</li>
<li><p>ç‰¹åˆ«è¯´æ˜</p>
<p><strong>ï¼Š.ï¼Š</strong>  ä»£è¡¨æœ¬ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰å¯¹è±¡(è¡¨ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹)</p>
<p><strong>åº“.ï¼Š</strong> è¡¨ç¤ºæŸä¸ªæ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®å¯¹è±¡ï¼ˆè¡¨ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹ç­‰)</p>
</li>
<li><p>identified by å¯ä»¥çœç•¥ï¼Œä¹Ÿå¯ä»¥å†™å‡º</p>
<p>(1)å¦‚æœç”¨æˆ·å­˜åœ¨ï¼Œå°±æ˜¯ä¿®æ”¹è¯¥ç”¨æˆ·çš„å¯†ç </p>
<p>(2)å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œå°±æ˜¯åˆ›å»ºè¯¥ç”¨æˆ·</p>
</li>
</ul>
<p><strong>æ”¶å›æƒé™</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">revoke</span> æƒé™åˆ—è¡¨ <span class="keyword">on</span> åº“.å¯¹è±¡å <span class="keyword">from</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ç™»é™†ä½ç½®&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>æƒé™ç”Ÿæ•ˆæŒ‡ä»¤</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th align="left"><strong>æƒ é™</strong></th>
<th align="left"><strong>ä½œç”¨èŒƒå›´</strong></th>
<th align="left"><strong>ä½œ ç”¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>all</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">æ‰€æœ‰æƒé™</td>
</tr>
<tr>
<td align="left"><strong>select</strong></td>
<td align="left">è¡¨ã€åˆ—</td>
<td align="left">é€‰æ‹©è¡Œ</td>
</tr>
<tr>
<td align="left"><strong>insert</strong></td>
<td align="left">è¡¨ã€åˆ—</td>
<td align="left">æ’å…¥è¡Œ</td>
</tr>
<tr>
<td align="left"><strong>update</strong></td>
<td align="left">è¡¨ã€åˆ—</td>
<td align="left">æ›´æ–°è¡Œ</td>
</tr>
<tr>
<td align="left"><strong>delete</strong></td>
<td align="left">è¡¨</td>
<td align="left">åˆ é™¤è¡Œ</td>
</tr>
<tr>
<td align="left"><strong>create</strong></td>
<td align="left">æ•°æ®åº“ã€è¡¨ã€ç´¢å¼•</td>
<td align="left">åˆ›å»º</td>
</tr>
<tr>
<td align="left"><strong>drop</strong></td>
<td align="left">æ•°æ®åº“ã€è¡¨ã€è§†å›¾</td>
<td align="left">åˆ é™¤</td>
</tr>
<tr>
<td align="left"><strong>reload</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">å…è®¸ä½¿ç”¨flushè¯­å¥</td>
</tr>
<tr>
<td align="left"><strong>shutdown</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">å…³é—­æœåŠ¡</td>
</tr>
<tr>
<td align="left"><strong>process</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">æŸ¥çœ‹çº¿ç¨‹ä¿¡æ¯</td>
</tr>
<tr>
<td align="left"><strong>file</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">æ–‡ä»¶æ“ä½œ</td>
</tr>
<tr>
<td align="left"><strong>grant option</strong></td>
<td align="left">æ•°æ®åº“ã€è¡¨ã€å­˜å‚¨è¿‡ç¨‹</td>
<td align="left">æˆæƒ</td>
</tr>
<tr>
<td align="left"><strong>references</strong></td>
<td align="left">æ•°æ®åº“ã€è¡¨</td>
<td align="left">å¤–é”®çº¦æŸçš„çˆ¶è¡¨</td>
</tr>
<tr>
<td align="left"><strong>index</strong></td>
<td align="left">è¡¨</td>
<td align="left">åˆ›å»º&#x2F;åˆ é™¤ç´¢å¼•</td>
</tr>
<tr>
<td align="left"><strong>alter</strong></td>
<td align="left">è¡¨</td>
<td align="left">ä¿®æ”¹è¡¨ç»“æ„</td>
</tr>
<tr>
<td align="left"><strong>show databases</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">æŸ¥çœ‹æ•°æ®åº“åç§°</td>
</tr>
<tr>
<td align="left"><strong>super</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">è¶…çº§æƒé™</td>
</tr>
<tr>
<td align="left"><strong>create temporary tables</strong></td>
<td align="left">è¡¨</td>
<td align="left">åˆ›å»ºä¸´æ—¶è¡¨</td>
</tr>
<tr>
<td align="left"><strong>lock tables</strong></td>
<td align="left">æ•°æ®åº“</td>
<td align="left">é”è¡¨</td>
</tr>
<tr>
<td align="left"><strong>execute</strong></td>
<td align="left">å­˜å‚¨è¿‡ç¨‹</td>
<td align="left">æ‰§è¡Œ</td>
</tr>
<tr>
<td align="left"><strong>replication client</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">å…è®¸æŸ¥çœ‹ä¸»&#x2F;ä»&#x2F;äºŒè¿›åˆ¶æ—¥å¿—çŠ¶æ€</td>
</tr>
<tr>
<td align="left"><strong>replication slave</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">ä¸»ä»å¤åˆ¶</td>
</tr>
<tr>
<td align="left"><strong>create view</strong></td>
<td align="left">è§†å›¾</td>
<td align="left">åˆ›å»ºè§†å›¾</td>
</tr>
<tr>
<td align="left"><strong>show view</strong></td>
<td align="left">è§†å›¾</td>
<td align="left">æŸ¥çœ‹è§†å›¾</td>
</tr>
<tr>
<td align="left"><strong>create routine</strong></td>
<td align="left">å­˜å‚¨è¿‡ç¨‹</td>
<td align="left">åˆ›å»ºå­˜å‚¨è¿‡ç¨‹</td>
</tr>
<tr>
<td align="left"><strong>alter routine</strong></td>
<td align="left">å­˜å‚¨è¿‡ç¨‹</td>
<td align="left">ä¿®æ”¹&#x2F;åˆ é™¤å­˜å‚¨è¿‡ç¨‹</td>
</tr>
<tr>
<td align="left"><strong>create user</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">åˆ›å»ºç”¨æˆ·</td>
</tr>
<tr>
<td align="left"><strong>event</strong></td>
<td align="left">æ•°æ®åº“</td>
<td align="left">åˆ›å»º&#x2F;æ›´æ”¹&#x2F;åˆ é™¤&#x2F;æŸ¥çœ‹äº‹ä»¶</td>
</tr>
<tr>
<td align="left"><strong>trigger</strong></td>
<td align="left">è¡¨</td>
<td align="left">è§¦å‘å™¨</td>
</tr>
<tr>
<td align="left"><strong>create tablespace</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">åˆ›å»º&#x2F;æ›´æ”¹&#x2F;åˆ é™¤è¡¨ç©ºé—´&#x2F;æ—¥å¿—æ–‡ä»¶</td>
</tr>
<tr>
<td align="left"><strong>proxy</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">ä»£ç†æˆä¸ºå…¶å®ƒç”¨æˆ·</td>
</tr>
<tr>
<td align="left"><strong>usage</strong></td>
<td align="left">æœåŠ¡å™¨</td>
<td align="left">æ²¡æœ‰æƒé™</td>
</tr>
</tbody></table>
<h4 id="MySQLæƒé™è¯´æ˜"><a href="#MySQLæƒé™è¯´æ˜" class="headerlink" title="MySQLæƒé™è¯´æ˜"></a>MySQLæƒé™è¯´æ˜</h4><h5 id="all-æœåŠ¡å™¨"><a href="#all-æœåŠ¡å™¨" class="headerlink" title="all,æœåŠ¡å™¨"></a>all,æœåŠ¡å™¨</h5><p>æˆäºˆæ‰€æœ‰æƒé™</p>
<h5 id="alter-è¡¨"><a href="#alter-è¡¨" class="headerlink" title="alter,è¡¨"></a>alter,è¡¨</h5><p>å¯ä»¥ä½¿ç”¨alter tableæ¥æ”¹å˜è¡¨çš„ç»“æ„ã€‚alter tableåŒæ—¶éœ€è¦createå’Œinsertæƒé™ï¼›é‡å‘½åè¡¨éœ€è¦æ—§è¡¨çš„alterå’Œdropæƒé™ï¼Œæ–°è¡¨çš„createå’Œinsertæƒé™</p>
<h5 id="alter-routine-å­˜å‚¨è¿‡ç¨‹"><a href="#alter-routine-å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="alter routine,å­˜å‚¨è¿‡ç¨‹"></a>alter routine,å­˜å‚¨è¿‡ç¨‹</h5><p>æ›´æ”¹å’Œåˆ é™¤å­˜å‚¨è¿‡ç¨‹(è¿‡ç¨‹å’Œå‡½æ•°)</p>
<h5 id="create-æ•°æ®åº“-è¡¨-ç´¢å¼•"><a href="#create-æ•°æ®åº“-è¡¨-ç´¢å¼•" class="headerlink" title="create,æ•°æ®åº“&#x2F;è¡¨&#x2F;ç´¢å¼•"></a>create,æ•°æ®åº“&#x2F;è¡¨&#x2F;ç´¢å¼•</h5><p>å…è®¸åˆ›å»ºæ–°çš„æ•°æ®åº“å’Œè¡¨ä»¥åŠç´¢å¼•</p>
<h5 id="create-routine-å­˜å‚¨è¿‡ç¨‹"><a href="#create-routine-å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="create routine,å­˜å‚¨è¿‡ç¨‹"></a>create routine,å­˜å‚¨è¿‡ç¨‹</h5><p>å…è®¸åˆ›å»ºå­˜å‚¨è¿‡ç¨‹(è¿‡ç¨‹å’Œå‡½æ•°)</p>
<h5 id="create-tablespace-æœåŠ¡å™¨"><a href="#create-tablespace-æœåŠ¡å™¨" class="headerlink" title="create tablespace,æœåŠ¡å™¨"></a>create tablespace,æœåŠ¡å™¨</h5><p>åˆ›å»ºã€æ›´æ”¹æˆ–åˆ é™¤è¡¨ç©ºé—´å’Œæ—¥å¿—æ–‡ä»¶ç»„</p>
<h5 id="create-temporary-tables-è¡¨"><a href="#create-temporary-tables-è¡¨" class="headerlink" title="create temporary tables,è¡¨"></a>create temporary tables,è¡¨</h5><p>ä½¿ç”¨create temporary tableåˆ›å»ºä¸´æ—¶è¡¨ã€‚ä¼šè¯åˆ›å»ºä¸´æ—¶è¡¨åï¼Œä¸å†å¯¹è¯¥è¡¨è¿›è¡Œæƒé™æ£€æŸ¥ï¼Œåˆ›å»ºä¼šè¯å¯ä»¥å¯¹è¯¥è¡¨æ‰§è¡Œä»»ä½•æ“ä½œ</p>
<h5 id="create-user-æœåŠ¡å™¨"><a href="#create-user-æœåŠ¡å™¨" class="headerlink" title="create user,æœåŠ¡å™¨"></a>create user,æœåŠ¡å™¨</h5><p>åˆ›å»ºç”¨æˆ·ï¼Œå…è®¸ä½¿ç”¨alter user&#x2F;create user&#x2F;drop user&#x2F;rename user&#x2F;revoke all privilegesè¯­å¥å¯¹ç”¨æˆ·æƒé™è¿›è¡Œæ“ä½œ</p>
<h5 id="create-view-è§†å›¾"><a href="#create-view-è§†å›¾" class="headerlink" title="create view,è§†å›¾"></a>create view,è§†å›¾</h5><p>åˆ›å»ºè§†å›¾ï¼Œå…è®¸ä½¿ç”¨create viewè¯­å¥</p>
<h5 id="delete-è¡¨"><a href="#delete-è¡¨" class="headerlink" title="delete,è¡¨"></a>delete,è¡¨</h5><p>å…è®¸åˆ é™¤è¡Œ</p>
<h5 id="drop-æ•°æ®åº“-è¡¨-è§†å›¾"><a href="#drop-æ•°æ®åº“-è¡¨-è§†å›¾" class="headerlink" title="drop,æ•°æ®åº“&#x2F;è¡¨&#x2F;è§†å›¾"></a>drop,æ•°æ®åº“&#x2F;è¡¨&#x2F;è§†å›¾</h5><p>åˆ é™¤ç°æœ‰æ•°æ®åº“ã€è¡¨å’Œè§†å›¾ã€‚åœ¨åˆ†åŒºè¡¨ä½¿ç”¨alter table â€¦ drop partitionè¯­å¥ï¼Œtruncate tableä¹Ÿéœ€è¦dropæƒé™ã€‚è‹¥å°†mysqlåº“çš„dropæƒé™æˆäºˆç”¨æˆ·ï¼Œåˆ™è¯¥ç”¨æˆ·å¯ä»¥åˆ é™¤æƒé™æ•°æ®åº“</p>
<h5 id="event-æ•°æ®åº“"><a href="#event-æ•°æ®åº“" class="headerlink" title="event,æ•°æ®åº“"></a>event,æ•°æ®åº“</h5><p>åˆ›å»ºã€æ›´æ”¹ã€åˆ é™¤æˆ–æŸ¥çœ‹äº‹ä»¶è°ƒåº¦ç¨‹åºçš„äº‹ä»¶</p>
<h5 id="execute-å­˜å‚¨è¿‡ç¨‹"><a href="#execute-å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="execute,å­˜å‚¨è¿‡ç¨‹"></a>execute,å­˜å‚¨è¿‡ç¨‹</h5><p>æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹(è¿‡ç¨‹å’Œå‡½æ•°)</p>
<h5 id="file-æœåŠ¡å™¨"><a href="#file-æœåŠ¡å™¨" class="headerlink" title="file,æœåŠ¡å™¨"></a>file,æœåŠ¡å™¨</h5><p>å…è®¸ä½¿ç”¨load data infileå’Œselect â€¦ into outfileè¯­å¥ä»¥åŠload_file()å‡½æ•°ã€‚ä»5.7.17å¼€å§‹ï¼Œcreate tableè¯­å¥ä¸­çš„data directoryæˆ–è€…index directoryé€‰é¡¹ä¹Ÿéœ€è¦è¯¥æƒé™</p>
<h5 id="grant-option-æ•°æ®åº“-è¡¨-å­˜å‚¨è¿‡ç¨‹"><a href="#grant-option-æ•°æ®åº“-è¡¨-å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="grant option,æ•°æ®åº“&#x2F;è¡¨&#x2F;å­˜å‚¨è¿‡ç¨‹"></a>grant option,æ•°æ®åº“&#x2F;è¡¨&#x2F;å­˜å‚¨è¿‡ç¨‹</h5><p>æˆäºˆå…¶å®ƒç”¨æˆ·æˆ–è€…ä»å…¶å®ƒç”¨æˆ·åˆ é™¤ä½ æ‰€æ‹¥æœ‰çš„æƒé™ã€‚ grant optionæƒé™ä½¿ç”¨æˆ·å¯ä»¥å°†å…¶æƒé™æˆäºˆå…¶ä»–ç”¨æˆ·ã€‚å…·æœ‰ä¸åŒç‰¹æƒå’Œgrant optionæƒé™çš„ä¸¤ä¸ªç”¨æˆ·å¯ä»¥ç»„åˆç‰¹æƒã€‚</p>
<h5 id="index-è¡¨"><a href="#index-è¡¨" class="headerlink" title="index,è¡¨"></a>index,è¡¨</h5><p>åˆ›å»ºæˆ–åˆ é™¤ç´¢å¼•ã€‚é€‚ç”¨äºç°æœ‰è¡¨ï¼Œå¦‚æœä½ å…·æœ‰createæƒé™ï¼Œåˆ™å¯ä»¥åœ¨åˆ›å»ºè¡¨è¯­å¥ä¸­åŒ…å«ç´¢å¼•å®šä¹‰</p>
<h5 id="insert-è¡¨-åˆ—"><a href="#insert-è¡¨-åˆ—" class="headerlink" title="insert,è¡¨&#x2F;åˆ—"></a>insert,è¡¨&#x2F;åˆ—</h5><p>æ’å…¥è¡Œã€‚analyze table&#x2F;optimize table&#x2F;repair tableè¡¨ç»´æŠ¤è¯­å¥ä¹Ÿéœ€è¦è¯¥æƒé™</p>
<h5 id="lock-tables-æ•°æ®åº“"><a href="#lock-tables-æ•°æ®åº“" class="headerlink" title="lock tables,æ•°æ®åº“"></a>lock tables,æ•°æ®åº“</h5><p>é”è¡¨ã€‚ä½¿ç”¨lock tablesè¯­å¥æ˜¾ç¤ºçš„é”å®šä½ æ‹¥æœ‰selectæƒé™çš„è¡¨ï¼ŒåŒ…æ‹¬å†™å…¥é”ï¼Œå¯ä»¥é˜²æ­¢å…¶å®ƒä»–è¯è¯»å–é”å®šçš„è¡¨</p>
<h5 id="process-æœåŠ¡å™¨"><a href="#process-æœåŠ¡å™¨" class="headerlink" title="process,æœåŠ¡å™¨"></a>process,æœåŠ¡å™¨</h5><p>æ˜¾ç¤ºçº¿ç¨‹ä¿¡æ¯ã€‚ä½¿ç”¨show processlist&#x2F;mysqladmin processlistæŸ¥çœ‹å…¶å®ƒç”¨æˆ·çš„çº¿ç¨‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨show engineè¯­å¥</p>
<h5 id="proxy-æœåŠ¡å™¨"><a href="#proxy-æœåŠ¡å™¨" class="headerlink" title="proxy,æœåŠ¡å™¨"></a>proxy,æœåŠ¡å™¨</h5><p>ä»£ç†æƒé™ã€‚å¯ä»¥ä»£ç†æˆä¸ºå¦ä¸€ä¸ªç”¨æˆ·</p>
<h5 id="references-æ•°æ®åº“-è¡¨"><a href="#references-æ•°æ®åº“-è¡¨" class="headerlink" title="references,æ•°æ®åº“&#x2F;è¡¨"></a>references,æ•°æ®åº“&#x2F;è¡¨</h5><p>åˆ›å»ºå¤–é”®çº¦æŸçš„çˆ¶è¡¨éœ€è¦è¯¥æƒé™</p>
<h5 id="reload-æœåŠ¡å™¨"><a href="#reload-æœåŠ¡å™¨" class="headerlink" title="reload,æœåŠ¡å™¨"></a>reload,æœåŠ¡å™¨</h5><p>å…è®¸ä½¿ç”¨flushè¯­å¥ã€‚åŒè¿›è¿˜å¯ç”¨ç­‰æ•ˆçš„mysqladminå‘½ä»¤ï¼šflush-hosts,flush-logs,flush-privileges,flush-status,flush-tables,flush-threads,refreshå’Œreload</p>
<h5 id="replication-client-æœåŠ¡å™¨"><a href="#replication-client-æœåŠ¡å™¨" class="headerlink" title="replication client,æœåŠ¡å™¨"></a>replication client,æœåŠ¡å™¨</h5><p>å…è®¸ä½¿ç”¨show master status&#x2F;show slave status&#x2F;show binary logsè¯­å¥</p>
<h5 id="replication-slave-æœåŠ¡å™¨"><a href="#replication-slave-æœåŠ¡å™¨" class="headerlink" title="replication slave,æœåŠ¡å™¨"></a>replication slave,æœåŠ¡å™¨</h5><p>å…è®¸ä»æœåŠ¡å™¨è¯·æ±‚å½“å‰ä¸»æœåŠ¡å™¨ä¸Šçš„æ›´æ–°</p>
<h5 id="select-è¡¨-åˆ—"><a href="#select-è¡¨-åˆ—" class="headerlink" title="select,è¡¨&#x2F;åˆ—"></a>select,è¡¨&#x2F;åˆ—</h5><p>é€‰æ‹©è¡Œã€‚å…¶ä»–è¯»å–åˆ—çš„è¯­å¥ä¹Ÿéœ€è¦è¯¥æƒé™ï¼Œå¦‚deleteæˆ–updateè¯­å¥ä¸­whereå­å¥æŒ‡å®šçš„åˆ—</p>
<h5 id="show-databases-æœåŠ¡å™¨"><a href="#show-databases-æœåŠ¡å™¨" class="headerlink" title="show databases,æœåŠ¡å™¨"></a>show databases,æœåŠ¡å™¨</h5><p>é€šè¿‡show databasesè¯­å¥æŸ¥çœ‹æ•°æ®åº“åç§°</p>
<h5 id="show-view-è§†å›¾"><a href="#show-view-è§†å›¾" class="headerlink" title="show view,è§†å›¾"></a>show view,è§†å›¾</h5><p>é€šè¿‡show create viewè¯­å¥æŸ¥çœ‹è§†å›¾ï¼Œä¸explainä¸€èµ·ä½¿ç”¨çš„è§†å›¾ä¹Ÿéœ€è¦æ­¤æƒé™</p>
<h5 id="shutdown-æœåŠ¡å™¨"><a href="#shutdown-æœåŠ¡å™¨" class="headerlink" title="shutdown,æœåŠ¡å™¨"></a>shutdown,æœåŠ¡å™¨</h5><p>ä½¿ç”¨shutdownè¯­å¥ï¼Œmysqladminå…³é—­ä»¥åŠmysql_shutdown()å‡½æ•°</p>
<h5 id="super-æœåŠ¡å™¨"><a href="#super-æœåŠ¡å™¨" class="headerlink" title="super,æœåŠ¡å™¨"></a>super,æœåŠ¡å™¨</h5><p>é€šè¿‡ä¿®æ”¹å…¨å±€ç³»ç»Ÿå˜é‡æ¥å¯ç”¨é…ç½®æ›´æ”¹ã€‚å¯¹æŸäº›ç³»ç»Ÿå˜é‡ï¼Œè®¾ç½®ä¼šè¯å€¼ä¹Ÿéœ€è¦è¯¥æƒé™ã€‚binlog_format,sql_log_bin,sql_log_off<br>å…¨å±€äº‹åŠ¡ç‰¹æ€§æ›´æ”¹<br>å¯åŠ¨å’Œåœæ­¢å¤åˆ¶ï¼ŒåŒ…æ‹¬ç»„å¤åˆ¶<br>å…è®¸ä½¿ç”¨change master toå’Œchange replication filterè¯­å¥<br>äºŒè¿›åˆ¶æ—¥å¿—æ§åˆ¶ï¼Œpurge binary logså’Œbinlogè¯­å¥<br>æ‰§è¡Œè§†å›¾æˆ–å­˜å‚¨ç¨‹åºæ—¶å¯ç”¨æˆæƒID<br>å…è®¸ä½¿ç”¨create server,alter serverå’Œdrop serverè¯­å¥<br>å…è®¸ä½¿ç”¨mysqladmin debugå‘½ä»¤<br>å¯ç”¨innodbå¯†é’¥è½®æ¢<br>ä½¿ç”¨des_encrypt()å‡½æ•°è¯»å–DESå¯†é’¥æ–‡ä»¶<br>ä½¿ç”¨ç‰ˆæœ¬ä»¤ç‰Œç”¨æˆ·å®šä¹‰å‡½æ•°<br>å¯¹ésuperå¸æˆ·å®¢æˆ·ç«¯è¿æ¥çš„æ§åˆ¶</p>
<blockquote>
<p>ä½¿ç”¨killè¯­å¥æˆ–è€…mysqladmin killå‘½ä»¤ç»ˆæ­¢å±äºå…¶ä»–ç”¨æˆ·çš„çº¿ç¨‹<br>å³ä½¿è¾¾åˆ°max_connectionsæ§åˆ¶çš„è¿æ¥é™åˆ¶ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šæˆå—æ¥è‡ªsuperå®¢æˆ·ç«¯çš„è¿æ¥<br>å³ä½¿ä½¿ç”¨äº†read_onlyç³»ç»Ÿå˜é‡ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œæ›´æ–°<br>superå®¢æˆ·ç«¯è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨ä¸æ‰§è¡Œinit_connectç³»ç»Ÿå˜é‡å†…å®¹<br>å¤„äºè„±æœºæ¨¡å¼offline_modeçš„æœåŠ¡å™¨ä¸ä¼šç»ˆæ­¢superå®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå¹¶æ¥å—æ¥è‡ªsuperå®¢æˆ·ç«¯çš„æ–°è¿æ¥<br>å¦‚æœå¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—è®°å½•ï¼Œå¯èƒ½è¿˜éœ€è¦superæƒé™åˆ›å»ºæˆ–æ›´æ”¹å­˜å‚¨è¿‡ç¨‹</p>
</blockquote>
<h5 id="trigger-æœåŠ¡å™¨"><a href="#trigger-æœåŠ¡å™¨" class="headerlink" title="trigger,æœåŠ¡å™¨"></a>trigger,æœåŠ¡å™¨</h5><p>è§¦å‘å™¨ã€‚åˆ›å»ºã€åˆ é™¤ã€æ‰§è¡Œã€æ˜¾ç¤ºè¯¥è¡¨çš„è§¦å‘å™¨</p>
<h5 id="update-è¡¨-åˆ—"><a href="#update-è¡¨-åˆ—" class="headerlink" title="update,è¡¨&#x2F;åˆ—"></a>update,è¡¨&#x2F;åˆ—</h5><p>æ›´æ–°è¡Œ</p>
<h5 id="usage-æœåŠ¡å™¨"><a href="#usage-æœåŠ¡å™¨" class="headerlink" title="usage,æœåŠ¡å™¨"></a>usage,æœåŠ¡å™¨</h5><p>æ²¡æœ‰ä»»ä½•æƒé™</p>
]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>9.1leetcode2240</title>
    <url>/2023/09/01/leetcode9-1/</url>
    <content><![CDATA[<p>You are given an integer <code>total</code> indicating the amount of money you have. You are also given two integers <code>cost1</code> and <code>cost2</code> indicating the price of a pen and pencil respectively. You can spend <strong>part or all</strong> of your money to buy multiple quantities (or none) of each kind of writing utensil.</p>
<p>Return <em>the <strong>number of distinct ways</strong> you can buy some number of pens and pencils.</em></p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: total = 20, cost1 = 10, cost2 = 5</span><br><span class="line">Output: 9</span><br><span class="line">Explanation: The price of a pen is 10 and the price of a pencil is 5.</span><br><span class="line">- If you buy 0 pens, you can buy 0, 1, 2, 3, or 4 pencils.</span><br><span class="line">- If you buy 1 pen, you can buy 0, 1, or 2 pencils.</span><br><span class="line">- If you buy 2 pens, you cannot buy any pencils.</span><br><span class="line">The total number of ways to buy pens and pencils is 5 + 3 + 1 = 9.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: total = 5, cost1 = 10, cost2 = 10</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The price of both pens and pencils are 10, which cost more than total, so you cannot buy any writing utensils. Therefore, there is only 1 way: buy 0 pens and 0 pencils.</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= total, cost1, cost2 &lt;= 106</code></p>
<span id="more"></span></li>
</ul>
<p>ä¸€ä¸ªæ•´æ•° <code>total</code> ï¼Œè¡¨ç¤ºä½ æ‹¥æœ‰çš„æ€»é’±æ•°ã€‚åŒæ—¶ç»™ä½ ä¸¤ä¸ªæ•´æ•° <code>cost1</code> å’Œ <code>cost2</code> ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸€æ”¯é’¢ç¬”å’Œä¸€æ”¯é“…ç¬”çš„ä»·æ ¼ã€‚ä½ å¯ä»¥èŠ±è´¹ä½ éƒ¨åˆ†æˆ–è€…å…¨éƒ¨çš„é’±ï¼Œå»ä¹°ä»»æ„æ•°ç›®çš„ä¸¤ç§ç¬”ã€‚</p>
<p>è¯·ä½ è¿”å›è´­ä¹°é’¢ç¬”å’Œé“…ç¬”çš„ <strong>ä¸åŒæ–¹æ¡ˆæ•°ç›®</strong> ã€‚</p>
<p>Resolution</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="comment">// 2240  2023-09-01 09:08:04</span></span><br><span class="line"><span class="comment">// leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">waysToBuyPensPencils</span><span class="params">(total <span class="type">int</span>, cost1 <span class="type">int</span>, cost2 <span class="type">int</span>)</span></span> <span class="type">int64</span> &#123;</span><br><span class="line">	ret, nums := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> nums*cost1 &lt;= total &#123;</span><br><span class="line">		ret += (total - nums*cost1) / cost2+<span class="number">1</span></span><br><span class="line">		nums++</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="type">int64</span>(ret)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>Gin</title>
    <url>/2023/08/31/gin/</url>
    <content><![CDATA[<h1 id="Gin-æ¡†æ¶çš„ä½¿ç”¨"><a href="#Gin-æ¡†æ¶çš„ä½¿ç”¨" class="headerlink" title="Gin æ¡†æ¶çš„ä½¿ç”¨"></a>Gin æ¡†æ¶çš„ä½¿ç”¨</h1><p><strong>Gin</strong> æ˜¯ä¸€ä¸ªç”¨ <strong>Go (Golang)</strong> ç¼–å†™çš„ HTTP Web æ¡†æ¶ã€‚ å®ƒå…·æœ‰ç±»ä¼¼ Martini çš„ APIï¼Œä½†æ€§èƒ½æ¯” Martini å¿« 40 å€ã€‚å¦‚æœä½ éœ€è¦æå¥½çš„æ€§èƒ½</p>
<span id="more"></span>

<h2 id="RESTfulçº¦å®š"><a href="#RESTfulçº¦å®š" class="headerlink" title="RESTfulçº¦å®š"></a>RESTfulçº¦å®š</h2><ul>
<li><code>GET</code>ç”¨æ¥è·å–èµ„æº</li>
<li><code>POST</code>ç”¨æ¥æ–°å»ºèµ„æº</li>
<li><code>PUT</code>ç”¨æ¥æ›´æ–°èµ„æº</li>
<li><code>DELETE</code>ç”¨æ¥åˆ é™¤èµ„æºã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.GET(<span class="string">&quot;/book&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Get&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.POST(<span class="string">&quot;/book&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Post&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.PUT(<span class="string">&quot;/book&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Put&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.DELETE(<span class="string">&quot;/book&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Delete&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	err := r.Run()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="GINæ¸²æŸ“"><a href="#GINæ¸²æŸ“" class="headerlink" title="GINæ¸²æŸ“"></a>GINæ¸²æŸ“</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;html/template&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	<span class="comment">//è‡ªå®šä¹‰å‡½æ•°</span></span><br><span class="line">	r.SetFuncMap(template.FuncMap&#123;</span><br><span class="line">		<span class="string">&quot;safe&quot;</span>: <span class="function"><span class="keyword">func</span><span class="params">(str <span class="type">string</span>)</span></span> template.HTML &#123;</span><br><span class="line">			<span class="keyword">return</span> template.HTML(str)</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//åŠ è½½é™æ€æ–‡ä»¶css img</span></span><br><span class="line">	r.Static(<span class="string">&quot;/xxx&quot;</span>, <span class="string">&quot;./static&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ¨¡æ¿è§£æ</span></span><br><span class="line">	<span class="comment">//r.LoadHTMLFiles(&quot;templates/get/index.tmpl&quot;, &quot;templates/put/index.tmpl&quot;)</span></span><br><span class="line">	r.LoadHTMLGlob(<span class="string">&quot;./templates/**/*&quot;</span>)</span><br><span class="line">	r.GET(<span class="string">&quot;/get/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123; <span class="comment">//æ¨¡æ¿æ¸²æŸ“</span></span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;get/index.tmpl&quot;</span>, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;title&quot;</span>: <span class="string">&quot;&lt;a href=&#x27;https://bilibili.com&#x27;&gt;bilibili&lt;/a&gt;&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.POST(<span class="string">&quot;/post/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123; <span class="comment">//æ¨¡æ¿æ¸²æŸ“</span></span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;post/index.tmpl&quot;</span>, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;title&quot;</span>: <span class="string">&quot;genshin&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.DELETE(<span class="string">&quot;/delete/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123; <span class="comment">//æ¨¡æ¿æ¸²æŸ“</span></span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;delete/index.tmpl&quot;</span>, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;title&quot;</span>: <span class="string">&quot;genshin&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//ä¸‹è½½çš„æ¨¡æ¿è¿”å›</span></span><br><span class="line">	r.PUT(<span class="string">&quot;/put/home&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123; <span class="comment">//æ¨¡æ¿æ¸²æŸ“</span></span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;home.html&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	err := r.Run(<span class="string">&quot;127.0.0.1:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»¥POSTä¸ºä¾‹,å…¶ä»–å¤§åŒå°å¼‚</p>
<p><code>./gin01template\templates\post\index.tmpl</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123;define &quot;post/index.tmpl&quot;&#125;&#125;</span><br><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>get<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;&#123;.title|safe&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// gin è¿”å›jsonåˆ°å‰ç«¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.GET(<span class="string">&quot;/json&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//1.ä½¿ç”¨ map</span></span><br><span class="line">		data := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">			<span class="string">&quot;name&quot;</span>:    <span class="string">&quot;king&quot;</span>,</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">			<span class="string">&quot;age&quot;</span>:     <span class="number">18</span>,</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//ginè‡ªå¸¦æ ¼å¼</span></span><br><span class="line">		data2 := gin.H&#123;</span><br><span class="line">			<span class="string">&quot;name&quot;</span>:    <span class="string">&quot;king&quot;</span>,</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">			<span class="string">&quot;age&quot;</span>:     <span class="number">18</span>,</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//ä½¿ç”¨ç»“æ„ä½“</span></span><br><span class="line">		<span class="keyword">type</span> msg <span class="keyword">struct</span> &#123;</span><br><span class="line">			<span class="comment">//goå¤§å†™ä¸å¯å¯¼å‡º,ä½¿ç”¨tagæ¥å®šåˆ¶åŒ–</span></span><br><span class="line">			Name    <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">			Message <span class="type">string</span> <span class="string">`json:&quot;message&quot;`</span></span><br><span class="line">			Age     <span class="type">int</span>    <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">		&#125;</span><br><span class="line">		data3 := msg&#123;</span><br><span class="line">			Name:    <span class="string">&quot;data3&quot;</span>,</span><br><span class="line">			Message: <span class="string">&quot;struct method build&quot;</span>,</span><br><span class="line">			Age:     <span class="number">1</span>,</span><br><span class="line">		&#125;</span><br><span class="line">		c.JSON(http.StatusOK, data)</span><br><span class="line">		c.JSON(http.StatusOK, data2)</span><br><span class="line">		c.JSON(http.StatusOK, data3)</span><br><span class="line">	&#125;)</span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Query"><a href="#Query" class="headerlink" title="Query"></a>Query</h2><p><code>querystring</code>æŒ‡çš„æ˜¯URLä¸­<code>?</code>åé¢æºå¸¦çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š<code>/user/search?username=zyuu&amp;address=tyue</code>ã€‚ è·å–è¯·æ±‚çš„querystringå‚æ•°çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›querystringå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.GET(<span class="string">&quot;/web&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//è·å–æµè§ˆå™¨è¯·æ±‚æºå¸¦çš„query Stringå‚æ•°</span></span><br><span class="line">		<span class="comment">//å¤šä¸ªå‚æ•°ç”¨&amp;è¿æ¥</span></span><br><span class="line">		name1 := c.Query(<span class="string">&quot;name1&quot;</span>)</span><br><span class="line">		name2 := c.DefaultQuery(<span class="string">&quot;name2&quot;</span>, <span class="string">&quot;golang&quot;</span>) <span class="comment">//é»˜è®¤å€¼</span></span><br><span class="line">		name3, ok := c.GetQuery(<span class="string">&quot;name3&quot;</span>)</span><br><span class="line">		<span class="keyword">if</span> !ok &#123;</span><br><span class="line">			<span class="comment">//å–ä¸åˆ°</span></span><br><span class="line">			name3 = <span class="string">&quot;somebody&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">			http://127.0.0.1:8080/web?name1=hello&amp;name2=world&amp;name3=golang</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;name1&quot;</span>: name1,</span><br><span class="line">			<span class="string">&quot;name2&quot;</span>: name2,</span><br><span class="line">			<span class="string">&quot;name3&quot;</span>: name3,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	err := r.Run(<span class="string">&quot;:8080&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="FORM"><a href="#FORM" class="headerlink" title="FORM"></a>FORM</h2><p>å½“å‰ç«¯è¯·æ±‚çš„æ•°æ®é€šè¿‡formè¡¨å•æäº¤æ—¶ï¼Œå‘é€ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œè·å–è¯·æ±‚æ•°æ®çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.LoadHTMLFiles(<span class="string">&quot;./login.html&quot;</span>, <span class="string">&quot;./index.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">	r.GET(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;login.html&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">// æ¥æ”¶ /loginçš„postè¯·æ±‚</span></span><br><span class="line">	r.POST(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//å’Œ indexçš„formä¸­çš„nameç»‘å®š,éœ€è¦ä¸€æ ·</span></span><br><span class="line">		username := c.DefaultPostForm(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;NO NAME&quot;</span>)</span><br><span class="line">		password, ok := c.GetPostForm(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">		<span class="keyword">if</span> !ok &#123;</span><br><span class="line">			password = <span class="string">&quot;no password get&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;index.html&quot;</span>, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;Name&quot;</span>:     username,</span><br><span class="line">			<span class="string">&quot;Password&quot;</span>: password,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">./login.html</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>password:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">./index.html</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello,&#123;&#123; .Name &#125;&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>your password is:&#123;&#123; .Password&#125;&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–è¯·æ±‚pathå‚æ•°uri</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.GET(<span class="string">&quot;/user/:name/:age&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//è·å–è·¯åŠ²å‚æ•°</span></span><br><span class="line">		name := c.Param(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">		age := c.Param(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">			<span class="string">&quot;age&quot;</span>:  age,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.GET(<span class="string">&quot;/blog/:year/:month/:day&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		year := c.Param(<span class="string">&quot;year&quot;</span>)</span><br><span class="line">		month := c.Param(<span class="string">&quot;month&quot;</span>)</span><br><span class="line">		day := c.Param(<span class="string">&quot;day&quot;</span>)</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;year&quot;</span>:  year,</span><br><span class="line">			<span class="string">&quot;month&quot;</span>: month,</span><br><span class="line">			<span class="string">&quot;day&quot;</span>:   day,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Bind"><a href="#Bind" class="headerlink" title="Bind"></a>Bind</h2><p>ä¸ºäº†èƒ½å¤Ÿæ›´æ–¹ä¾¿çš„è·å–è¯·æ±‚ç›¸å…³å‚æ•°ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºè¯·æ±‚çš„<code>Content-Type</code>è¯†åˆ«è¯·æ±‚æ•°æ®ç±»å‹å¹¶åˆ©ç”¨åå°„æœºåˆ¶è‡ªåŠ¨æå–è¯·æ±‚ä¸­<code>QueryString</code>ã€<code>formè¡¨å•</code>ã€<code>JSON</code>ã€<code>XML</code>ç­‰å‚æ•°åˆ°ç»“æ„ä½“ä¸­ã€‚ ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ¼”ç¤ºäº†<code>.ShouldBind()</code>å¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒèƒ½å¤ŸåŸºäºè¯·æ±‚è‡ªåŠ¨æå–<code>JSON</code>ã€<code>formè¡¨å•</code>å’Œ<code>QueryString</code>ç±»å‹çš„æ•°æ®ï¼Œå¹¶æŠŠå€¼ç»‘å®šåˆ°æŒ‡å®šçš„ç»“æ„ä½“å¯¹è±¡ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> userinfo <span class="keyword">struct</span> &#123;</span><br><span class="line">	Username <span class="type">string</span> <span class="string">`form:&quot;username&quot; json:&quot;username&quot;`</span></span><br><span class="line">	Password <span class="type">string</span> <span class="string">`form:&quot;password&quot; json:&quot;password&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.GET(<span class="string">&quot;/user&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		username := c.Query(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">		password := c.Query(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">		u := userinfo&#123;</span><br><span class="line">			Username: username,</span><br><span class="line">			Password: password,</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, u)</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">/*ä¸ºäº†èƒ½å¤Ÿæ›´æ–¹ä¾¿çš„è·å–è¯·æ±‚ç›¸å…³å‚æ•°ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œ</span></span><br><span class="line"><span class="comment">	æˆ‘ä»¬å¯ä»¥åŸºäºè¯·æ±‚çš„Content-Typeè¯†åˆ«è¯·æ±‚æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">	å¹¶åˆ©ç”¨åå°„æœºåˆ¶è‡ªåŠ¨æå–è¯·æ±‚ä¸­QueryStringã€formè¡¨å•ã€JSONã€XMLç­‰å‚æ•°åˆ°ç»“æ„ä½“ä¸­ã€‚</span></span><br><span class="line"><span class="comment">	.ShouldBind()åŸºäºè¯·æ±‚è‡ªåŠ¨æå–JSONã€formè¡¨å•å’ŒQueryStringç±»å‹çš„æ•°æ®ï¼Œå¹¶æŠŠå€¼ç»‘å®šåˆ°æŒ‡å®šçš„ç»“æ„ä½“å¯¹è±¡ã€‚*/</span></span><br><span class="line">	<span class="comment">//ShouldBind() querystring</span></span><br><span class="line">	r.GET(<span class="string">&quot;/query&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="keyword">var</span> u userinfo <span class="comment">//å£°æ˜éå†</span></span><br><span class="line">		err := c.ShouldBind(&amp;u)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			c.JSON(http.StatusBadRequest, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;error&quot;</span>: err.Error(),</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, u)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//ShouldBind() post</span></span><br><span class="line">	r.POST(<span class="string">&quot;/form&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="keyword">var</span> u userinfo <span class="comment">//å£°æ˜éå†</span></span><br><span class="line">		err := c.ShouldBind(&amp;u)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			c.JSON(http.StatusBadRequest, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;error&quot;</span>: err.Error(),</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, u)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//ShouldBind() json</span></span><br><span class="line">	r.POST(<span class="string">&quot;/json&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="keyword">var</span> u userinfo</span><br><span class="line">		err := c.ShouldBind(&amp;u)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			c.JSON(http.StatusBadRequest, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;error&quot;</span>: err.Error(),</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, u)</span><br><span class="line"></span><br><span class="line">	&#125;)</span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="SaveFiles"><a href="#SaveFiles" class="headerlink" title="SaveFiles"></a>SaveFiles</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">	<span class="string">&quot;path&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.LoadHTMLFiles(<span class="string">&quot;./index.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">	r.GET(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.HTML(http.StatusOK, <span class="string">&quot;index.html&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//å•æ–‡ä»¶</span></span><br><span class="line">	r.POST(<span class="string">&quot;/upload&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//ä»è¯·æ±‚ä¸­è¯»å–æ–‡ä»¶,å°†è¯»å–çš„æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°</span></span><br><span class="line">		f, err := c.FormFile(<span class="string">&quot;f1&quot;</span>) <span class="comment">//ä»è¯·æ±‚ä¸­è·å–</span></span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			c.JSON(http.StatusBadRequest, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;error&quot;</span>: err.Error(),</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">//ä¿å­˜æœ¬åœ°</span></span><br><span class="line">			<span class="comment">//dst := fmt.Sprintf(&quot;./%s&quot;, f.Filename)</span></span><br><span class="line">			dst := path.Join(<span class="string">&quot;./&quot;</span>, f.Filename)</span><br><span class="line">			err = c.SaveUploadedFile(f, dst)</span><br><span class="line">			<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">				<span class="built_in">panic</span>(err)</span><br><span class="line">			&#125;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//å¤šæ–‡ä»¶</span></span><br><span class="line">	r.POST(<span class="string">&quot;/uploadMultiFile&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//å¤šä¸ªæ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line">		f, err := c.MultipartForm() <span class="comment">//ä»è¯·æ±‚ä¸­è·å–</span></span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			c.JSON(http.StatusBadRequest, gin.H&#123;</span><br><span class="line">				<span class="string">&quot;error&quot;</span>: err.Error(),</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">/*&lt;input type=&quot;file&quot; name=&quot;fs&quot; id=&quot;fs&quot; multiple=&quot;multiple&quot; /&gt;</span></span><br><span class="line"><span class="comment">			ä¸­çš„nameå­—æ®µä¸fs := form.File[&quot;fs&quot;]ä¸­çš„ç´¢å¼•&quot;fs&quot;ç›¸å¯¹åº”ï¼Œ</span></span><br><span class="line"><span class="comment">			åŒä¸€ä¸ªbatchçš„æ–‡ä»¶å…±äº«ä¸€ä¸ªname</span></span><br><span class="line"><span class="comment">			*/</span></span><br><span class="line">			files := f.File[<span class="string">&quot;file&quot;</span>]</span><br><span class="line">			<span class="keyword">for</span> index, file := <span class="keyword">range</span> files &#123;</span><br><span class="line">				log.Println(file.Filename)</span><br><span class="line">				dst := fmt.Sprintf(<span class="string">&quot;./%d_%s&quot;</span>, index, file.Filename)</span><br><span class="line">				err = c.SaveUploadedFile(file, dst)</span><br><span class="line">				<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">					<span class="built_in">panic</span>(err)</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">./index.html</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/upload&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;f1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸Šä¼ &quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/uploadMultiFile&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">multiple</span>=<span class="string">&quot;multiple&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸Šä¼ &quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Redirect-é‡å®šå‘"><a href="#Redirect-é‡å®šå‘" class="headerlink" title="Redirect é‡å®šå‘"></a>Redirect é‡å®šå‘</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	<span class="comment">//HTTPçš„é‡å®šå‘</span></span><br><span class="line">	r.GET(<span class="string">&quot;/redirect&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.Redirect(http.StatusMovedPermanently, <span class="string">&quot;https://www.bilibili.com&quot;</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//è·¯ç”±ä»é‡å®šå‘</span></span><br><span class="line">	r.GET(<span class="string">&quot;/a&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.Request.URL.Path = <span class="string">&quot;/b&quot;</span> <span class="comment">//æŠŠè¯·æ±‚çš„uriä¿®æ”¹</span></span><br><span class="line">		r.HandleContext(c)        <span class="comment">//ç»§ç»­åç»­å¤„ç†</span></span><br><span class="line">	&#125;)</span><br><span class="line">	r.GET(<span class="string">&quot;/b&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;b&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Group"><a href="#Group" class="headerlink" title="Group"></a>Group</h2><p>Ginæ¡†æ¶ä¸­çš„è·¯ç”±ä½¿ç”¨çš„æ˜¯<a href="https://github.com/julienschmidt/httprouter">httprouter</a>è¿™ä¸ªåº“ã€‚</p>
<p>å…¶åŸºæœ¬åŸç†å°±æ˜¯æ„é€ ä¸€ä¸ªè·¯ç”±åœ°å€çš„å‰ç¼€æ ‘ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	<span class="comment">//è·¯ç”± å•ç‹¬å†™</span></span><br><span class="line">	r.GET(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;GET&quot;</span>&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.POST(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;post&quot;</span>&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.PUT(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;put&quot;</span>&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.DELETE(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;delete&quot;</span>&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//any</span></span><br><span class="line">	r.Any(<span class="string">&quot;/user&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="keyword">switch</span> c.Request.Method &#123;</span><br><span class="line">		<span class="keyword">case</span> http.MethodGet:</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;GET&quot;</span>&#125;)</span><br><span class="line">		<span class="keyword">case</span> http.MethodPost:</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;POST&quot;</span>&#125;)</span><br><span class="line">		<span class="keyword">case</span> http.MethodPut:</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;PUT&quot;</span>&#125;)</span><br><span class="line">		<span class="keyword">case</span> http.MethodDelete:</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;method&quot;</span>: <span class="string">&quot;DELETE&quot;</span>&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//NoRoute ä¸å­˜åœ¨çš„è·¯ç”±</span></span><br><span class="line">	r.NoRoute(<span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusNoContent, gin.H&#123;<span class="string">&quot;MSG&quot;</span>: <span class="string">&quot;NOT FOUND&quot;</span>&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åµŒå¥—</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//è·¯ç”±ç»„ æå–å…¬å…±å‰ç¼€</span></span><br><span class="line">	<span class="comment">//è§†é¢‘çš„é¦–é¡µå’Œè¯¦ç»†é¡µ</span></span><br><span class="line">	videoGroup := r.Group(<span class="string">&quot;/video&quot;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		videoGroup.GET(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;/video/index&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">		videoGroup.GET(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;/video/login&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">		videoGroup.POST(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;/video/login&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//å•†åŸçš„é¦–é¡µå’Œè¯¦ç»†é¡µ</span></span><br><span class="line">	ShopGroup := r.Group(<span class="string">&quot;/shop&quot;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		ShopGroup.GET(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;/shop/index&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">		ShopGroup.GET(<span class="string">&quot;/page2&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;/shop/page2&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">		ShopGroup.GET(<span class="string">&quot;/page3&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;/shop/page3&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">	err := r.Run(<span class="string">&quot;:8080&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Ginæ¡†æ¶å…è®¸å¼€å‘è€…åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œ</span></span><br><span class="line"><span class="comment">åŠ å…¥ç”¨æˆ·è‡ªå·±çš„é’©å­ï¼ˆHookï¼‰å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">è¿™ä¸ªé’©å­å‡½æ•°å°±å«ä¸­é—´ä»¶ï¼Œ</span></span><br><span class="line"><span class="comment">ä¸­é—´ä»¶é€‚åˆå¤„ç†ä¸€äº›å…¬å…±çš„ä¸šåŠ¡é€»è¾‘ï¼Œ</span></span><br><span class="line"><span class="comment">æ¯”å¦‚ç™»å½•è®¤è¯ã€æƒé™æ ¡éªŒã€æ•°æ®åˆ†é¡µã€è®°å½•æ—¥å¿—ã€è€—æ—¶ç»Ÿè®¡ç­‰</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	<span class="comment">//é»˜è®¤ä½¿ç”¨Defaultä¸­é—´ä»¶åŒ…å«Logger(), Recovery()</span></span><br><span class="line">	<span class="comment">//è‹¥ä¸æƒ³ç”¨</span></span><br><span class="line">	<span class="comment">//r:=gin.New()</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ³¨å†Œä¸­é—´ä»¶ åå¯åœ¨æ¥ä¸‹æ¥ä¸éœ€è¦å–åœ¨GETæ–¹æ³•ä¸­å†™StatCost()</span></span><br><span class="line">	r.Use(StatCost(), StatCost2())</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		r.GET(&quot;/index&quot;, StatCost(), func(c *gin.Context) &#123;</span></span><br><span class="line"><span class="comment">			c.JSON(http.StatusOK, gin.H&#123;&quot;message&quot;: &quot;index&quot;&#125;)</span></span><br><span class="line"><span class="comment">		&#125;)</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	r.GET(<span class="string">&quot;/index1&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		<span class="comment">//get()-&gt; StatCost2()çš„c.Set</span></span><br><span class="line">		name, ok := c.Get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">		<span class="keyword">if</span> !ok &#123;</span><br><span class="line">			name = <span class="string">&quot;lambda name&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;message&quot;</span>: name&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.GET(<span class="string">&quot;/index2&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;index2&quot;</span>&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//#region ä¸ºè·¯ç”±ç»„æ³¨å†Œ</span></span><br><span class="line">	<span class="comment">/*æ³•1*/</span></span><br><span class="line">	shopGroup := r.Group(<span class="string">&quot;/shop2&quot;</span>, StatCost())</span><br><span class="line">	&#123;</span><br><span class="line">		shopGroup.GET(<span class="string">&quot;/index&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;group&quot;</span>: <span class="string">&quot;get&quot;</span>&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*æ³•2*/</span></span><br><span class="line">	<span class="comment">/*	shopGroup2 := r.Group(&quot;/shop2&quot;)</span></span><br><span class="line"><span class="comment">		shopGroup2.Use(StatCost())</span></span><br><span class="line"><span class="comment">		&#123;</span></span><br><span class="line"><span class="comment">			shopGroup.GET(&quot;/index&quot;, func(c *gin.Context) &#123;</span></span><br><span class="line"><span class="comment">				c.JSON(http.StatusOK, gin.H&#123;&quot;m&quot;: &quot;m&quot;&#125;)</span></span><br><span class="line"><span class="comment">			&#125;)</span></span><br><span class="line"><span class="comment">		&#125;*/</span></span><br><span class="line">	<span class="comment">//#endregion</span></span><br><span class="line"></span><br><span class="line">	err := r.Run(<span class="string">&quot;:9090&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//StatCost ä¸ StatCost2 å‡å«æœ‰Next(),</span></span><br><span class="line"><span class="comment">//ç±»ä¼¼ä¸æ ˆ,stat1 -&gt; next() -&gt; stat2 -&gt; next() -&gt;lambdaFunc -&gt; stat2End -&gt; statEnd</span></span><br><span class="line"><span class="comment">//è‹¥statCost2 å«æœ‰Abort()ä¼šé˜»æ­¢åç»­è¿è¡Œ,è‡³æ­¤æ–¹æ³•ç»“æŸ</span></span><br><span class="line"><span class="comment">//ç±»ä¼¼ä¸æ ˆ,stat1 -&gt; next() -&gt; stat2 -&gt; Abort() -&gt; stat2End</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*æƒé™åˆ¤æ–­</span></span><br><span class="line"><span class="comment">if ç¬¦åˆ</span></span><br><span class="line"><span class="comment">Next()</span></span><br><span class="line"><span class="comment">else</span></span><br><span class="line"><span class="comment">Abort()*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// StatCost  å®šä¹‰ Ginä¸­çš„ä¸­é—´ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªgin.HandlerFuncç±»å‹ã€‚</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	@Description: ç»Ÿè®¡è€—æ—¶</span></span><br><span class="line"><span class="comment">//	@return gin.HandlerFunc</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StatCost</span><span class="params">()</span></span> gin.HandlerFunc &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;------------start------------&quot;</span>)</span><br><span class="line">		start := time.Now()</span><br><span class="line">		<span class="comment">//å½“åœ¨ä¸­é—´ä»¶æˆ–handlerä¸­å¯åŠ¨æ–°çš„goroutineæ—¶</span></span><br><span class="line">		<span class="comment">//ä¸èƒ½ä½¿ç”¨åŸå§‹çš„ä¸Šä¸‹æ–‡ï¼ˆc *gin.Contextï¼‰</span></span><br><span class="line">		<span class="comment">//å¿…é¡»ä½¿ç”¨å…¶åªè¯»å‰¯æœ¬ï¼ˆc.Copy()ï¼‰</span></span><br><span class="line">		<span class="comment">/*go funcXXX(c.Copy())*/</span></span><br><span class="line">		c.Next() <span class="comment">//è°ƒç”¨åç»­çš„å‡½æ•°</span></span><br><span class="line">		<span class="comment">//c.Abort()//ç»„ç»‡è°ƒç”¨åç»­å‡½æ•°</span></span><br><span class="line">		cost := time.Since(start)</span><br><span class="line">		fmt.Println(<span class="string">&quot;------------end------------&quot;</span>)</span><br><span class="line">		log.Printf(<span class="string">&quot;[Log] cost:%v\n&quot;</span>, cost)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// StatCost2</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	@Description: æ ˆæ€æƒ³</span></span><br><span class="line"><span class="comment">//	@return gin.HandlerFunc</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StatCost2</span><span class="params">()</span></span> gin.HandlerFunc &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;------start------&quot;</span>)</span><br><span class="line">		c.Set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;SetSuccess&quot;</span>)</span><br><span class="line">		c.Next() <span class="comment">//è°ƒç”¨åç»­çš„å‡½æ•°</span></span><br><span class="line">		fmt.Println(<span class="string">&quot;------end-------&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Gin</tag>
      </tags>
  </entry>
</search>
